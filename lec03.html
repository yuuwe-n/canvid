<div class="transcript-body" style="height: 206px;"><span class="transcription-time-part" data-time-start="4.13" data-time-end="6.479"><span>Today I want to look at a </span></span><span class="transcription-time-part" data-time-start="6.479" data-time-end="7.845"><span>little bit more about </span></span><span class="transcription-time-part" data-time-start="7.845" data-time-end="10.349"><span>separate compilation and some issues coming </span></span><span class="transcription-time-part" data-time-start="10.349" data-time-end="13.409"><span>up that will be relevant for, for project 1. </span></span><span class="transcription-time-part active" data-time-start="13.409" data-time-end="15.959"><span>So what we looked at last time </span></span><span class="transcription-time-part" data-time-start="15.959" data-time-end="18.69"><span>was issues of separate compilation. </span></span><span class="transcription-time-part" data-time-start="18.69" data-time-end="20.609"><span>What happens is the compiler </span></span><span class="transcription-time-part" data-time-start="20.609" data-time-end="22.44"><span>takes each of your source files, </span></span><span class="transcription-time-part" data-time-start="22.44" data-time-end="25.32"><span>it compiles it producing an object file. </span></span><span class="transcription-time-part" data-time-start="25.32" data-time-end="27.194"><span>And with the object file contains </span></span><span class="transcription-time-part" data-time-start="27.194" data-time-end="29.129"><span>is the translation of </span></span><span class="transcription-time-part" data-time-start="29.129" data-time-end="30.645"><span>the code in your source file. </span></span><span class="transcription-time-part" data-time-start="30.645" data-time-end="31.529"><span>It's a translation of </span></span><span class="transcription-time-part" data-time-start="31.529" data-time-end="32.58"><span>the code for all the functions. </span></span><span class="transcription-time-part" data-time-start="32.58" data-time-end="33.669"><span>You've got. </span></span><span class="transcription-time-part" data-time-start="33.669" data-time-end="37.58"><span>Any sort of global objects, </span></span><span class="transcription-time-part" data-time-start="37.58" data-time-end="39.199"><span>not local variables, </span></span><span class="transcription-time-part" data-time-start="39.199" data-time-end="40.7"><span>but the global objects </span></span><span class="transcription-time-part" data-time-start="40.7" data-time-end="42.41"><span>predominantly for most people that will </span></span><span class="transcription-time-part" data-time-start="42.41" data-time-end="44.149"><span>be things like Libre </span></span><span class="transcription-time-part" data-time-start="44.149" data-time-end="45.62"><span>has global objects like std, </span></span><span class="transcription-time-part" data-time-start="45.62" data-time-end="47.254"><span>colon, colon C out. </span></span><span class="transcription-time-part" data-time-start="47.254" data-time-end="49.07"><span>We're not making much use of </span></span><span class="transcription-time-part" data-time-start="49.07" data-time-end="50.299"><span>global variables except </span></span><span class="transcription-time-part" data-time-start="50.299" data-time-end="51.62"><span>perhaps global constants. </span></span><span class="transcription-time-part" data-time-start="51.62" data-time-end="53.929"><span>So, so our object files and we have </span></span><span class="transcription-time-part" data-time-start="53.929" data-time-end="55.22"><span>a global constant that'll </span></span><span class="transcription-time-part" data-time-start="55.22" data-time-end="56.63"><span>be, that'll be in there. </span></span><span class="transcription-time-part" data-time-start="56.63" data-time-end="58.22"><span>And then there'll be two lists, </span></span><span class="transcription-time-part" data-time-start="58.22" data-time-end="61.249"><span>a list of the names that we define. </span></span><span class="transcription-time-part" data-time-start="61.249" data-time-end="64.22"><span>So functions we implement </span></span><span class="transcription-time-part" data-time-start="64.22" data-time-end="67.009"><span>global variables we declare, </span></span><span class="transcription-time-part" data-time-start="67.009" data-time-end="68.84"><span>and global names that we need. </span></span><span class="transcription-time-part" data-time-start="68.84" data-time-end="71.089"><span>So if a source file </span></span><span class="transcription-time-part" data-time-start="71.089" data-time-end="73.085"><span>calls a function and </span></span><span class="transcription-time-part" data-time-start="73.085" data-time-end="74.269"><span>it needs to be defined somewhere, </span></span><span class="transcription-time-part" data-time-start="74.269" data-time-end="75.559"><span>the implementation has to be somewhere </span></span><span class="transcription-time-part" data-time-start="75.559" data-time-end="77.15"><span>that'll be in the list of needs. </span></span><span class="transcription-time-part" data-time-start="77.15" data-time-end="79.01"><span>And so the linker brings everything together, </span></span><span class="transcription-time-part" data-time-start="79.01" data-time-end="80.809"><span>tying it together along with the, </span></span><span class="transcription-time-part" data-time-start="80.809" data-time-end="83.03"><span>the libraries and the </span></span><span class="transcription-time-part" data-time-start="83.03" data-time-end="85.009"><span>rules for linking we talked about. </span></span><span class="transcription-time-part" data-time-start="85.009" data-time-end="86.48"><span>You can't have more than </span></span><span class="transcription-time-part" data-time-start="86.48" data-time-end="88.145"><span>one definition for something. </span></span><span class="transcription-time-part" data-time-start="88.145" data-time-end="89.599"><span>So you can't implement </span></span><span class="transcription-time-part" data-time-start="89.599" data-time-end="91.819"><span>the exact same function </span></span><span class="transcription-time-part" data-time-start="91.819" data-time-end="93.5"><span>with the same number of arguments, </span></span><span class="transcription-time-part" data-time-start="93.5" data-time-end="95.45"><span>same types of arguments, more than once. </span></span><span class="transcription-time-part" data-time-start="95.45" data-time-end="96.86"><span>In particular, you can't have </span></span><span class="transcription-time-part" data-time-start="96.86" data-time-end="98.989"><span>more than one main routine and </span></span><span class="transcription-time-part" data-time-start="98.989" data-time-end="99.83"><span>every knee has to be </span></span><span class="transcription-time-part" data-time-start="99.83" data-time-end="101.254"><span>satisfied by some definition. </span></span><span class="transcription-time-part" data-time-start="101.254" data-time-end="103.459"><span>And so I and I noted the linker will give </span></span><span class="transcription-time-part" data-time-start="103.459" data-time-end="104.57"><span>you error messages if </span></span><span class="transcription-time-part" data-time-start="104.57" data-time-end="106.069"><span>you violate this, if you, </span></span><span class="transcription-time-part" data-time-start="106.069" data-time-end="108.229"><span>if you call a function that you'd </span></span><span class="transcription-time-part" data-time-start="108.229" data-time-end="111.004"><span>never implemented anywhere down, </span></span><span class="transcription-time-part" data-time-start="111.004" data-time-end="114.395"><span>the compiler will give you some message about </span></span><span class="transcription-time-part" data-time-start="114.395" data-time-end="116.27"><span>an unresolved external reference </span></span><span class="transcription-time-part" data-time-start="116.27" data-time-end="118.234"><span>or an undefined reference, </span></span><span class="transcription-time-part" data-time-start="118.234" data-time-end="120.814"><span>an undefined name, something like that. </span></span><span class="transcription-time-part" data-time-start="120.814" data-time-end="123.169"><span>If you define something more than once, </span></span><span class="transcription-time-part" data-time-start="123.169" data-time-end="123.739"><span>you'll get something </span></span><span class="transcription-time-part" data-time-start="123.739" data-time-end="125.149"><span>about multiple definitions. </span></span><span class="transcription-time-part" data-time-start="125.149" data-time-end="127.88"><span>So let me look at some issues </span></span><span class="transcription-time-part" data-time-start="127.88" data-time-end="129.02"><span>involved with </span></span><span class="transcription-time-part" data-time-start="129.02" data-time-end="131.18"><span>separate compilation that come up here. </span></span><span class="transcription-time-part" data-time-start="131.18" data-time-end="134.014"><span>So let me bring up a, </span></span><span class="transcription-time-part" data-time-start="134.014" data-time-end="136.235"><span>again, we have some graphics application. </span></span><span class="transcription-time-part" data-time-start="136.235" data-time-end="139.294"><span>And so here's what I want to try to do. </span></span><span class="transcription-time-part" data-time-start="139.294" data-time-end="141.469"><span>I have a dot h which defines </span></span><span class="transcription-time-part" data-time-start="141.469" data-time-end="144.139"><span>a point class that was provided. </span></span><span class="transcription-time-part" data-time-start="144.139" data-time-end="146.179"><span>We're providing for people. </span></span><span class="transcription-time-part" data-time-start="146.179" data-time-end="148.37"><span>Circle dot h defines a circle type. </span></span><span class="transcription-time-part" data-time-start="148.37" data-time-end="150.724"><span>In particular, circles are implemented </span></span><span class="transcription-time-part" data-time-start="150.724" data-time-end="152.96"><span>using point in order </span></span><span class="transcription-time-part" data-time-start="152.96" data-time-end="155.179"><span>to specify the center of the circle. </span></span><span class="transcription-time-part" data-time-start="155.179" data-time-end="157.085"><span>So circle dot h </span></span><span class="transcription-time-part" data-time-start="157.085" data-time-end="158.825"><span>is going to make use of quaint. </span></span><span class="transcription-time-part" data-time-start="158.825" data-time-end="162.994"><span>Now, a client may try to do this. </span></span><span class="transcription-time-part" data-time-start="162.994" data-time-end="165.679"><span>I want to use a circle. </span></span><span class="transcription-time-part" data-time-start="165.679" data-time-end="167.75"><span>And so the simple rule </span></span><span class="transcription-time-part" data-time-start="167.75" data-time-end="169.609"><span>for clients to remember, </span></span><span class="transcription-time-part" data-time-start="169.609" data-time-end="172.084"><span>the one you want it to be implementing. </span></span><span class="transcription-time-part" data-time-start="172.084" data-time-end="173.81"><span>Simple rule should be, </span></span><span class="transcription-time-part" data-time-start="173.81" data-time-end="175.265"><span>if I want to use a tight, </span></span><span class="transcription-time-part" data-time-start="175.265" data-time-end="176.81"><span>I'll include the appropriate header </span></span><span class="transcription-time-part" data-time-start="176.81" data-time-end="178.07"><span>that defines that time. </span></span><span class="transcription-time-part" data-time-start="178.07" data-time-end="179.57"><span>That's the simple rule. </span></span><span class="transcription-time-part" data-time-start="179.57" data-time-end="181.024"><span>If I want to use a circle, </span></span><span class="transcription-time-part" data-time-start="181.024" data-time-end="182.24"><span>I should just have to include </span></span><span class="transcription-time-part" data-time-start="182.24" data-time-end="184.415"><span>circle dot h and that's good enough. </span></span><span class="transcription-time-part" data-time-start="184.415" data-time-end="185.915"><span>Well, we try this, of course, </span></span><span class="transcription-time-part" data-time-start="185.915" data-time-end="187.354"><span>it won't compile. </span></span><span class="transcription-time-part" data-time-start="187.354" data-time-end="190.129"><span>When the compiler tries to process </span></span><span class="transcription-time-part" data-time-start="190.129" data-time-end="192.725"><span>myapp dot CPP and comes to 0, </span></span><span class="transcription-time-part" data-time-start="192.725" data-time-end="194.345"><span>you're including circle dot h. </span></span><span class="transcription-time-part" data-time-start="194.345" data-time-end="195.154"><span>Okay? </span></span><span class="transcription-time-part" data-time-start="195.154" data-time-end="197.12"><span>I will remember where </span></span><span class="transcription-time-part" data-time-start="197.12" data-time-end="198.305"><span>I am and come back here. </span></span><span class="transcription-time-part" data-time-start="198.305" data-time-end="200.84"><span>Let's go process circle dot h, circle. </span></span><span class="transcription-time-part" data-time-start="200.84" data-time-end="202.16"><span>That says, okay, here's what it </span></span><span class="transcription-time-part" data-time-start="202.16" data-time-end="203.809"><span>means to be a circle, okay? </span></span><span class="transcription-time-part" data-time-start="203.809" data-time-end="206.944"><span>And at that point, what's a point? </span></span><span class="transcription-time-part" data-time-start="206.944" data-time-end="208.49"><span>And so the compiler will give you </span></span><span class="transcription-time-part" data-time-start="208.49" data-time-end="210.455"><span>a compilation error about this line. </span></span><span class="transcription-time-part" data-time-start="210.455" data-time-end="212.57"><span>It doesn't know what a point is. </span></span><span class="transcription-time-part" data-time-start="212.57" data-time-end="214.19"><span>Now, the wrong way to </span></span><span class="transcription-time-part" data-time-start="214.19" data-time-end="216.154"><span>fix that would be to say, </span></span><span class="transcription-time-part" data-time-start="216.154" data-time-end="218.675"><span>oh, hey, people who were using my, </span></span><span class="transcription-time-part" data-time-start="218.675" data-time-end="221.389"><span>my, my graphics library. </span></span><span class="transcription-time-part" data-time-start="221.389" data-time-end="223.595"><span>Want to use a circle, </span></span><span class="transcription-time-part" data-time-start="223.595" data-time-end="224.899"><span>you need to include </span></span><span class="transcription-time-part" data-time-start="224.899" data-time-end="227.21"><span>point dot h and circle dot </span></span><span class="transcription-time-part" data-time-start="227.21" data-time-end="229.099"><span>h. And you have to include </span></span><span class="transcription-time-part" data-time-start="229.099" data-time-end="230.51"><span>point dot h before you </span></span><span class="transcription-time-part" data-time-start="230.51" data-time-end="233"><span>and you include circle dot h. </span></span><span class="transcription-time-part" data-time-start="233" data-time-end="236.3"><span>So if that's my rule, </span></span><span class="transcription-time-part" data-time-start="236.3" data-time-end="237.47"><span>I tell people and </span></span><span class="transcription-time-part" data-time-start="237.47" data-time-end="239.479"><span>they do that, this will be fine. </span></span><span class="transcription-time-part" data-time-start="239.479" data-time-end="243.14"><span>The compiler will first include point dot h, </span></span><span class="transcription-time-part" data-time-start="243.14" data-time-end="244.399"><span>which provides a definition </span></span><span class="transcription-time-part" data-time-start="244.399" data-time-end="245.689"><span>of what it means to be a point. </span></span><span class="transcription-time-part" data-time-start="245.689" data-time-end="247.55"><span>Then when it gets to circle dot h, </span></span><span class="transcription-time-part" data-time-start="247.55" data-time-end="248.66"><span>the compiler says, Okay, </span></span><span class="transcription-time-part" data-time-start="248.66" data-time-end="250.339"><span>fine, you're defining a circle. </span></span><span class="transcription-time-part" data-time-start="250.339" data-time-end="251.69"><span>I know what a point is. </span></span><span class="transcription-time-part" data-time-start="251.69" data-time-end="252.949"><span>Everything's fine. </span></span><span class="transcription-time-part" data-time-start="252.949" data-time-end="255.14"><span>And so now we have it, we have a circle here. </span></span><span class="transcription-time-part" data-time-start="255.14" data-time-end="256.94"><span>But that's a terrible thing </span></span><span class="transcription-time-part" data-time-start="256.94" data-time-end="258.289"><span>to do to your users. </span></span><span class="transcription-time-part" data-time-start="258.289" data-time-end="259.159"><span>If you're the designer </span></span><span class="transcription-time-part" data-time-start="259.159" data-time-end="260.435"><span>and the graphics library, </span></span><span class="transcription-time-part" data-time-start="260.435" data-time-end="263.69"><span>you have a whole complicated set of rules. </span></span><span class="transcription-time-part" data-time-start="263.69" data-time-end="265.67"><span>If I want to use, if you want to </span></span><span class="transcription-time-part" data-time-start="265.67" data-time-end="267.334"><span>use appoint conclude point dot h. </span></span><span class="transcription-time-part" data-time-start="267.334" data-time-end="268.835"><span>If you want to use a circle, </span></span><span class="transcription-time-part" data-time-start="268.835" data-time-end="271.339"><span>you have to include point dotage and </span></span><span class="transcription-time-part" data-time-start="271.339" data-time-end="274.265"><span>circle that h in that order. </span></span><span class="transcription-time-part" data-time-start="274.265" data-time-end="277.384"><span>And that leads to a whole bunch of rules. </span></span><span class="transcription-time-part" data-time-start="277.384" data-time-end="279.919"><span>If you want to use a blob object, </span></span><span class="transcription-time-part" data-time-start="279.919" data-time-end="281.539"><span>you have to include these other </span></span><span class="transcription-time-part" data-time-start="281.539" data-time-end="284.36"><span>three had header files in a certain order. </span></span><span class="transcription-time-part" data-time-start="284.36" data-time-end="286.219"><span>That's, that's too much to remember. </span></span><span class="transcription-time-part" data-time-start="286.219" data-time-end="288.139"><span>You want this simple rule. </span></span><span class="transcription-time-part" data-time-start="288.139" data-time-end="289.94"><span>The simple rule is, </span></span><span class="transcription-time-part" data-time-start="289.94" data-time-end="292.324"><span>if you want to use a circle, </span></span><span class="transcription-time-part" data-time-start="292.324" data-time-end="293.509"><span>include circle dot h. </span></span><span class="transcription-time-part" data-time-start="293.509" data-time-end="294.784"><span>If you want to use oblige, </span></span><span class="transcription-time-part" data-time-start="294.784" data-time-end="296.089"><span>include blood RH, and </span></span><span class="transcription-time-part" data-time-start="296.089" data-time-end="297.544"><span>you shouldn't have to know anything else. </span></span><span class="transcription-time-part" data-time-start="297.544" data-time-end="299.87"><span>Because after all, if I'm a user, </span></span><span class="transcription-time-part" data-time-start="299.87" data-time-end="302"><span>a circle, I would ask you, </span></span><span class="transcription-time-part" data-time-start="302" data-time-end="303.799"><span>why do I have to include point dot h? </span></span><span class="transcription-time-part" data-time-start="303.799" data-time-end="305.03"><span>I'm not talking about points, </span></span><span class="transcription-time-part" data-time-start="305.03" data-time-end="306.244"><span>I'm talking about cerebral. </span></span><span class="transcription-time-part" data-time-start="306.244" data-time-end="307.91"><span>And if your answer is a well, </span></span><span class="transcription-time-part" data-time-start="307.91" data-time-end="310.445"><span>But circle is implemented using a point, </span></span><span class="transcription-time-part" data-time-start="310.445" data-time-end="312.32"><span>then you say, well, why do I care? </span></span><span class="transcription-time-part" data-time-start="312.32" data-time-end="313.999"><span>I'm using a circle, I should not </span></span><span class="transcription-time-part" data-time-start="313.999" data-time-end="315.874"><span>care about how it's implemented. </span></span><span class="transcription-time-part" data-time-start="315.874" data-time-end="319.309"><span>So, so the solution </span></span><span class="transcription-time-part" data-time-start="319.309" data-time-end="323.104"><span>is if a header file </span></span><span class="transcription-time-part" data-time-start="323.104" data-time-end="325.414"><span>in order to compile successfully, </span></span><span class="transcription-time-part" data-time-start="325.414" data-time-end="328.414"><span>needs to know about some other, </span></span><span class="transcription-time-part" data-time-start="328.414" data-time-end="330.679"><span>some other types, then </span></span><span class="transcription-time-part" data-time-start="330.679" data-time-end="331.789"><span>the header file should be </span></span><span class="transcription-time-part" data-time-start="331.789" data-time-end="333.409"><span>responsible for making sure </span></span><span class="transcription-time-part" data-time-start="333.409" data-time-end="335.329"><span>that both those names are defined. </span></span><span class="transcription-time-part" data-time-start="335.329" data-time-end="337.04"><span>So if circle at </span></span><span class="transcription-time-part" data-time-start="337.04" data-time-end="338.885"><span>H is going to be talking about points, </span></span><span class="transcription-time-part" data-time-start="338.885" data-time-end="340.639"><span>it should be on circle dot h to </span></span><span class="transcription-time-part" data-time-start="340.639" data-time-end="341.99"><span>include point dot h </span></span><span class="transcription-time-part" data-time-start="341.99" data-time-end="344.069"><span>to make sure that happens. </span></span><span class="transcription-time-part" data-time-start="350.82" data-time-end="354.714"><span>Yeah, our clients is very simple rule, </span></span><span class="transcription-time-part" data-time-start="354.714" data-time-end="356.32"><span>if you want to use a circle, </span></span><span class="transcription-time-part" data-time-start="356.32" data-time-end="357.88"><span>include circle dot h. </span></span><span class="transcription-time-part" data-time-start="357.88" data-time-end="359.349"><span>So what will happen of course is </span></span><span class="transcription-time-part" data-time-start="359.349" data-time-end="360.85"><span>this will now work the compiler </span></span><span class="transcription-time-part" data-time-start="360.85" data-time-end="363.04"><span>when compiling myapp dot cpp, </span></span><span class="transcription-time-part" data-time-start="363.04" data-time-end="364.569"><span>we'll start by saying, </span></span><span class="transcription-time-part" data-time-start="364.569" data-time-end="366.489"><span>okay, I'll, I'll include circle at H. </span></span><span class="transcription-time-part" data-time-start="366.489" data-time-end="368.289"><span>Then I'll continue circle about </span></span><span class="transcription-time-part" data-time-start="368.289" data-time-end="370.209"><span>age being included starts off </span></span><span class="transcription-time-part" data-time-start="370.209" data-time-end="372.504"><span>by saying I'm going to include point dot h. </span></span><span class="transcription-time-part" data-time-start="372.504" data-time-end="374.11"><span>So find the compiler </span></span><span class="transcription-time-part" data-time-start="374.11" data-time-end="375.789"><span>processes the declaration of points. </span></span><span class="transcription-time-part" data-time-start="375.789" data-time-end="378.22"><span>So now we know what a point is and now </span></span><span class="transcription-time-part" data-time-start="378.22" data-time-end="379.54"><span>continues and processes </span></span><span class="transcription-time-part" data-time-start="379.54" data-time-end="380.755"><span>the declaration of circle, </span></span><span class="transcription-time-part" data-time-start="380.755" data-time-end="382.255"><span>knowing what a point is. </span></span><span class="transcription-time-part" data-time-start="382.255" data-time-end="384.325"><span>So, so everything's fine. </span></span><span class="transcription-time-part" data-time-start="384.325" data-time-end="386.425"><span>By the time we're done with circle dot h, </span></span><span class="transcription-time-part" data-time-start="386.425" data-time-end="387.939"><span>We know what a surplus. </span></span><span class="transcription-time-part" data-time-start="387.939" data-time-end="389.349"><span>We also happen to know what a point </span></span><span class="transcription-time-part" data-time-start="389.349" data-time-end="390.85"><span>is that was incidental. </span></span><span class="transcription-time-part" data-time-start="390.85" data-time-end="392.65"><span>But, but we know what a circle is, </span></span><span class="transcription-time-part" data-time-start="392.65" data-time-end="394.555"><span>so, so we're happy. </span></span><span class="transcription-time-part" data-time-start="394.555" data-time-end="396.159"><span>Okay. </span></span><span class="transcription-time-part" data-time-start="396.159" data-time-end="399.19"><span>Well, that's not the whole story. </span></span><span class="transcription-time-part" data-time-start="399.19" data-time-end="405.139"><span>What if the client also wants to use a point? </span></span><span class="transcription-time-part" data-time-start="406.68" data-time-end="409.149"><span>So I want to have a </span></span><span class="transcription-time-part" data-time-start="409.149" data-time-end="411.939"><span>pointed at some coordinate, </span></span><span class="transcription-time-part" data-time-start="411.939" data-time-end="413.41"><span>say x-coordinate 2, y coordinate </span></span><span class="transcription-time-part" data-time-start="413.41" data-time-end="415.314"><span>for whatever the point constructor uses. </span></span><span class="transcription-time-part" data-time-start="415.314" data-time-end="417.699"><span>So as a client I say, </span></span><span class="transcription-time-part" data-time-start="417.699" data-time-end="419.439"><span>well, let's see. If I want. </span></span><span class="transcription-time-part" data-time-start="419.439" data-time-end="420.579"><span>The simple rule that I </span></span><span class="transcription-time-part" data-time-start="420.579" data-time-end="422.109"><span>know is if I want to use a circle, </span></span><span class="transcription-time-part" data-time-start="422.109" data-time-end="423.159"><span>I'll include circle dot </span></span><span class="transcription-time-part" data-time-start="423.159" data-time-end="424.479"><span>h. If I want to use a point, </span></span><span class="transcription-time-part" data-time-start="424.479" data-time-end="425.53"><span>I'll include point dot </span></span><span class="transcription-time-part" data-time-start="425.53" data-time-end="428.32"><span>h. Because I should </span></span><span class="transcription-time-part" data-time-start="428.32" data-time-end="430.375"><span>not have to know as a client of this type, </span></span><span class="transcription-time-part" data-time-start="430.375" data-time-end="432.49"><span>I should not have to know that </span></span><span class="transcription-time-part" data-time-start="432.49" data-time-end="434.68"><span>circle is implemented using point. </span></span><span class="transcription-time-part" data-time-start="434.68" data-time-end="435.594"><span>Circle might be implemented </span></span><span class="transcription-time-part" data-time-start="435.594" data-time-end="436.81"><span>not using point, maybe. </span></span><span class="transcription-time-part" data-time-start="436.81" data-time-end="438.309"><span>The circle type doesn't use </span></span><span class="transcription-time-part" data-time-start="438.309" data-time-end="439.93"><span>point at all. It just has two doubles. </span></span><span class="transcription-time-part" data-time-start="439.93" data-time-end="440.92"><span>I don't have to know. </span></span><span class="transcription-time-part" data-time-start="440.92" data-time-end="442.36"><span>I shouldn't have to know that. </span></span><span class="transcription-time-part" data-time-start="442.36" data-time-end="445.614"><span>Well, unfortunately, if I </span></span><span class="transcription-time-part" data-time-start="445.614" data-time-end="447.009"><span>if I tried to finding </span></span><span class="transcription-time-part" data-time-start="447.009" data-time-end="449.455"><span>this, this won't compile. </span></span><span class="transcription-time-part" data-time-start="449.455" data-time-end="451.629"><span>What happens when I process, </span></span><span class="transcription-time-part" data-time-start="451.629" data-time-end="453.339"><span>when I compile myapp dot cpp, </span></span><span class="transcription-time-part" data-time-start="453.339" data-time-end="454.509"><span>the compiler says, Okay, </span></span><span class="transcription-time-part" data-time-start="454.509" data-time-end="456.489"><span>you want to include circle dot h, fine. </span></span><span class="transcription-time-part" data-time-start="456.489" data-time-end="460.359"><span>So I'll start by including circle dot h, </span></span><span class="transcription-time-part" data-time-start="460.359" data-time-end="463.15"><span>which starts by including point dot h. So </span></span><span class="transcription-time-part" data-time-start="463.15" data-time-end="466.494"><span>we have a declaration of point, okay? </span></span><span class="transcription-time-part" data-time-start="466.494" data-time-end="469.57"><span>And now we finish up circle dot h, Okay? </span></span><span class="transcription-time-part" data-time-start="469.57" data-time-end="471.655"><span>We know what a point is all as well. </span></span><span class="transcription-time-part" data-time-start="471.655" data-time-end="472.96"><span>And so when we come out </span></span><span class="transcription-time-part" data-time-start="472.96" data-time-end="474.399"><span>of this declaration of </span></span><span class="transcription-time-part" data-time-start="474.399" data-time-end="475.6"><span>this include a circle dot </span></span><span class="transcription-time-part" data-time-start="475.6" data-time-end="477.31"><span>h. We know what a point is, </span></span><span class="transcription-time-part" data-time-start="477.31" data-time-end="479.449"><span>we know what a circle is. </span></span><span class="transcription-time-part" data-time-start="479.49" data-time-end="485.26"><span>But then we include point dot h here. </span></span><span class="transcription-time-part" data-time-start="485.26" data-time-end="488.65"><span>So the compiler processes this declaration of </span></span><span class="transcription-time-part" data-time-start="488.65" data-time-end="490.194"><span>the point type and </span></span><span class="transcription-time-part" data-time-start="490.194" data-time-end="492.474"><span>that's going to lead to a compilation error. </span></span><span class="transcription-time-part" data-time-start="492.474" data-time-end="497.049"><span>The reason being that if you're compiling </span></span><span class="transcription-time-part" data-time-start="497.049" data-time-end="499.12"><span>a file and the file </span></span><span class="transcription-time-part" data-time-start="499.12" data-time-end="504.069"><span>defines say, some class a. </span></span><span class="transcription-time-part" data-time-start="504.069" data-time-end="506.964"><span>And later on in the file, </span></span><span class="transcription-time-part" data-time-start="506.964" data-time-end="510.73"><span>we also define the name a again, </span></span><span class="transcription-time-part" data-time-start="510.73" data-time-end="512.619"><span>even if it's identical, </span></span><span class="transcription-time-part" data-time-start="512.619" data-time-end="514.239"><span>even if the deck with whatever </span></span><span class="transcription-time-part" data-time-start="514.239" data-time-end="516.219"><span>the implementation of the type </span></span><span class="transcription-time-part" data-time-start="516.219" data-time-end="518.199"><span>a or whatever the declaration </span></span><span class="transcription-time-part" data-time-start="518.199" data-time-end="519.925"><span>the type a was here. </span></span><span class="transcription-time-part" data-time-start="519.925" data-time-end="520.899"><span>And then it, even if </span></span><span class="transcription-time-part" data-time-start="520.899" data-time-end="522.72"><span>it's identical down later, </span></span><span class="transcription-time-part" data-time-start="522.72" data-time-end="525.545"><span>That's a compilation error in the same file. </span></span><span class="transcription-time-part" data-time-start="525.545" data-time-end="527.525"><span>You can't when compiling the same file, </span></span><span class="transcription-time-part" data-time-start="527.525" data-time-end="529.249"><span>you can't have more than one </span></span><span class="transcription-time-part" data-time-start="529.249" data-time-end="531.995"><span>declaration of the full, </span></span><span class="transcription-time-part" data-time-start="531.995" data-time-end="534.634"><span>the full, full declaration of the type a. </span></span><span class="transcription-time-part" data-time-start="534.634" data-time-end="537.425"><span>And that's what's happening here. </span></span><span class="transcription-time-part" data-time-start="537.425" data-time-end="539.63"><span>What's happening up here is when </span></span><span class="transcription-time-part" data-time-start="539.63" data-time-end="542.209"><span>compiling myapp dot cpp, </span></span><span class="transcription-time-part" data-time-start="542.209" data-time-end="544.519"><span>we see a declaration </span></span><span class="transcription-time-part" data-time-start="544.519" data-time-end="545.855"><span>of the point class because </span></span><span class="transcription-time-part" data-time-start="545.855" data-time-end="547.49"><span>circle dot h includes </span></span><span class="transcription-time-part" data-time-start="547.49" data-time-end="548.809"><span>point DOD aids and </span></span><span class="transcription-time-part" data-time-start="548.809" data-time-end="550.039"><span>therefore there's a declaration </span></span><span class="transcription-time-part" data-time-start="550.039" data-time-end="551.044"><span>of the point type. </span></span><span class="transcription-time-part" data-time-start="551.044" data-time-end="554.009"><span>And then later on we have it again. </span></span><span class="transcription-time-part" data-time-start="554.02" data-time-end="557.495"><span>When we include point out a second time. </span></span><span class="transcription-time-part" data-time-start="557.495" data-time-end="560.72"><span>Okay, Again, the wrong solution </span></span><span class="transcription-time-part" data-time-start="560.72" data-time-end="563.435"><span>is to say, oh, </span></span><span class="transcription-time-part" data-time-start="563.435" data-time-end="565.46"><span>your ear to the designer and </span></span><span class="transcription-time-part" data-time-start="565.46" data-time-end="566.57"><span>the graphics class and your </span></span><span class="transcription-time-part" data-time-start="566.57" data-time-end="567.904"><span>documentation says, </span></span><span class="transcription-time-part" data-time-start="567.904" data-time-end="569.269"><span>if you want to use a circle </span></span><span class="transcription-time-part" data-time-start="569.269" data-time-end="570.44"><span>includes circle dot h. </span></span><span class="transcription-time-part" data-time-start="570.44" data-time-end="571.489"><span>If you want to use a point, </span></span><span class="transcription-time-part" data-time-start="571.489" data-time-end="573.5"><span>use point dot h. But if you want to </span></span><span class="transcription-time-part" data-time-start="573.5" data-time-end="575.975"><span>use both of them in the same file, </span></span><span class="transcription-time-part" data-time-start="575.975" data-time-end="577.805"><span>don't include point dot h, </span></span><span class="transcription-time-part" data-time-start="577.805" data-time-end="579.455"><span>just include circled audience. </span></span><span class="transcription-time-part" data-time-start="579.455" data-time-end="580.999"><span>Again, that's getting too </span></span><span class="transcription-time-part" data-time-start="580.999" data-time-end="582.695"><span>complicated for users to know. </span></span><span class="transcription-time-part" data-time-start="582.695" data-time-end="586.145"><span>Users should not have to know what circle </span></span><span class="transcription-time-part" data-time-start="586.145" data-time-end="588.139"><span>depends on and therefore whether or not </span></span><span class="transcription-time-part" data-time-start="588.139" data-time-end="590.239"><span>you should also include point dot h to pay. </span></span><span class="transcription-time-part" data-time-start="590.239" data-time-end="591.139"><span>It's a, it's a pain. </span></span><span class="transcription-time-part" data-time-start="591.139" data-time-end="593.104"><span>You don't want to, don't want to do that. </span></span><span class="transcription-time-part" data-time-start="593.104" data-time-end="596.974"><span>So what we need is a way to somehow say, </span></span><span class="transcription-time-part" data-time-start="596.974" data-time-end="598.984"><span>for the second and </span></span><span class="transcription-time-part" data-time-start="598.984" data-time-end="602.825"><span>any further input inclusions of point dot h, </span></span><span class="transcription-time-part" data-time-start="602.825" data-time-end="604.739"><span>We don't really want to process the, </span></span><span class="transcription-time-part" data-time-start="604.739" data-time-end="606.68"><span>the declaration of the points. </span></span><span class="transcription-time-part" data-time-start="606.68" data-time-end="609.08"><span>So in other words, we need a way to </span></span><span class="transcription-time-part" data-time-start="609.08" data-time-end="610.984"><span>say after the first time, </span></span><span class="transcription-time-part" data-time-start="610.984" data-time-end="612.41"><span>we've included point dot h and </span></span><span class="transcription-time-part" data-time-start="612.41" data-time-end="614.239"><span>we've seen this point declaration </span></span><span class="transcription-time-part" data-time-start="614.239" data-time-end="616.129"><span>later on if we ever include </span></span><span class="transcription-time-part" data-time-start="616.129" data-time-end="617.21"><span>point dot h Again in </span></span><span class="transcription-time-part" data-time-start="617.21" data-time-end="619.19"><span>this compilation of this file, </span></span><span class="transcription-time-part" data-time-start="619.19" data-time-end="622.144"><span>don't process this declaration. </span></span><span class="transcription-time-part" data-time-start="622.144" data-time-end="624.919"><span>So this is where </span></span><span class="transcription-time-part" data-time-start="624.919" data-time-end="626.269"><span>things get kind of strange </span></span><span class="transcription-time-part" data-time-start="626.269" data-time-end="627.695"><span>as far as the standard goes. </span></span><span class="transcription-time-part" data-time-start="627.695" data-time-end="632.569"><span>We, we don't have </span></span><span class="transcription-time-part" data-time-start="632.569" data-time-end="637.28"><span>a way in standard C or C plus plus to say, </span></span><span class="transcription-time-part" data-time-start="637.28" data-time-end="640.429"><span>don't process this more than once. </span></span><span class="transcription-time-part" data-time-start="640.429" data-time-end="641.599"><span>Or we don't have a way to do </span></span><span class="transcription-time-part" data-time-start="641.599" data-time-end="642.934"><span>that in a simple way. </span></span><span class="transcription-time-part" data-time-start="642.934" data-time-end="644.78"><span>The way that was </span></span><span class="transcription-time-part" data-time-start="644.78" data-time-end="648.38"><span>kind of a work around for the problem in C. </span></span><span class="transcription-time-part" data-time-start="648.38" data-time-end="650.434"><span>Almost 50 years ago, </span></span><span class="transcription-time-part" data-time-start="650.434" data-time-end="652.88"><span>is still the only way that will </span></span><span class="transcription-time-part" data-time-start="652.88" data-time-end="654.5"><span>standardly guaranteed to work </span></span><span class="transcription-time-part" data-time-start="654.5" data-time-end="656.779"><span>across all implementations of the compilers. </span></span><span class="transcription-time-part" data-time-start="656.779" data-time-end="658.04"><span>So the way that, </span></span><span class="transcription-time-part" data-time-start="658.04" data-time-end="660.44"><span>that's done is something like this. </span></span><span class="transcription-time-part" data-time-start="660.44" data-time-end="663.799"><span>The first time we process point dot h, </span></span><span class="transcription-time-part" data-time-start="663.799" data-time-end="666.65"><span>We essentially drop a marker. </span></span><span class="transcription-time-part" data-time-start="666.65" data-time-end="667.909"><span>We'll see how that works. </span></span><span class="transcription-time-part" data-time-start="667.909" data-time-end="671.209"><span>We somehow mark that we've been here before. </span></span><span class="transcription-time-part" data-time-start="671.209" data-time-end="673.85"><span>And then in any implement </span></span><span class="transcription-time-part" data-time-start="673.85" data-time-end="675.65"><span>to end anytime we include point dot h, </span></span><span class="transcription-time-part" data-time-start="675.65" data-time-end="678.38"><span>We check, have we been here before? </span></span><span class="transcription-time-part" data-time-start="678.38" data-time-end="679.49"><span>If we've been here </span></span><span class="transcription-time-part" data-time-start="679.49" data-time-end="681.575"><span>before, then skip everything. </span></span><span class="transcription-time-part" data-time-start="681.575" data-time-end="686.255"><span>So the way to do that is in point dot h, </span></span><span class="transcription-time-part" data-time-start="686.255" data-time-end="689.164"><span>We will make use of the, the, </span></span><span class="transcription-time-part" data-time-start="689.164" data-time-end="692.509"><span>the, the pound define </span></span><span class="transcription-time-part" data-time-start="692.509" data-time-end="697.7"><span>syntax available to us to define some symbol. </span></span><span class="transcription-time-part" data-time-start="697.7" data-time-end="700.76"><span>Now, what's that symbol? </span></span><span class="transcription-time-part" data-time-start="700.76" data-time-end="703.37"><span>It doesn't matter. It could be any symbol. </span></span><span class="transcription-time-part" data-time-start="703.37" data-time-end="706.249"><span>I will pick a symbol that somehow tied </span></span><span class="transcription-time-part" data-time-start="706.249" data-time-end="707.905"><span>to the name of </span></span><span class="transcription-time-part" data-time-start="707.905" data-time-end="709.37"><span>the class we're defining </span></span><span class="transcription-time-part" data-time-start="709.37" data-time-end="710.389"><span>or the name of the file, </span></span><span class="transcription-time-part" data-time-start="710.389" data-time-end="712.714"><span>I'll call it say point included. </span></span><span class="transcription-time-part" data-time-start="712.714" data-time-end="714.799"><span>But I could pick any other name. </span></span><span class="transcription-time-part" data-time-start="714.799" data-time-end="716.554"><span>So I pick a name. </span></span><span class="transcription-time-part" data-time-start="716.554" data-time-end="717.889"><span>By convention, </span></span><span class="transcription-time-part" data-time-start="717.889" data-time-end="719.855"><span>we put it in all capital letters. </span></span><span class="transcription-time-part" data-time-start="719.855" data-time-end="721.43"><span>And now I'm defining it, </span></span><span class="transcription-time-part" data-time-start="721.43" data-time-end="723.425"><span>this, defining it as what? </span></span><span class="transcription-time-part" data-time-start="723.425" data-time-end="726.23"><span>Well, the general pound define lets you </span></span><span class="transcription-time-part" data-time-start="726.23" data-time-end="727.67"><span>define a symbol to be replaced by </span></span><span class="transcription-time-part" data-time-start="727.67" data-time-end="729.304"><span>other text that's not relevant here. </span></span><span class="transcription-time-part" data-time-start="729.304" data-time-end="730.594"><span>I just want to mark it as </span></span><span class="transcription-time-part" data-time-start="730.594" data-time-end="734.224"><span>your defined point included will be defined. </span></span><span class="transcription-time-part" data-time-start="734.224" data-time-end="737.479"><span>So whenever I process point dot h, </span></span><span class="transcription-time-part" data-time-start="737.479" data-time-end="739.895"><span>the first time we'll define that symbol. </span></span><span class="transcription-time-part" data-time-start="739.895" data-time-end="741.32"><span>Now we want to make sure we don't </span></span><span class="transcription-time-part" data-time-start="741.32" data-time-end="743.075"><span>process point that age more than once. </span></span><span class="transcription-time-part" data-time-start="743.075" data-time-end="744.394"><span>So I surround </span></span><span class="transcription-time-part" data-time-start="744.394" data-time-end="747.215"><span>all the significant code and point dot h, </span></span><span class="transcription-time-part" data-time-start="747.215" data-time-end="750.12"><span>I surround it with, </span></span><span class="transcription-time-part" data-time-start="751.39" data-time-end="753.53"><span>with this almost pointless. </span></span><span class="transcription-time-part" data-time-start="753.53" data-time-end="756.59"><span>And second, an F and </span></span><span class="transcription-time-part" data-time-start="756.59" data-time-end="760.445"><span>F on top and down at the end, an end. </span></span><span class="transcription-time-part" data-time-start="760.445" data-time-end="763.279"><span>Now endif is not allowed to </span></span><span class="transcription-time-part" data-time-start="763.279" data-time-end="765.89"><span>have anything significant after it. </span></span><span class="transcription-time-part" data-time-start="765.89" data-time-end="769.219"><span>But I tend, but you can put a comment and </span></span><span class="transcription-time-part" data-time-start="769.219" data-time-end="774.335"><span>so I tend to repeat what this is closing off. </span></span><span class="transcription-time-part" data-time-start="774.335" data-time-end="776.449"><span>It's closing off B, B, </span></span><span class="transcription-time-part" data-time-start="776.449" data-time-end="780.08"><span>B this if NDF up here for point included. </span></span><span class="transcription-time-part" data-time-start="780.08" data-time-end="781.549"><span>So that's a mouthful. </span></span><span class="transcription-time-part" data-time-start="781.549" data-time-end="782.614"><span>What's going on here? </span></span><span class="transcription-time-part" data-time-start="782.614" data-time-end="784.505"><span>The pound in if, if, </span></span><span class="transcription-time-part" data-time-start="784.505" data-time-end="786.56"><span>if n depth is asking, </span></span><span class="transcription-time-part" data-time-start="786.56" data-time-end="788.9"><span>if it's not defined, </span></span><span class="transcription-time-part" data-time-start="788.9" data-time-end="790.684"><span>the end is short for not, </span></span><span class="transcription-time-part" data-time-start="790.684" data-time-end="792.35"><span>the depth is short for define. </span></span><span class="transcription-time-part" data-time-start="792.35" data-time-end="793.955"><span>So if it's, if it's, </span></span><span class="transcription-time-part" data-time-start="793.955" data-time-end="795.455"><span>if it's not defined, </span></span><span class="transcription-time-part" data-time-start="795.455" data-time-end="796.939"><span>this symbol point included. </span></span><span class="transcription-time-part" data-time-start="796.939" data-time-end="798.56"><span>Another words, if point included has </span></span><span class="transcription-time-part" data-time-start="798.56" data-time-end="800.569"><span>not yet been defined, </span></span><span class="transcription-time-part" data-time-start="800.569" data-time-end="803.9"><span>then we are going to process everything </span></span><span class="transcription-time-part" data-time-start="803.9" data-time-end="805.459"><span>up to the corresponding end </span></span><span class="transcription-time-part" data-time-start="805.459" data-time-end="807.185"><span>up for the if and death. </span></span><span class="transcription-time-part" data-time-start="807.185" data-time-end="809.659"><span>So the offend f has a corresponding endif. </span></span><span class="transcription-time-part" data-time-start="809.659" data-time-end="810.86"><span>Everything in here is </span></span><span class="transcription-time-part" data-time-start="810.86" data-time-end="812.884"><span>controlled by that, that test. </span></span><span class="transcription-time-part" data-time-start="812.884" data-time-end="814.4"><span>So the test is if </span></span><span class="transcription-time-part" data-time-start="814.4" data-time-end="816.409"><span>the symbol has not yet been defined, </span></span><span class="transcription-time-part" data-time-start="816.409" data-time-end="817.744"><span>then do all this, </span></span><span class="transcription-time-part" data-time-start="817.744" data-time-end="819.395"><span>which is define it, </span></span><span class="transcription-time-part" data-time-start="819.395" data-time-end="821.36"><span>and then go ahead and process the code here </span></span><span class="transcription-time-part" data-time-start="821.36" data-time-end="822.169"><span>to just see what </span></span><span class="transcription-time-part" data-time-start="822.169" data-time-end="824.39"><span>the point class is all about. </span></span><span class="transcription-time-part" data-time-start="824.39" data-time-end="827.705"><span>So that solves the problem. </span></span><span class="transcription-time-part" data-time-start="827.705" data-time-end="829.325"><span>Here's, here's what's going on. </span></span><span class="transcription-time-part" data-time-start="829.325" data-time-end="830.45"><span>So here's what happens when we </span></span><span class="transcription-time-part" data-time-start="830.45" data-time-end="832.43"><span>compile myapp dot cpp. </span></span><span class="transcription-time-part" data-time-start="832.43" data-time-end="834.92"><span>We say, okay, let's include circle dot hhs, </span></span><span class="transcription-time-part" data-time-start="834.92" data-time-end="837.08"><span>circled IDA set circle dot h says, </span></span><span class="transcription-time-part" data-time-start="837.08" data-time-end="840.245"><span>Okay, let's include point dot h. We, </span></span><span class="transcription-time-part" data-time-start="840.245" data-time-end="841.61"><span>so this is the very first time. </span></span><span class="transcription-time-part" data-time-start="841.61" data-time-end="843.575"><span>Now when compiling this file, </span></span><span class="transcription-time-part" data-time-start="843.575" data-time-end="845.42"><span>it's the very first time we've done this. </span></span><span class="transcription-time-part" data-time-start="845.42" data-time-end="846.889"><span>We've included circle dot h. </span></span><span class="transcription-time-part" data-time-start="846.889" data-time-end="849.469"><span>So include point dot h ad. </span></span><span class="transcription-time-part" data-time-start="849.469" data-time-end="851.135"><span>That starts off by saying, </span></span><span class="transcription-time-part" data-time-start="851.135" data-time-end="852.379"><span>has the symbol point </span></span><span class="transcription-time-part" data-time-start="852.379" data-time-end="854.089"><span>included been defined yet? </span></span><span class="transcription-time-part" data-time-start="854.089" data-time-end="855.26"><span>No, it hasn't. </span></span><span class="transcription-time-part" data-time-start="855.26" data-time-end="856.1"><span>We have not. </span></span><span class="transcription-time-part" data-time-start="856.1" data-time-end="858.364"><span>During compiling this file. </span></span><span class="transcription-time-part" data-time-start="858.364" data-time-end="860.539"><span>We have not seen it defined yet. </span></span><span class="transcription-time-part" data-time-start="860.539" data-time-end="863.044"><span>So it says, okay, it's not defined. </span></span><span class="transcription-time-part" data-time-start="863.044" data-time-end="864.109"><span>Therefore, we're going to </span></span><span class="transcription-time-part" data-time-start="864.109" data-time-end="865.715"><span>process all this text. </span></span><span class="transcription-time-part" data-time-start="865.715" data-time-end="868.159"><span>So the compiler will say, Okay, </span></span><span class="transcription-time-part" data-time-start="868.159" data-time-end="871.804"><span>I will mark quaint included as being defined. </span></span><span class="transcription-time-part" data-time-start="871.804" data-time-end="873.499"><span>Defined as what? We don't </span></span><span class="transcription-time-part" data-time-start="873.499" data-time-end="875.45"><span>care if it's marked as </span></span><span class="transcription-time-part" data-time-start="875.45" data-time-end="877.01"><span>being defined and will </span></span><span class="transcription-time-part" data-time-start="877.01" data-time-end="879.004"><span>process the declaration of the coin class. </span></span><span class="transcription-time-part" data-time-start="879.004" data-time-end="881.36"><span>Okay, so now we know what a point is. </span></span><span class="transcription-time-part" data-time-start="881.36" data-time-end="884.269"><span>Alright, So we come back from here, </span></span><span class="transcription-time-part" data-time-start="884.269" data-time-end="886.654"><span>the symbol point included has been defined. </span></span><span class="transcription-time-part" data-time-start="886.654" data-time-end="887.945"><span>We know what a point is. </span></span><span class="transcription-time-part" data-time-start="887.945" data-time-end="889.22"><span>So now we can go ahead and </span></span><span class="transcription-time-part" data-time-start="889.22" data-time-end="891.02"><span>process the declaration of circle. </span></span><span class="transcription-time-part" data-time-start="891.02" data-time-end="893.119"><span>We know what a point is, everything's fine. </span></span><span class="transcription-time-part" data-time-start="893.119" data-time-end="894.529"><span>And when we finish here, </span></span><span class="transcription-time-part" data-time-start="894.529" data-time-end="896.075"><span>we come back out here. </span></span><span class="transcription-time-part" data-time-start="896.075" data-time-end="900.199"><span>And having included a circle dot h, </span></span><span class="transcription-time-part" data-time-start="900.199" data-time-end="902.18"><span>we have the symbol </span></span><span class="transcription-time-part" data-time-start="902.18" data-time-end="904.01"><span>point included being defined. </span></span><span class="transcription-time-part" data-time-start="904.01" data-time-end="906.065"><span>We know what a point, the point class is, </span></span><span class="transcription-time-part" data-time-start="906.065" data-time-end="908.074"><span>we know what the circle classes. </span></span><span class="transcription-time-part" data-time-start="908.074" data-time-end="912.634"><span>So now if we ever include point dot h again, </span></span><span class="transcription-time-part" data-time-start="912.634" data-time-end="914.209"><span>during compiling this file </span></span><span class="transcription-time-part" data-time-start="914.209" data-time-end="915.829"><span>which we're doing here. </span></span><span class="transcription-time-part" data-time-start="915.829" data-time-end="918.32"><span>Let's see if the symbol point </span></span><span class="transcription-time-part" data-time-start="918.32" data-time-end="920.074"><span>included is not defined. </span></span><span class="transcription-time-part" data-time-start="920.074" data-time-end="921.8"><span>Oh wait, it is defined. </span></span><span class="transcription-time-part" data-time-start="921.8" data-time-end="924.334"><span>All right, so we skip all this. </span></span><span class="transcription-time-part" data-time-start="924.334" data-time-end="926.554"><span>In particular, we skip </span></span><span class="transcription-time-part" data-time-start="926.554" data-time-end="929.555"><span>processing the point class declaration again. </span></span><span class="transcription-time-part" data-time-start="929.555" data-time-end="932"><span>And so we come out of this immediately, </span></span><span class="transcription-time-part" data-time-start="932" data-time-end="933.739"><span>having done nothing additional we make, </span></span><span class="transcription-time-part" data-time-start="933.739" data-time-end="934.955"><span>we haven't done anything new. </span></span><span class="transcription-time-part" data-time-start="934.955" data-time-end="936.079"><span>We still know that </span></span><span class="transcription-time-part" data-time-start="936.079" data-time-end="937.864"><span>the symbol point include is defined. </span></span><span class="transcription-time-part" data-time-start="937.864" data-time-end="939.35"><span>We still know what a point is, </span></span><span class="transcription-time-part" data-time-start="939.35" data-time-end="940.925"><span>we still know what a circle is. </span></span><span class="transcription-time-part" data-time-start="940.925" data-time-end="942.92"><span>And so now this code compiles fine. </span></span><span class="transcription-time-part" data-time-start="942.92" data-time-end="943.91"><span>We know what a circle is, </span></span><span class="transcription-time-part" data-time-start="943.91" data-time-end="945.26"><span>we know what appointed. </span></span><span class="transcription-time-part" data-time-start="945.26" data-time-end="949.07"><span>So that's the solution </span></span><span class="transcription-time-part" data-time-start="949.07" data-time-end="951.44"><span>from almost 50 years ago. </span></span><span class="transcription-time-part" data-time-start="951.44" data-time-end="952.97"><span>That is still the only </span></span><span class="transcription-time-part" data-time-start="952.97" data-time-end="954.679"><span>solution to this problem that </span></span><span class="transcription-time-part" data-time-start="954.679" data-time-end="955.999"><span>is guaranteed to be </span></span><span class="transcription-time-part" data-time-start="955.999" data-time-end="958.249"><span>portable across all compilers. </span></span><span class="transcription-time-part" data-time-start="958.249" data-time-end="960.92"><span>I mean, there are other techniques </span></span><span class="transcription-time-part" data-time-start="960.92" data-time-end="963.889"><span>that many compilers that introduced. </span></span><span class="transcription-time-part" data-time-start="963.889" data-time-end="965.54"><span>So just one line you can say </span></span><span class="transcription-time-part" data-time-start="965.54" data-time-end="967.4"><span>something pound pragma once at that, </span></span><span class="transcription-time-part" data-time-start="967.4" data-time-end="969.32"><span>that solves the problem, but that's not </span></span><span class="transcription-time-part" data-time-start="969.32" data-time-end="971.33"><span>portable across all compilers. </span></span><span class="transcription-time-part" data-time-start="971.33" data-time-end="973.4"><span>So we're not going to be using </span></span><span class="transcription-time-part" data-time-start="973.4" data-time-end="974.825"><span>that back project one </span></span><span class="transcription-time-part" data-time-start="974.825" data-time-end="977.254"><span>forbids you from using pragma once. </span></span><span class="transcription-time-part" data-time-start="977.254" data-time-end="978.544"><span>Some notes about this, </span></span><span class="transcription-time-part" data-time-start="978.544" data-time-end="979.55"><span>first of all terminology. </span></span><span class="transcription-time-part" data-time-start="979.55" data-time-end="980.57"><span>So this sort of thing is </span></span><span class="transcription-time-part" data-time-start="980.57" data-time-end="982.115"><span>called an Include Guard. </span></span><span class="transcription-time-part" data-time-start="982.115" data-time-end="984.349"><span>It's guarding against this file being </span></span><span class="transcription-time-part" data-time-start="984.349" data-time-end="986.705"><span>included more than once in the same, </span></span><span class="transcription-time-part" data-time-start="986.705" data-time-end="988.339"><span>in compiling the same file. </span></span><span class="transcription-time-part" data-time-start="988.339" data-time-end="990.784"><span>So in compiling myapp dot cpp, </span></span><span class="transcription-time-part" data-time-start="990.784" data-time-end="992.764"><span>the Include Guard for point dot h </span></span><span class="transcription-time-part" data-time-start="992.764" data-time-end="994.895"><span>is protecting us from from </span></span><span class="transcription-time-part" data-time-start="994.895" data-time-end="996.469"><span>including point dot h by </span></span><span class="transcription-time-part" data-time-start="996.469" data-time-end="997.639"><span>a circle dot h and </span></span><span class="transcription-time-part" data-time-start="997.639" data-time-end="999.755"><span>also directly including it ourselves. </span></span><span class="transcription-time-part" data-time-start="999.755" data-time-end="1001.464"><span>No problem there. </span></span><span class="transcription-time-part" data-time-start="1001.464" data-time-end="1003.699"><span>Everything significant should be </span></span><span class="transcription-time-part" data-time-start="1003.699" data-time-end="1005.064"><span>inside the Include Guard. </span></span><span class="transcription-time-part" data-time-start="1005.064" data-time-end="1005.874"><span>Everything. </span></span><span class="transcription-time-part" data-time-start="1005.874" data-time-end="1008.395"><span>Don't try to do little things like, oh, </span></span><span class="transcription-time-part" data-time-start="1008.395" data-time-end="1010.06"><span>outside here I am and </span></span><span class="transcription-time-part" data-time-start="1010.06" data-time-end="1011.845"><span>start doing something significant </span></span><span class="transcription-time-part" data-time-start="1011.845" data-time-end="1015.999"><span>like declaring a class, foo and whatever. </span></span><span class="transcription-time-part" data-time-start="1015.999" data-time-end="1017.77"><span>But it's not no, that's outside. </span></span><span class="transcription-time-part" data-time-start="1017.77" data-time-end="1018.595"><span>Don't do it. </span></span><span class="transcription-time-part" data-time-start="1018.595" data-time-end="1019.989"><span>Everything significant </span></span><span class="transcription-time-part" data-time-start="1019.989" data-time-end="1021.729"><span>goes inside the Include Guard. </span></span><span class="transcription-time-part" data-time-start="1021.729" data-time-end="1023.979"><span>The only thing you would possibly put outside </span></span><span class="transcription-time-part" data-time-start="1023.979" data-time-end="1025.42"><span>the Include Guard would </span></span><span class="transcription-time-part" data-time-start="1025.42" data-time-end="1028.059"><span>be whitespace or a comment. </span></span><span class="transcription-time-part" data-time-start="1028.059" data-time-end="1030.22"><span>So maybe I want to </span></span><span class="transcription-time-part" data-time-start="1030.22" data-time-end="1031.99"><span>put a note in my file that </span></span><span class="transcription-time-part" data-time-start="1031.99" data-time-end="1034.21"><span>this is point Daddy's. </span></span><span class="transcription-time-part" data-time-start="1034.21" data-time-end="1036.535"><span>A comment can go outside there, </span></span><span class="transcription-time-part" data-time-start="1036.535" data-time-end="1038.47"><span>everything else signifigant should </span></span><span class="transcription-time-part" data-time-start="1038.47" data-time-end="1040.84"><span>be inside the Include Guards. </span></span><span class="transcription-time-part" data-time-start="1040.84" data-time-end="1043.419"><span>I emphasize that because I have seen </span></span><span class="transcription-time-part" data-time-start="1043.419" data-time-end="1044.649"><span>people try to put things </span></span><span class="transcription-time-part" data-time-start="1044.649" data-time-end="1046.39"><span>outside the Include Guards to, </span></span><span class="transcription-time-part" data-time-start="1046.39" data-time-end="1048.549"><span>to solve some, to attempt </span></span><span class="transcription-time-part" data-time-start="1048.549" data-time-end="1049.66"><span>to solve some problem they're </span></span><span class="transcription-time-part" data-time-start="1049.66" data-time-end="1050.83"><span>having and compiling. </span></span><span class="transcription-time-part" data-time-start="1050.83" data-time-end="1052.58"><span>And that's not the right way to do. </span></span><span class="transcription-time-part" data-time-start="1052.58" data-time-end="1054.96"><span>Everything goes inside of the Include Guard. </span></span><span class="transcription-time-part" data-time-start="1054.96" data-time-end="1057.12"><span>Also, because this could </span></span><span class="transcription-time-part" data-time-start="1057.12" data-time-end="1058.455"><span>happen in other levels. </span></span><span class="transcription-time-part" data-time-start="1058.455" data-time-end="1060.12"><span>This should be done with every </span></span><span class="transcription-time-part" data-time-start="1060.12" data-time-end="1061.514"><span>header file you write. </span></span><span class="transcription-time-part" data-time-start="1061.514" data-time-end="1063.119"><span>So for circle dot h, </span></span><span class="transcription-time-part" data-time-start="1063.119" data-time-end="1065.624"><span>I should have an Include Guard. </span></span><span class="transcription-time-part" data-time-start="1065.624" data-time-end="1066.929"><span>Why do I have an Include </span></span><span class="transcription-time-part" data-time-start="1066.929" data-time-end="1068.145"><span>Guard on circle dot h? </span></span><span class="transcription-time-part" data-time-start="1068.145" data-time-end="1070.38"><span>I'm certainly not including circle dot </span></span><span class="transcription-time-part" data-time-start="1070.38" data-time-end="1072.824"><span>h more than once in this compilation. </span></span><span class="transcription-time-part" data-time-start="1072.824" data-time-end="1073.784"><span>No, I'm not. </span></span><span class="transcription-time-part" data-time-start="1073.784" data-time-end="1075.66"><span>But there might be some other header I </span></span><span class="transcription-time-part" data-time-start="1075.66" data-time-end="1077.43"><span>include that itself includes </span></span><span class="transcription-time-part" data-time-start="1077.43" data-time-end="1079.529"><span>circle dot h. So if I include </span></span><span class="transcription-time-part" data-time-start="1079.529" data-time-end="1081.99"><span>that other header and I include circle dot h, </span></span><span class="transcription-time-part" data-time-start="1081.99" data-time-end="1083.7"><span>I want to make sure that I'm guarded against </span></span><span class="transcription-time-part" data-time-start="1083.7" data-time-end="1086.04"><span>the multiple definition of a circle type. </span></span><span class="transcription-time-part" data-time-start="1086.04" data-time-end="1088.08"><span>Now, you want the symbol to be </span></span><span class="transcription-time-part" data-time-start="1088.08" data-time-end="1091.064"><span>different from any other symbol you're using. </span></span><span class="transcription-time-part" data-time-start="1091.064" data-time-end="1092.684"><span>For example, if I were to </span></span><span class="transcription-time-part" data-time-start="1092.684" data-time-end="1095.069"><span>pick the symbol point included, </span></span><span class="transcription-time-part" data-time-start="1095.069" data-time-end="1097.44"><span>which is wrong, I mean, I could do that, </span></span><span class="transcription-time-part" data-time-start="1097.44" data-time-end="1099.389"><span>but look what happens if I happened to </span></span><span class="transcription-time-part" data-time-start="1099.389" data-time-end="1101.924"><span>pick a symbol I've used in a different file, </span></span><span class="transcription-time-part" data-time-start="1101.924" data-time-end="1103.5"><span>which can happen by </span></span><span class="transcription-time-part" data-time-start="1103.5" data-time-end="1105.464"><span>accident if you copy and paste. </span></span><span class="transcription-time-part" data-time-start="1105.464" data-time-end="1106.935"><span>So be careful. </span></span><span class="transcription-time-part" data-time-start="1106.935" data-time-end="1108.839"><span>Well, this is not going to work now </span></span><span class="transcription-time-part" data-time-start="1108.839" data-time-end="1111.089"><span>because when I include circle dot h, </span></span><span class="transcription-time-part" data-time-start="1111.089" data-time-end="1112.559"><span>It starts off by saying, </span></span><span class="transcription-time-part" data-time-start="1112.559" data-time-end="1113.879"><span>have I seen a declaration of </span></span><span class="transcription-time-part" data-time-start="1113.879" data-time-end="1115.665"><span>point included? No, I haven't. </span></span><span class="transcription-time-part" data-time-start="1115.665" data-time-end="1118.59"><span>So let's define point included. </span></span><span class="transcription-time-part" data-time-start="1118.59" data-time-end="1120.72"><span>Then. Include point dot h, </span></span><span class="transcription-time-part" data-time-start="1120.72" data-time-end="1122.25"><span>which says, oh, have I </span></span><span class="transcription-time-part" data-time-start="1122.25" data-time-end="1123.945"><span>seen a definition of point included? </span></span><span class="transcription-time-part" data-time-start="1123.945" data-time-end="1125.52"><span>Yes, I have. So skip all </span></span><span class="transcription-time-part" data-time-start="1125.52" data-time-end="1128.01"><span>this and then we end up not knowing </span></span><span class="transcription-time-part" data-time-start="1128.01" data-time-end="1129.99"><span>what a point is and we get a compilation down </span></span><span class="transcription-time-part" data-time-start="1129.99" data-time-end="1132.494"><span>here when we come to come to point. </span></span><span class="transcription-time-part" data-time-start="1132.494" data-time-end="1133.92"><span>So, so no, no, no. </span></span><span class="transcription-time-part" data-time-start="1133.92" data-time-end="1135.645"><span>Every file should have </span></span><span class="transcription-time-part" data-time-start="1135.645" data-time-end="1137.955"><span>a unique name for its Include Guard. </span></span><span class="transcription-time-part" data-time-start="1137.955" data-time-end="1139.949"><span>Now you have to make up, so you have to </span></span><span class="transcription-time-part" data-time-start="1139.949" data-time-end="1141.915"><span>make up a different name for each file. </span></span><span class="transcription-time-part" data-time-start="1141.915" data-time-end="1143.94"><span>And the common convention </span></span><span class="transcription-time-part" data-time-start="1143.94" data-time-end="1145.77"><span>is to make up a name that </span></span><span class="transcription-time-part" data-time-start="1145.77" data-time-end="1147.915"><span>somehow incorporates the filename </span></span><span class="transcription-time-part" data-time-start="1147.915" data-time-end="1149.129"><span>because your files are </span></span><span class="transcription-time-part" data-time-start="1149.129" data-time-end="1150.45"><span>going to have different names. </span></span><span class="transcription-time-part" data-time-start="1150.45" data-time-end="1152.28"><span>So if you incorporate the filename </span></span><span class="transcription-time-part" data-time-start="1152.28" data-time-end="1153.674"><span>somehow into your, </span></span><span class="transcription-time-part" data-time-start="1153.674" data-time-end="1155.189"><span>your Include Guard name, </span></span><span class="transcription-time-part" data-time-start="1155.189" data-time-end="1156.63"><span>then that'll make it different. </span></span><span class="transcription-time-part" data-time-start="1156.63" data-time-end="1158.399"><span>So my file circle dot h. </span></span><span class="transcription-time-part" data-time-start="1158.399" data-time-end="1161.1"><span>So why don't I call this circle include. </span></span><span class="transcription-time-part" data-time-start="1161.1" data-time-end="1162.93"><span>I'm probably not going to have </span></span><span class="transcription-time-part" data-time-start="1162.93" data-time-end="1164.969"><span>another file called circle. </span></span><span class="transcription-time-part" data-time-start="1164.969" data-time-end="1168.225"><span>So, so that would be a good way to, </span></span><span class="transcription-time-part" data-time-start="1168.225" data-time-end="1169.815"><span>to make sure it's kinda unique. </span></span><span class="transcription-time-part" data-time-start="1169.815" data-time-end="1171.78"><span>And I don't have to, </span></span><span class="transcription-time-part" data-time-start="1171.78" data-time-end="1172.95"><span>but if I want to, </span></span><span class="transcription-time-part" data-time-start="1172.95" data-time-end="1174.36"><span>I can put a comment here. </span></span><span class="transcription-time-part" data-time-start="1174.36" data-time-end="1177.48"><span>Be very, very careful </span></span><span class="transcription-time-part" data-time-start="1177.48" data-time-end="1179.58"><span>that the symbol you're testing </span></span><span class="transcription-time-part" data-time-start="1179.58" data-time-end="1181.77"><span>against the same as </span></span><span class="transcription-time-part" data-time-start="1181.77" data-time-end="1183.329"><span>the symbol you're defining </span></span><span class="transcription-time-part" data-time-start="1183.329" data-time-end="1184.725"><span>for this Include Guard. </span></span><span class="transcription-time-part" data-time-start="1184.725" data-time-end="1187.799"><span>I have over and over seen people do </span></span><span class="transcription-time-part" data-time-start="1187.799" data-time-end="1192.645"><span>things like like this, </span></span><span class="transcription-time-part" data-time-start="1192.645" data-time-end="1194.88"><span>where the symbol they're defining </span></span><span class="transcription-time-part" data-time-start="1194.88" data-time-end="1197.024"><span>is called point in coal did, </span></span><span class="transcription-time-part" data-time-start="1197.024" data-time-end="1198.539"><span>because they had a little typo there </span></span><span class="transcription-time-part" data-time-start="1198.539" data-time-end="1200.729"><span>and they switch the EU and the L. </span></span><span class="transcription-time-part" data-time-start="1200.729" data-time-end="1202.38"><span>But that's not the symbol </span></span><span class="transcription-time-part" data-time-start="1202.38" data-time-end="1203.699"><span>they're testing against. </span></span><span class="transcription-time-part" data-time-start="1203.699" data-time-end="1206.399"><span>And so they're going to have a problem </span></span><span class="transcription-time-part" data-time-start="1206.399" data-time-end="1207.84"><span>if they point dot h </span></span><span class="transcription-time-part" data-time-start="1207.84" data-time-end="1209.34"><span>is included more than once. </span></span><span class="transcription-time-part" data-time-start="1209.34" data-time-end="1210.779"><span>The symbol point included </span></span><span class="transcription-time-part" data-time-start="1210.779" data-time-end="1212.114"><span>will never be defined. </span></span><span class="transcription-time-part" data-time-start="1212.114" data-time-end="1213.119"><span>So you're always going to </span></span><span class="transcription-time-part" data-time-start="1213.119" data-time-end="1214.395"><span>try to do this twice </span></span><span class="transcription-time-part" data-time-start="1214.395" data-time-end="1215.969"><span>because the symbol you're defining </span></span><span class="transcription-time-part" data-time-start="1215.969" data-time-end="1217.71"><span>as point in cold it. </span></span><span class="transcription-time-part" data-time-start="1217.71" data-time-end="1220.29"><span>So, so make sure that the, you, </span></span><span class="transcription-time-part" data-time-start="1220.29" data-time-end="1223.755"><span>you, you, you have used the same symbol here. </span></span><span class="transcription-time-part" data-time-start="1223.755" data-time-end="1226.425"><span>Now again, this is </span></span><span class="transcription-time-part" data-time-start="1226.425" data-time-end="1228.269"><span>the point that the purpose of </span></span><span class="transcription-time-part" data-time-start="1228.269" data-time-end="1230.07"><span>the Include Guards is to </span></span><span class="transcription-time-part" data-time-start="1230.07" data-time-end="1233.01"><span>guard against including the same header </span></span><span class="transcription-time-part" data-time-start="1233.01" data-time-end="1236.25"><span>more than once in the same file. </span></span><span class="transcription-time-part" data-time-start="1236.25" data-time-end="1239.52"><span>So myapp dot CPP is including </span></span><span class="transcription-time-part" data-time-start="1239.52" data-time-end="1240.93"><span>circle dot h as including </span></span><span class="transcription-time-part" data-time-start="1240.93" data-time-end="1242.249"><span>point dot agents and circle </span></span><span class="transcription-time-part" data-time-start="1242.249" data-time-end="1243.795"><span>that h includes point dot h, </span></span><span class="transcription-time-part" data-time-start="1243.795" data-time-end="1245.43"><span>where including point that age </span></span><span class="transcription-time-part" data-time-start="1245.43" data-time-end="1247.394"><span>more than once in the same file. </span></span><span class="transcription-time-part" data-time-start="1247.394" data-time-end="1249.24"><span>This proof, this protects us. </span></span><span class="transcription-time-part" data-time-start="1249.24" data-time-end="1251.639"><span>It has absolutely nothing to do with </span></span><span class="transcription-time-part" data-time-start="1251.639" data-time-end="1253.98"><span>the fact that, you know, </span></span><span class="transcription-time-part" data-time-start="1253.98" data-time-end="1256.59"><span>one CPP file might include </span></span><span class="transcription-time-part" data-time-start="1256.59" data-time-end="1259.62"><span>point dot h and another CPP file. </span></span><span class="transcription-time-part" data-time-start="1259.62" data-time-end="1260.88"><span>And in the same program </span></span><span class="transcription-time-part" data-time-start="1260.88" data-time-end="1262.485"><span>you're building also includes </span></span><span class="transcription-time-part" data-time-start="1262.485" data-time-end="1263.73"><span>point that age that's </span></span><span class="transcription-time-part" data-time-start="1263.73" data-time-end="1266.045"><span>totally around, that totally separate. </span></span><span class="transcription-time-part" data-time-start="1266.045" data-time-end="1269.89"><span>Compiling myapp dot CPP is a distinct AC </span></span><span class="transcription-time-part" data-time-start="1269.89" data-time-end="1271.959"><span>from compiling some other CPP file </span></span><span class="transcription-time-part" data-time-start="1271.959" data-time-end="1273.805"><span>that happens to include point dot h, </span></span><span class="transcription-time-part" data-time-start="1273.805" data-time-end="1275.8"><span>include guards are irrelevant for that. </span></span><span class="transcription-time-part" data-time-start="1275.8" data-time-end="1276.429"><span>That's, that's, </span></span><span class="transcription-time-part" data-time-start="1276.429" data-time-end="1277.989"><span>that's not where it comes into play. </span></span><span class="transcription-time-part" data-time-start="1277.989" data-time-end="1279.25"><span>The Include Guard comes into </span></span><span class="transcription-time-part" data-time-start="1279.25" data-time-end="1280.42"><span>play when we're including </span></span><span class="transcription-time-part" data-time-start="1280.42" data-time-end="1281.95"><span>the same header file </span></span><span class="transcription-time-part" data-time-start="1281.95" data-time-end="1284.32"><span>more than once in compiling, </span></span><span class="transcription-time-part" data-time-start="1284.32" data-time-end="1286.42"><span>one given file, more than </span></span><span class="transcription-time-part" data-time-start="1286.42" data-time-end="1288.459"><span>once in compiling myapp dot cpp, </span></span><span class="transcription-time-part" data-time-start="1288.459" data-time-end="1289.795"><span>we're including point I'd age. </span></span><span class="transcription-time-part" data-time-start="1289.795" data-time-end="1291.369"><span>That's why it's relevant. </span></span><span class="transcription-time-part" data-time-start="1291.369" data-time-end="1294.969"><span>All the standard headers have include guards. </span></span><span class="transcription-time-part" data-time-start="1294.969" data-time-end="1297.879"><span>So if you are compiling a program and </span></span><span class="transcription-time-part" data-time-start="1297.879" data-time-end="1301.239"><span>you say include iostream, </span></span><span class="transcription-time-part" data-time-start="1301.239" data-time-end="1303.07"><span>either directly or indirectly, </span></span><span class="transcription-time-part" data-time-start="1303.07" data-time-end="1304.659"><span>and later on you </span></span><span class="transcription-time-part" data-time-start="1304.659" data-time-end="1306.985"><span>have another, include iostream. </span></span><span class="transcription-time-part" data-time-start="1306.985" data-time-end="1308.034"><span>Effectively. </span></span><span class="transcription-time-part" data-time-start="1308.034" data-time-end="1310.809"><span>That's harmless in the same header file, </span></span><span class="transcription-time-part" data-time-start="1310.809" data-time-end="1312.07"><span>including a standard header </span></span><span class="transcription-time-part" data-time-start="1312.07" data-time-end="1313.495"><span>more than once as harmless. </span></span><span class="transcription-time-part" data-time-start="1313.495" data-time-end="1315.249"><span>So that's one issue here. </span></span><span class="transcription-time-part" data-time-start="1315.249" data-time-end="1317.59"><span>Does that solve all our problems? </span></span><span class="transcription-time-part" data-time-start="1317.59" data-time-end="1319.72"><span>No, there's another compilation </span></span><span class="transcription-time-part" data-time-start="1319.72" data-time-end="1321.07"><span>problem to deal with. </span></span><span class="transcription-time-part" data-time-start="1321.07" data-time-end="1324.789"><span>So let me, let me go down here. </span></span><span class="transcription-time-part" data-time-start="1324.789" data-time-end="1327.339"><span>And let's say that we're writing </span></span><span class="transcription-time-part" data-time-start="1327.339" data-time-end="1329.92"><span>some application for the registrar. </span></span><span class="transcription-time-part" data-time-start="1329.92" data-time-end="1332.65"><span>And so let's say </span></span><span class="transcription-time-part" data-time-start="1332.65" data-time-end="1335.2"><span>that the registrar has decided that </span></span><span class="transcription-time-part" data-time-start="1335.2" data-time-end="1337.945"><span>we are going to have a class student </span></span><span class="transcription-time-part" data-time-start="1337.945" data-time-end="1341.724"><span>and students can enroll in courses. </span></span><span class="transcription-time-part" data-time-start="1341.724" data-time-end="1343.51"><span>So we'll have an enroll function </span></span><span class="transcription-time-part" data-time-start="1343.51" data-time-end="1345.099"><span>that takes a pointer to a course. </span></span><span class="transcription-time-part" data-time-start="1345.099" data-time-end="1347.169"><span>And the students study list will </span></span><span class="transcription-time-part" data-time-start="1347.169" data-time-end="1348.699"><span>be an array of pointers </span></span><span class="transcription-time-part" data-time-start="1348.699" data-time-end="1350.139"><span>to the courses the student, </span></span><span class="transcription-time-part" data-time-start="1350.139" data-time-end="1354.114"><span>students enrolled it. Okay? </span></span><span class="transcription-time-part" data-time-start="1354.114" data-time-end="1356.365"><span>We also have information about a course. </span></span><span class="transcription-time-part" data-time-start="1356.365" data-time-end="1359.409"><span>A given course has a certain number of units, </span></span><span class="transcription-time-part" data-time-start="1359.409" data-time-end="1361.72"><span>for example, associated with it. </span></span><span class="transcription-time-part" data-time-start="1361.72" data-time-end="1368.514"><span>And the a given course object </span></span><span class="transcription-time-part" data-time-start="1368.514" data-time-end="1370.39"><span>can have a roster </span></span><span class="transcription-time-part" data-time-start="1370.39" data-time-end="1372.37"><span>of all the students enrolled in the course. </span></span><span class="transcription-time-part" data-time-start="1372.37" data-time-end="1373.96"><span>So let's say we use an array </span></span><span class="transcription-time-part" data-time-start="1373.96" data-time-end="1375.67"><span>of pointers to each student there. </span></span><span class="transcription-time-part" data-time-start="1375.67" data-time-end="1377.829"><span>So for example, </span></span><span class="transcription-time-part" data-time-start="1377.829" data-time-end="1380.079"><span>the student Fred might </span></span><span class="transcription-time-part" data-time-start="1380.079" data-time-end="1381.879"><span>have a pointer to the course. </span></span><span class="transcription-time-part" data-time-start="1381.879" data-time-end="1384.039"><span>Cs 32 might have a pointer </span></span><span class="transcription-time-part" data-time-start="1384.039" data-time-end="1386.185"><span>to the course for, or physics. </span></span><span class="transcription-time-part" data-time-start="1386.185" data-time-end="1387.73"><span>You know, what? </span></span><span class="transcription-time-part" data-time-start="1387.73" data-time-end="1389.379"><span>A, might have a pointer </span></span><span class="transcription-time-part" data-time-start="1389.379" data-time-end="1392.329"><span>to a course for Math 33 be. </span></span><span class="transcription-time-part" data-time-start="1392.73" data-time-end="1395.44"><span>Now the course object, </span></span><span class="transcription-time-part" data-time-start="1395.44" data-time-end="1397.089"><span>for example, for CS 32, </span></span><span class="transcription-time-part" data-time-start="1397.089" data-time-end="1399.579"><span>that for the CS 32 course object will have </span></span><span class="transcription-time-part" data-time-start="1399.579" data-time-end="1401.14"><span>the Unix function returning </span></span><span class="transcription-time-part" data-time-start="1401.14" data-time-end="1402.715"><span>for it's a four unit course. </span></span><span class="transcription-time-part" data-time-start="1402.715" data-time-end="1404.619"><span>And we'll have a pointer to each of </span></span><span class="transcription-time-part" data-time-start="1404.619" data-time-end="1407.529"><span>the students enrolled in CS 32. </span></span><span class="transcription-time-part" data-time-start="1407.529" data-time-end="1410.71"><span>Okay? So we might </span></span><span class="transcription-time-part" data-time-start="1410.71" data-time-end="1412.929"><span>want to have some function that takes </span></span><span class="transcription-time-part" data-time-start="1412.929" data-time-end="1414.219"><span>a student and a pointer </span></span><span class="transcription-time-part" data-time-start="1414.219" data-time-end="1415.449"><span>to some student and a pointer to </span></span><span class="transcription-time-part" data-time-start="1415.449" data-time-end="1416.77"><span>some course and enrolls </span></span><span class="transcription-time-part" data-time-start="1416.77" data-time-end="1418.18"><span>that student in the course. </span></span><span class="transcription-time-part" data-time-start="1418.18" data-time-end="1419.74"><span>So we'll take the student object, </span></span><span class="transcription-time-part" data-time-start="1419.74" data-time-end="1421.6"><span>we'll call the enrolled member function. </span></span><span class="transcription-time-part" data-time-start="1421.6" data-time-end="1423.28"><span>Now if we try to compile this, </span></span><span class="transcription-time-part" data-time-start="1423.28" data-time-end="1424.39"><span>of course it won't compile. </span></span><span class="transcription-time-part" data-time-start="1424.39" data-time-end="1425.529"><span>The compiler says, I </span></span><span class="transcription-time-part" data-time-start="1425.529" data-time-end="1426.625"><span>don't know what student is. </span></span><span class="transcription-time-part" data-time-start="1426.625" data-time-end="1427.839"><span>I don't know what courses, </span></span><span class="transcription-time-part" data-time-start="1427.839" data-time-end="1429.009"><span>What are you talking about? </span></span><span class="transcription-time-part" data-time-start="1429.009" data-time-end="1430.33"><span>And we say, oh, of course </span></span><span class="transcription-time-part" data-time-start="1430.33" data-time-end="1431.83"><span>we're going to include, </span></span><span class="transcription-time-part" data-time-start="1431.83" data-time-end="1434.709"><span>we better include student dot h because where </span></span><span class="transcription-time-part" data-time-start="1434.709" data-time-end="1438.099"><span>We're we're using the student type </span></span><span class="transcription-time-part" data-time-start="1438.099" data-time-end="1439.434"><span>and in particular we, </span></span><span class="transcription-time-part" data-time-start="1439.434" data-time-end="1441.79"><span>we are calling a member function on students. </span></span><span class="transcription-time-part" data-time-start="1441.79" data-time-end="1443.86"><span>So how would the compiler know </span></span><span class="transcription-time-part" data-time-start="1443.86" data-time-end="1444.939"><span>whether a student has </span></span><span class="transcription-time-part" data-time-start="1444.939" data-time-end="1446.229"><span>an enroll function or not? </span></span><span class="transcription-time-part" data-time-start="1446.229" data-time-end="1448.314"><span>If we don't include student that age. </span></span><span class="transcription-time-part" data-time-start="1448.314" data-time-end="1449.919"><span>And of course, because we're talking </span></span><span class="transcription-time-part" data-time-start="1449.919" data-time-end="1451.239"><span>about a pointer to a course, </span></span><span class="transcription-time-part" data-time-start="1451.239" data-time-end="1453.714"><span>we'll, we'll also include course dot h. </span></span><span class="transcription-time-part" data-time-start="1453.714" data-time-end="1455.74"><span>So we tried to compile this now. </span></span><span class="transcription-time-part" data-time-start="1455.74" data-time-end="1457.629"><span>Now of course we have include guards were </span></span><span class="transcription-time-part" data-time-start="1457.629" data-time-end="1458.649"><span>following the guidelines of </span></span><span class="transcription-time-part" data-time-start="1458.649" data-time-end="1459.699"><span>having Include Guard. </span></span><span class="transcription-time-part" data-time-start="1459.699" data-time-end="1463.36"><span>So student dot h has an Include Guard. </span></span><span class="transcription-time-part" data-time-start="1463.36" data-time-end="1464.95"><span>And the symbol we're using for </span></span><span class="transcription-time-part" data-time-start="1464.95" data-time-end="1466.029"><span>that astute included </span></span><span class="transcription-time-part" data-time-start="1466.029" data-time-end="1466.87"><span>course dot h has </span></span><span class="transcription-time-part" data-time-start="1466.87" data-time-end="1468.519"><span>an Include Guard, the symbol. </span></span><span class="transcription-time-part" data-time-start="1468.519" data-time-end="1471.34"><span>That is course included. Okay, so </span></span><span class="transcription-time-part" data-time-start="1471.34" data-time-end="1472.959"><span>let's try to compile this. </span></span><span class="transcription-time-part" data-time-start="1472.959" data-time-end="1475.809"><span>All right, so we're going to try to </span></span><span class="transcription-time-part" data-time-start="1475.809" data-time-end="1477.34"><span>include student dot age </span></span><span class="transcription-time-part" data-time-start="1477.34" data-time-end="1479.049"><span>that starts off by saying, </span></span><span class="transcription-time-part" data-time-start="1479.049" data-time-end="1481.269"><span>have we included this and you know, </span></span><span class="transcription-time-part" data-time-start="1481.269" data-time-end="1482.514"><span>have we defined the symbol yet? </span></span><span class="transcription-time-part" data-time-start="1482.514" data-time-end="1484.179"><span>No, we haven't. So we're </span></span><span class="transcription-time-part" data-time-start="1484.179" data-time-end="1486.115"><span>going to process all this text. </span></span><span class="transcription-time-part" data-time-start="1486.115" data-time-end="1487.959"><span>All right, so we'll define student </span></span><span class="transcription-time-part" data-time-start="1487.959" data-time-end="1489.579"><span>included will say Here's </span></span><span class="transcription-time-part" data-time-start="1489.579" data-time-end="1491.125"><span>what it means to be a student. </span></span><span class="transcription-time-part" data-time-start="1491.125" data-time-end="1492.7"><span>And the compiler barbs </span></span><span class="transcription-time-part" data-time-start="1492.7" data-time-end="1494.05"><span>when it sees the word course. </span></span><span class="transcription-time-part" data-time-start="1494.05" data-time-end="1495.115"><span>I don't know what a course is. </span></span><span class="transcription-time-part" data-time-start="1495.115" data-time-end="1496.585"><span>We say, oh yes, of course, </span></span><span class="transcription-time-part" data-time-start="1496.585" data-time-end="1497.769"><span>student dot h is </span></span><span class="transcription-time-part" data-time-start="1497.769" data-time-end="1499.299"><span>making use of the name course. </span></span><span class="transcription-time-part" data-time-start="1499.299" data-time-end="1501.07"><span>So we'd better, we'd </span></span><span class="transcription-time-part" data-time-start="1501.07" data-time-end="1502.555"><span>better include core studies. </span></span><span class="transcription-time-part" data-time-start="1502.555" data-time-end="1504.519"><span>So let's try this again. </span></span><span class="transcription-time-part" data-time-start="1504.519" data-time-end="1506.89"><span>We compile myapp dot cpp. </span></span><span class="transcription-time-part" data-time-start="1506.89" data-time-end="1509.815"><span>We, we include student dot age. </span></span><span class="transcription-time-part" data-time-start="1509.815" data-time-end="1512.56"><span>Student H starts off by saying, </span></span><span class="transcription-time-part" data-time-start="1512.56" data-time-end="1513.735"><span>have we been here before? </span></span><span class="transcription-time-part" data-time-start="1513.735" data-time-end="1515.47"><span>Now we haven't. So we'll </span></span><span class="transcription-time-part" data-time-start="1515.47" data-time-end="1517.059"><span>define the symbol student </span></span><span class="transcription-time-part" data-time-start="1517.059" data-time-end="1519.129"><span>included will go include </span></span><span class="transcription-time-part" data-time-start="1519.129" data-time-end="1521.484"><span>core stage before we go on. </span></span><span class="transcription-time-part" data-time-start="1521.484" data-time-end="1524.259"><span>Okay, So let's go include course dot h, </span></span><span class="transcription-time-part" data-time-start="1524.259" data-time-end="1525.61"><span>which says have we been here </span></span><span class="transcription-time-part" data-time-start="1525.61" data-time-end="1527.484"><span>before, know we haven't. </span></span><span class="transcription-time-part" data-time-start="1527.484" data-time-end="1529.45"><span>So let's define the symbol course </span></span><span class="transcription-time-part" data-time-start="1529.45" data-time-end="1532.494"><span>included and start processing. </span></span><span class="transcription-time-part" data-time-start="1532.494" data-time-end="1534.25"><span>Here's what a course is. </span></span><span class="transcription-time-part" data-time-start="1534.25" data-time-end="1537.16"><span>Ok, Whoops, we come to the named student. </span></span><span class="transcription-time-part" data-time-start="1537.16" data-time-end="1538.794"><span>We don't know what a student is. </span></span><span class="transcription-time-part" data-time-start="1538.794" data-time-end="1541.3"><span>What we have, we included student dot h. </span></span><span class="transcription-time-part" data-time-start="1541.3" data-time-end="1541.99"><span>Now we haven't </span></span><span class="transcription-time-part" data-time-start="1541.99" data-time-end="1543.49"><span>finished including student body. </span></span><span class="transcription-time-part" data-time-start="1543.49" data-time-end="1546.145"><span>Remember, we said include student dot h </span></span><span class="transcription-time-part" data-time-start="1546.145" data-time-end="1547.929"><span>and that started off </span></span><span class="transcription-time-part" data-time-start="1547.929" data-time-end="1549.34"><span>by including course dot h. </span></span><span class="transcription-time-part" data-time-start="1549.34" data-time-end="1550.93"><span>So we haven't yet gotten to </span></span><span class="transcription-time-part" data-time-start="1550.93" data-time-end="1552.909"><span>the declaration of the student type. </span></span><span class="transcription-time-part" data-time-start="1552.909" data-time-end="1555.579"><span>And now we run across the word stood. </span></span><span class="transcription-time-part" data-time-start="1555.579" data-time-end="1557.409"><span>So you say, Okay, </span></span><span class="transcription-time-part" data-time-start="1557.409" data-time-end="1558.579"><span>I guess that means coursed </span></span><span class="transcription-time-part" data-time-start="1558.579" data-time-end="1560.065"><span>on H on includes circled </span></span><span class="transcription-time-part" data-time-start="1560.065" data-time-end="1563.77"><span>student dot h. So let's try this again. </span></span><span class="transcription-time-part" data-time-start="1563.77" data-time-end="1566.409"><span>So we try to include student on each here in </span></span><span class="transcription-time-part" data-time-start="1566.409" data-time-end="1569.334"><span>my app dot cpp student dot h says, </span></span><span class="transcription-time-part" data-time-start="1569.334" data-time-end="1570.73"><span>have I been here before? </span></span><span class="transcription-time-part" data-time-start="1570.73" data-time-end="1572.229"><span>Know, so let's define </span></span><span class="transcription-time-part" data-time-start="1572.229" data-time-end="1574.014"><span>the symbol stood, include it. </span></span><span class="transcription-time-part" data-time-start="1574.014" data-time-end="1576.429"><span>And let's go include course dot h. </span></span><span class="transcription-time-part" data-time-start="1576.429" data-time-end="1578.799"><span>Course dot h says have we been here before? </span></span><span class="transcription-time-part" data-time-start="1578.799" data-time-end="1580.18"><span>Know, so let's define </span></span><span class="transcription-time-part" data-time-start="1580.18" data-time-end="1581.95"><span>the symbol course included. </span></span><span class="transcription-time-part" data-time-start="1581.95" data-time-end="1585.145"><span>And let's go includes student dot h. </span></span><span class="transcription-time-part" data-time-start="1585.145" data-time-end="1587.53"><span>And student dot h says, </span></span><span class="transcription-time-part" data-time-start="1587.53" data-time-end="1589.27"><span>have I been here before? </span></span><span class="transcription-time-part" data-time-start="1589.27" data-time-end="1590.35"><span>Well, yes, I have. </span></span><span class="transcription-time-part" data-time-start="1590.35" data-time-end="1592.329"><span>We've already defined the students circle. </span></span><span class="transcription-time-part" data-time-start="1592.329" data-time-end="1593.409"><span>We've already defined </span></span><span class="transcription-time-part" data-time-start="1593.409" data-time-end="1595"><span>the symbol student included. </span></span><span class="transcription-time-part" data-time-start="1595" data-time-end="1597.114"><span>Skip all this. </span></span><span class="transcription-time-part" data-time-start="1597.114" data-time-end="1598.87"><span>And therefore, we don't </span></span><span class="transcription-time-part" data-time-start="1598.87" data-time-end="1601.33"><span>process the declaration of the student type. </span></span><span class="transcription-time-part" data-time-start="1601.33" data-time-end="1603.07"><span>And we'll come back in here, </span></span><span class="transcription-time-part" data-time-start="1603.07" data-time-end="1604.389"><span>we continue on and we </span></span><span class="transcription-time-part" data-time-start="1604.389" data-time-end="1606.264"><span>still don't know what a student this, </span></span><span class="transcription-time-part" data-time-start="1606.264" data-time-end="1609.07"><span>so this isn't going to work. </span></span><span class="transcription-time-part" data-time-start="1609.07" data-time-end="1611.68"><span>This is a so-called circular dependency. </span></span><span class="transcription-time-part" data-time-start="1611.68" data-time-end="1613.705"><span>It's a circular dependency. </span></span><span class="transcription-time-part" data-time-start="1613.705" data-time-end="1615.939"><span>Student depends on course </span></span><span class="transcription-time-part" data-time-start="1615.939" data-time-end="1617.65"><span>and course depends on student. </span></span><span class="transcription-time-part" data-time-start="1617.65" data-time-end="1619.809"><span>So the problem comes </span></span><span class="transcription-time-part" data-time-start="1619.809" data-time-end="1621.985"><span>in trying to do this compilation. </span></span><span class="transcription-time-part" data-time-start="1621.985" data-time-end="1625.389"><span>We can't process the declaration of </span></span><span class="transcription-time-part" data-time-start="1625.389" data-time-end="1627.31"><span>student without knowing that course </span></span><span class="transcription-time-part" data-time-start="1627.31" data-time-end="1628.63"><span>is the name of a type. </span></span><span class="transcription-time-part" data-time-start="1628.63" data-time-end="1629.8"><span>And we can't process </span></span><span class="transcription-time-part" data-time-start="1629.8" data-time-end="1630.88"><span>the declaration of course, </span></span><span class="transcription-time-part" data-time-start="1630.88" data-time-end="1631.93"><span>without knowing the student </span></span><span class="transcription-time-part" data-time-start="1631.93" data-time-end="1633.115"><span>is the name of the type. </span></span><span class="transcription-time-part" data-time-start="1633.115" data-time-end="1636.25"><span>And so we've got this problem here. </span></span><span class="transcription-time-part" data-time-start="1636.25" data-time-end="1639.94"><span>And try as you may, if you're, </span></span><span class="transcription-time-part" data-time-start="1639.94" data-time-end="1641.619"><span>if student dot h is somehow going to </span></span><span class="transcription-time-part" data-time-start="1641.619" data-time-end="1643.809"><span>include course dot agents in course dot h is </span></span><span class="transcription-time-part" data-time-start="1643.809" data-time-end="1645.909"><span>somehow going to include student dot h. </span></span><span class="transcription-time-part" data-time-start="1645.909" data-time-end="1648.099"><span>You can't solve this nicely. </span></span><span class="transcription-time-part" data-time-start="1648.099" data-time-end="1649.689"><span>People try things like, </span></span><span class="transcription-time-part" data-time-start="1649.689" data-time-end="1652.269"><span>well maybe all not define the student </span></span><span class="transcription-time-part" data-time-start="1652.269" data-time-end="1653.979"><span>included symbol until after </span></span><span class="transcription-time-part" data-time-start="1653.979" data-time-end="1655.779"><span>I've included course dot h and blah, </span></span><span class="transcription-time-part" data-time-start="1655.779" data-time-end="1656.739"><span>blah, blah, and you try </span></span><span class="transcription-time-part" data-time-start="1656.739" data-time-end="1658.494"><span>various rearrangements of things. </span></span><span class="transcription-time-part" data-time-start="1658.494" data-time-end="1659.439"><span>Maybe I'll put something </span></span><span class="transcription-time-part" data-time-start="1659.439" data-time-end="1660.94"><span>outside the Include Guard. </span></span><span class="transcription-time-part" data-time-start="1660.94" data-time-end="1662.484"><span>Ooh, no, don't do that either. </span></span><span class="transcription-time-part" data-time-start="1662.484" data-time-end="1662.709"><span>A, </span></span><span class="transcription-time-part" data-time-start="1662.709" data-time-end="1664.27"><span>you try various rearrangements </span></span><span class="transcription-time-part" data-time-start="1664.27" data-time-end="1665.769"><span>and none of them. </span></span><span class="transcription-time-part" data-time-start="1665.769" data-time-end="1668.754"><span>You may solve this immediate problem. </span></span><span class="transcription-time-part" data-time-start="1668.754" data-time-end="1670.48"><span>But then some other situation </span></span><span class="transcription-time-part" data-time-start="1670.48" data-time-end="1672.16"><span>where a client is including </span></span><span class="transcription-time-part" data-time-start="1672.16" data-time-end="1673.989"><span>student dot h and course dot age or </span></span><span class="transcription-time-part" data-time-start="1673.989" data-time-end="1676.39"><span>one of them and it's not going to work right. </span></span><span class="transcription-time-part" data-time-start="1676.39" data-time-end="1678.144"><span>Or maybe we should first </span></span><span class="transcription-time-part" data-time-start="1678.144" data-time-end="1680.139"><span>include course dot h then student at it. </span></span><span class="transcription-time-part" data-time-start="1680.139" data-time-end="1681.025"><span>No, no, no. </span></span><span class="transcription-time-part" data-time-start="1681.025" data-time-end="1683.035"><span>So let me get to the solution. </span></span><span class="transcription-time-part" data-time-start="1683.035" data-time-end="1687.189"><span>First of all, let me note that C plus, </span></span><span class="transcription-time-part" data-time-start="1687.189" data-time-end="1690.13"><span>plus and C basically </span></span><span class="transcription-time-part" data-time-start="1690.13" data-time-end="1691.659"><span>allow you when you declare a class </span></span><span class="transcription-time-part" data-time-start="1691.659" data-time-end="1694.029"><span>and a struct or a structure to </span></span><span class="transcription-time-part" data-time-start="1694.029" data-time-end="1695.319"><span>provide a </span></span><span class="transcription-time-part" data-time-start="1695.319" data-time-end="1698.65"><span>so-called incomplete type declaration. </span></span><span class="transcription-time-part" data-time-start="1698.65" data-time-end="1700.419"><span>So if I define a class or </span></span><span class="transcription-time-part" data-time-start="1700.419" data-time-end="1702.399"><span>a structure this way, </span></span><span class="transcription-time-part" data-time-start="1702.399" data-time-end="1705.684"><span>this is an incomplete type declaration. </span></span><span class="transcription-time-part" data-time-start="1705.684" data-time-end="1709.659"><span>I'm announcing that a is the name of a type, </span></span><span class="transcription-time-part" data-time-start="1709.659" data-time-end="1712.254"><span>but I'm not saying any details about it. </span></span><span class="transcription-time-part" data-time-start="1712.254" data-time-end="1713.905"><span>That's what that semicolon saying is just, </span></span><span class="transcription-time-part" data-time-start="1713.905" data-time-end="1715.884"><span>I'm telling you is the name of the class, </span></span><span class="transcription-time-part" data-time-start="1715.884" data-time-end="1716.919"><span>but I'm not going to give you </span></span><span class="transcription-time-part" data-time-start="1716.919" data-time-end="1719.059"><span>any details right now. </span></span><span class="transcription-time-part" data-time-start="1719.55" data-time-end="1722.499"><span>Now later on in the compilation, </span></span><span class="transcription-time-part" data-time-start="1722.499" data-time-end="1723.85"><span>you could say, Oh, </span></span><span class="transcription-time-part" data-time-start="1723.85" data-time-end="1724.779"><span>by the way, here is </span></span><span class="transcription-time-part" data-time-start="1724.779" data-time-end="1726.625"><span>the full declaration of a. </span></span><span class="transcription-time-part" data-time-start="1726.625" data-time-end="1729.054"><span>In fact, in the same declaration, </span></span><span class="transcription-time-part" data-time-start="1729.054" data-time-end="1731.02"><span>you can have </span></span><span class="transcription-time-part" data-time-start="1731.02" data-time-end="1732.34"><span>as many incomplete type </span></span><span class="transcription-time-part" data-time-start="1732.34" data-time-end="1733.809"><span>specifications as you like. </span></span><span class="transcription-time-part" data-time-start="1733.809" data-time-end="1735.61"><span>Now nobody would write this this way, </span></span><span class="transcription-time-part" data-time-start="1735.61" data-time-end="1737.71"><span>but we'll see why this is, this is okay. </span></span><span class="transcription-time-part" data-time-start="1737.71" data-time-end="1741.265"><span>So compiling the same file, this is all fine. </span></span><span class="transcription-time-part" data-time-start="1741.265" data-time-end="1742.839"><span>You can have as many incomplete </span></span><span class="transcription-time-part" data-time-start="1742.839" data-time-end="1744.4"><span>type declarations as you like, </span></span><span class="transcription-time-part" data-time-start="1744.4" data-time-end="1747.205"><span>but no more than one actual full, </span></span><span class="transcription-time-part" data-time-start="1747.205" data-time-end="1748.749"><span>full-blown declaration </span></span><span class="transcription-time-part" data-time-start="1748.749" data-time-end="1749.92"><span>of the type of the class. </span></span><span class="transcription-time-part" data-time-start="1749.92" data-time-end="1752.079"><span>We'll see why that's why that's useful. </span></span><span class="transcription-time-part" data-time-start="1752.079" data-time-end="1754.33"><span>What's the purpose of this is to let </span></span><span class="transcription-time-part" data-time-start="1754.33" data-time-end="1755.829"><span>the compiler know that </span></span><span class="transcription-time-part" data-time-start="1755.829" data-time-end="1757.464"><span>a is the name of a type. </span></span><span class="transcription-time-part" data-time-start="1757.464" data-time-end="1760.254"><span>But we're not saying anything about a. </span></span><span class="transcription-time-part" data-time-start="1760.254" data-time-end="1762.009"><span>Well, we don't always </span></span><span class="transcription-time-part" data-time-start="1762.009" data-time-end="1764.095"><span>need to know details about a. </span></span><span class="transcription-time-part" data-time-start="1764.095" data-time-end="1765.549"><span>So let's go back to this and </span></span><span class="transcription-time-part" data-time-start="1765.549" data-time-end="1767.305"><span>see how that solves the problem. </span></span><span class="transcription-time-part" data-time-start="1767.305" data-time-end="1770.5"><span>Now, notice that when </span></span><span class="transcription-time-part" data-time-start="1770.5" data-time-end="1773.32"><span>we declare the student type, </span></span><span class="transcription-time-part" data-time-start="1773.32" data-time-end="1775.63"><span>student has a parameter that </span></span><span class="transcription-time-part" data-time-start="1775.63" data-time-end="1777.729"><span>is a pointer to a course, </span></span><span class="transcription-time-part" data-time-start="1777.729" data-time-end="1780.939"><span>and student has an array of course points. </span></span><span class="transcription-time-part" data-time-start="1780.939" data-time-end="1783.204"><span>Now there's a role in C plus plus that, </span></span><span class="transcription-time-part" data-time-start="1783.204" data-time-end="1787.72"><span>that when you declare a structure or a class, </span></span><span class="transcription-time-part" data-time-start="1787.72" data-time-end="1790.36"><span>the compiler needs to be able to </span></span><span class="transcription-time-part" data-time-start="1790.36" data-time-end="1793.72"><span>figure out the size of such an object. </span></span><span class="transcription-time-part" data-time-start="1793.72" data-time-end="1797.379"><span>So if I declare a student B </span></span><span class="transcription-time-part" data-time-start="1797.379" data-time-end="1798.85"><span>and tell you how it's </span></span><span class="transcription-time-part" data-time-start="1798.85" data-time-end="1799.989"><span>implemented with an array </span></span><span class="transcription-time-part" data-time-start="1799.989" data-time-end="1801.219"><span>of 10 course pointers. </span></span><span class="transcription-time-part" data-time-start="1801.219" data-time-end="1802.63"><span>The compiler has to know how </span></span><span class="transcription-time-part" data-time-start="1802.63" data-time-end="1804.369"><span>big the student is. </span></span><span class="transcription-time-part" data-time-start="1804.369" data-time-end="1807.564"><span>Now, an array of 10 objects </span></span><span class="transcription-time-part" data-time-start="1807.564" data-time-end="1809.35"><span>is going to be 10 times the size </span></span><span class="transcription-time-part" data-time-start="1809.35" data-time-end="1810.744"><span>of one of those things. </span></span><span class="transcription-time-part" data-time-start="1810.744" data-time-end="1812.934"><span>So an array of 10 study with 10, </span></span><span class="transcription-time-part" data-time-start="1812.934" data-time-end="1814.719"><span>an array of 10 course pointers is going to </span></span><span class="transcription-time-part" data-time-start="1814.719" data-time-end="1817.089"><span>be 10 times the size I've of course point. </span></span><span class="transcription-time-part" data-time-start="1817.089" data-time-end="1817.689"><span>How? </span></span><span class="transcription-time-part" data-time-start="1817.689" data-time-end="1819.204"><span>Because of course pointer. </span></span><span class="transcription-time-part" data-time-start="1819.204" data-time-end="1822.925"><span>Well, there's a rule in C plus, plus, </span></span><span class="transcription-time-part" data-time-start="1822.925" data-time-end="1825.114"><span>all pointers are the same size </span></span><span class="transcription-time-part" data-time-start="1825.114" data-time-end="1827.005"><span>and the compiler knows that size. </span></span><span class="transcription-time-part" data-time-start="1827.005" data-time-end="1828.73"><span>So if we're on a machine where pointers </span></span><span class="transcription-time-part" data-time-start="1828.73" data-time-end="1830.47"><span>are always four bytes long, </span></span><span class="transcription-time-part" data-time-start="1830.47" data-time-end="1832.42"><span>all pointers are four bytes long no matter </span></span><span class="transcription-time-part" data-time-start="1832.42" data-time-end="1834.759"><span>what they point to 0. </span></span><span class="transcription-time-part" data-time-start="1834.759" data-time-end="1836.29"><span>So do we need to know </span></span><span class="transcription-time-part" data-time-start="1836.29" data-time-end="1838.029"><span>any details about the course </span></span><span class="transcription-time-part" data-time-start="1838.029" data-time-end="1839.77"><span>tied to know that </span></span><span class="transcription-time-part" data-time-start="1839.77" data-time-end="1841.795"><span>this is a four-byte pointer. </span></span><span class="transcription-time-part" data-time-start="1841.795" data-time-end="1844.614"><span>Now, so the compiler says, oh, </span></span><span class="transcription-time-part" data-time-start="1844.614" data-time-end="1846.4"><span>okay, list is an array </span></span><span class="transcription-time-part" data-time-start="1846.4" data-time-end="1847.66"><span>of ten pointers to things. </span></span><span class="transcription-time-part" data-time-start="1847.66" data-time-end="1849.249"><span>And pointers are four bytes long, </span></span><span class="transcription-time-part" data-time-start="1849.249" data-time-end="1850.869"><span>so study list is 40 bytes long, </span></span><span class="transcription-time-part" data-time-start="1850.869" data-time-end="1853.285"><span>so I know how big this is, I'm happy. </span></span><span class="transcription-time-part" data-time-start="1853.285" data-time-end="1855.219"><span>So in other words, to, </span></span><span class="transcription-time-part" data-time-start="1855.219" data-time-end="1858.024"><span>to use a pointer to something, </span></span><span class="transcription-time-part" data-time-start="1858.024" data-time-end="1859.54"><span>the compiler only needs to know </span></span><span class="transcription-time-part" data-time-start="1859.54" data-time-end="1861.099"><span>that that's the name of a type course is </span></span><span class="transcription-time-part" data-time-start="1861.099" data-time-end="1862.359"><span>the name of the type doesn't need to </span></span><span class="transcription-time-part" data-time-start="1862.359" data-time-end="1864.429"><span>know any details about course. </span></span><span class="transcription-time-part" data-time-start="1864.429" data-time-end="1868.239"><span>So in particular, student dot h does </span></span><span class="transcription-time-part" data-time-start="1868.239" data-time-end="1873.235"><span>not need to include, whoops, course dotted. </span></span><span class="transcription-time-part" data-time-start="1873.235" data-time-end="1875.83"><span>All it needs is </span></span><span class="transcription-time-part" data-time-start="1875.83" data-time-end="1878.019"><span>to know course is the name of a type. </span></span><span class="transcription-time-part" data-time-start="1878.019" data-time-end="1880.975"><span>And we have broken the circular dependency. </span></span><span class="transcription-time-part" data-time-start="1880.975" data-time-end="1883.57"><span>We broken the fact that, well, </span></span><span class="transcription-time-part" data-time-start="1883.57" data-time-end="1885.129"><span>student dot h needs to include </span></span><span class="transcription-time-part" data-time-start="1885.129" data-time-end="1886.18"><span>course dot h and courts </span></span><span class="transcription-time-part" data-time-start="1886.18" data-time-end="1887.709"><span>dot h needs to include circled. </span></span><span class="transcription-time-part" data-time-start="1887.709" data-time-end="1889.809"><span>Anymore, student diets </span></span><span class="transcription-time-part" data-time-start="1889.809" data-time-end="1891.294"><span>doesn't include course dot h. </span></span><span class="transcription-time-part" data-time-start="1891.294" data-time-end="1892.719"><span>All student dot h has to </span></span><span class="transcription-time-part" data-time-start="1892.719" data-time-end="1894.324"><span>know is course is the name of a type. </span></span><span class="transcription-time-part" data-time-start="1894.324" data-time-end="1895.959"><span>And that's enough to process </span></span><span class="transcription-time-part" data-time-start="1895.959" data-time-end="1898.525"><span>these declarations using these pointers. </span></span><span class="transcription-time-part" data-time-start="1898.525" data-time-end="1900.249"><span>Now it also turns out, </span></span><span class="transcription-time-part" data-time-start="1900.249" data-time-end="1902.019"><span>in fact that course doesn't need to </span></span><span class="transcription-time-part" data-time-start="1902.019" data-time-end="1904.18"><span>know any details about student neither. </span></span><span class="transcription-time-part" data-time-start="1904.18" data-time-end="1907.03"><span>So we will go ahead </span></span><span class="transcription-time-part" data-time-start="1907.03" data-time-end="1908.17"><span>and use an incomplete </span></span><span class="transcription-time-part" data-time-start="1908.17" data-time-end="1910.029"><span>STI test specification here. </span></span><span class="transcription-time-part" data-time-start="1910.029" data-time-end="1912.97"><span>In general, if you can get away with </span></span><span class="transcription-time-part" data-time-start="1912.97" data-time-end="1915.16"><span>using an incomplete type specification, </span></span><span class="transcription-time-part" data-time-start="1915.16" data-time-end="1916.074"><span>do so. </span></span><span class="transcription-time-part" data-time-start="1916.074" data-time-end="1917.56"><span>If you can get away with </span></span><span class="transcription-time-part" data-time-start="1917.56" data-time-end="1919.48"><span>not including the header file and </span></span><span class="transcription-time-part" data-time-start="1919.48" data-time-end="1920.74"><span>simply providing </span></span><span class="transcription-time-part" data-time-start="1920.74" data-time-end="1922.884"><span>an incomplete type specification. </span></span><span class="transcription-time-part" data-time-start="1922.884" data-time-end="1925.149"><span>Do that. One of </span></span><span class="transcription-time-part" data-time-start="1925.149" data-time-end="1926.08"><span>the reasons is to break </span></span><span class="transcription-time-part" data-time-start="1926.08" data-time-end="1927.28"><span>circular dependencies, </span></span><span class="transcription-time-part" data-time-start="1927.28" data-time-end="1928.99"><span>but another reason is </span></span><span class="transcription-time-part" data-time-start="1928.99" data-time-end="1932.41"><span>that and it speeds up your compilation. </span></span><span class="transcription-time-part" data-time-start="1932.41" data-time-end="1934.209"><span>Enlarge systems. </span></span><span class="transcription-time-part" data-time-start="1934.209" data-time-end="1936.129"><span>You don't want to needlessly </span></span><span class="transcription-time-part" data-time-start="1936.129" data-time-end="1937.21"><span>include header files. </span></span><span class="transcription-time-part" data-time-start="1937.21" data-time-end="1940.159"><span>If you don't have to include a header file. </span></span><span class="transcription-time-part" data-time-start="1940.17" data-time-end="1942.88"><span>In a large system, you generally don't want </span></span><span class="transcription-time-part" data-time-start="1942.88" data-time-end="1945.07"><span>to do so because you, </span></span><span class="transcription-time-part" data-time-start="1945.07" data-time-end="1946.749"><span>it means to combine likes to go look at </span></span><span class="transcription-time-part" data-time-start="1946.749" data-time-end="1948.864"><span>that header and deal with stuff. </span></span><span class="transcription-time-part" data-time-start="1948.864" data-time-end="1951.039"><span>Now we don't care about multiple </span></span><span class="transcription-time-part" data-time-start="1951.039" data-time-end="1952.299"><span>including standard header file. </span></span><span class="transcription-time-part" data-time-start="1952.299" data-time-end="1953.739"><span>Standard headers are often </span></span><span class="transcription-time-part" data-time-start="1953.739" data-time-end="1955.614"><span>treated differently by the compiler. </span></span><span class="transcription-time-part" data-time-start="1955.614" data-time-end="1956.799"><span>And if you include the same </span></span><span class="transcription-time-part" data-time-start="1956.799" data-time-end="1958.03"><span>standard header file more </span></span><span class="transcription-time-part" data-time-start="1958.03" data-time-end="1959.079"><span>than once directly or </span></span><span class="transcription-time-part" data-time-start="1959.079" data-time-end="1960.58"><span>indirectly, that's harmless. </span></span><span class="transcription-time-part" data-time-start="1960.58" data-time-end="1961.779"><span>If you include a header, you </span></span><span class="transcription-time-part" data-time-start="1961.779" data-time-end="1963.039"><span>don't really need that. </span></span><span class="transcription-time-part" data-time-start="1963.039" data-time-end="1964.465"><span>That's, that's harmless. </span></span><span class="transcription-time-part" data-time-start="1964.465" data-time-end="1966.895"><span>A standard header that you don't need. </span></span><span class="transcription-time-part" data-time-start="1966.895" data-time-end="1969.4"><span>So including iostream, if you don't </span></span><span class="transcription-time-part" data-time-start="1969.4" data-time-end="1971.845"><span>really ever use it, that's harmless. </span></span><span class="transcription-time-part" data-time-start="1971.845" data-time-end="1975.624"><span>All right, so we've now solved the problem. </span></span><span class="transcription-time-part" data-time-start="1975.624" data-time-end="1977.545"><span>We broken the circular dependency. </span></span><span class="transcription-time-part" data-time-start="1977.545" data-time-end="1979.179"><span>In fact, we've broken </span></span><span class="transcription-time-part" data-time-start="1979.179" data-time-end="1980.904"><span>at both places, so that's fine. </span></span><span class="transcription-time-part" data-time-start="1980.904" data-time-end="1984.13"><span>I'm including student dot h says, </span></span><span class="transcription-time-part" data-time-start="1984.13" data-time-end="1985.63"><span>Okay, Have I been here before? </span></span><span class="transcription-time-part" data-time-start="1985.63" data-time-end="1986.439"><span>No, I haven't. </span></span><span class="transcription-time-part" data-time-start="1986.439" data-time-end="1988.989"><span>So let's, let's define the symbol. </span></span><span class="transcription-time-part" data-time-start="1988.989" data-time-end="1990.025"><span>O. </span></span><span class="transcription-time-part" data-time-start="1990.025" data-time-end="1992.424"><span>Course is the name of the type. Okay, Fine. </span></span><span class="transcription-time-part" data-time-start="1992.424" data-time-end="1993.939"><span>Thank you for telling me that. </span></span><span class="transcription-time-part" data-time-start="1993.939" data-time-end="1996.609"><span>Let's let's now see </span></span><span class="transcription-time-part" data-time-start="1996.609" data-time-end="1998.17"><span>what it is to be a student. </span></span><span class="transcription-time-part" data-time-start="1998.17" data-time-end="1999.909"><span>Oh, why know the name of course? </span></span><span class="transcription-time-part" data-time-start="1999.909" data-time-end="2001.395"><span>Course is the name of the type. Okay. </span></span><span class="transcription-time-part" data-time-start="2001.395" data-time-end="2003.21"><span>So CPS a pointer to a course. </span></span><span class="transcription-time-part" data-time-start="2003.21" data-time-end="2005.01"><span>Oh, I know what a course is. </span></span><span class="transcription-time-part" data-time-start="2005.01" data-time-end="2006"><span>Why don't know details, </span></span><span class="transcription-time-part" data-time-start="2006" data-time-end="2007.109"><span>but I know it's the name of the type. </span></span><span class="transcription-time-part" data-time-start="2007.109" data-time-end="2008.819"><span>So, oh, you're declaring an array of </span></span><span class="transcription-time-part" data-time-start="2008.819" data-time-end="2011.37"><span>ten pointers to courses. That's fine. </span></span><span class="transcription-time-part" data-time-start="2011.37" data-time-end="2013.199"><span>Okay, So that's fine. </span></span><span class="transcription-time-part" data-time-start="2013.199" data-time-end="2014.43"><span>We know is going to be 40. </span></span><span class="transcription-time-part" data-time-start="2014.43" data-time-end="2016.2"><span>So the compiler is happy. </span></span><span class="transcription-time-part" data-time-start="2016.2" data-time-end="2018.179"><span>And now we know what a student is. </span></span><span class="transcription-time-part" data-time-start="2018.179" data-time-end="2021"><span>Now when we include course dot h. </span></span><span class="transcription-time-part" data-time-start="2021" data-time-end="2022.77"><span>Have we seen this before? </span></span><span class="transcription-time-part" data-time-start="2022.77" data-time-end="2023.399"><span>It no. </span></span><span class="transcription-time-part" data-time-start="2023.399" data-time-end="2025.364"><span>So let's define the symbol </span></span><span class="transcription-time-part" data-time-start="2025.364" data-time-end="2027.794"><span>o students the name of a type. </span></span><span class="transcription-time-part" data-time-start="2027.794" data-time-end="2029.429"><span>Well, I've already seen </span></span><span class="transcription-time-part" data-time-start="2029.429" data-time-end="2031.2"><span>the complete declaration of student. </span></span><span class="transcription-time-part" data-time-start="2031.2" data-time-end="2033.105"><span>I already know that. </span></span><span class="transcription-time-part" data-time-start="2033.105" data-time-end="2034.754"><span>Is that a problem? </span></span><span class="transcription-time-part" data-time-start="2034.754" data-time-end="2036.915"><span>No, because as I said, </span></span><span class="transcription-time-part" data-time-start="2036.915" data-time-end="2038.55"><span>you can have </span></span><span class="transcription-time-part" data-time-start="2038.55" data-time-end="2041.339"><span>multiple incomplete types us vacation. </span></span><span class="transcription-time-part" data-time-start="2041.339" data-time-end="2044.309"><span>So so if we've already seen that student, </span></span><span class="transcription-time-part" data-time-start="2044.309" data-time-end="2046.274"><span>here's the full student declaration. </span></span><span class="transcription-time-part" data-time-start="2046.274" data-time-end="2047.64"><span>And now I'm going to tell </span></span><span class="transcription-time-part" data-time-start="2047.64" data-time-end="2049.394"><span>you students the name of a type. </span></span><span class="transcription-time-part" data-time-start="2049.394" data-time-end="2050.55"><span>That's harmless. </span></span><span class="transcription-time-part" data-time-start="2050.55" data-time-end="2051.6"><span>Okay? </span></span><span class="transcription-time-part" data-time-start="2051.6" data-time-end="2053.25"><span>And so we know students </span></span><span class="transcription-time-part" data-time-start="2053.25" data-time-end="2054.75"><span>the name of a type already anyway, </span></span><span class="transcription-time-part" data-time-start="2054.75" data-time-end="2056.13"><span>we process course, we see </span></span><span class="transcription-time-part" data-time-start="2056.13" data-time-end="2057.719"><span>the pointer to a student, that's fine. </span></span><span class="transcription-time-part" data-time-start="2057.719" data-time-end="2059.354"><span>We know what student is, </span></span><span class="transcription-time-part" data-time-start="2059.354" data-time-end="2061.379"><span>we know how big the roster is. </span></span><span class="transcription-time-part" data-time-start="2061.379" data-time-end="2063.659"><span>It's 1000 times the size of a pointer. </span></span><span class="transcription-time-part" data-time-start="2063.659" data-time-end="2065.61"><span>Okay, and when we're done with this, </span></span><span class="transcription-time-part" data-time-start="2065.61" data-time-end="2067.244"><span>we now know what a course is. </span></span><span class="transcription-time-part" data-time-start="2067.244" data-time-end="2070.41"><span>And so the rest of this is fine. </span></span><span class="transcription-time-part" data-time-start="2070.41" data-time-end="2074.399"><span>Now, in myapp dot cpp, </span></span><span class="transcription-time-part" data-time-start="2074.399" data-time-end="2079.334"><span>could I say class student, </span></span><span class="transcription-time-part" data-time-start="2079.334" data-time-end="2081.644"><span>and just leave it at that? </span></span><span class="transcription-time-part" data-time-start="2081.644" data-time-end="2085.239"><span>And class course and just leave it at that. </span></span><span class="transcription-time-part" data-time-start="2086.48" data-time-end="2088.559"><span>No. </span></span><span class="transcription-time-part" data-time-start="2088.559" data-time-end="2091.41"><span>No, I can't because this </span></span><span class="transcription-time-part" data-time-start="2091.41" data-time-end="2093.659"><span>won't compile because although okay, </span></span><span class="transcription-time-part" data-time-start="2093.659" data-time-end="2094.62"><span>we know students the name </span></span><span class="transcription-time-part" data-time-start="2094.62" data-time-end="2095.459"><span>of the type we're talking </span></span><span class="transcription-time-part" data-time-start="2095.459" data-time-end="2096.449"><span>about a pointer we know of </span></span><span class="transcription-time-part" data-time-start="2096.449" data-time-end="2097.59"><span>course is the name of a type. </span></span><span class="transcription-time-part" data-time-start="2097.59" data-time-end="2098.19"><span>We're talking about </span></span><span class="transcription-time-part" data-time-start="2098.19" data-time-end="2099.72"><span>a pointer that's harmless. </span></span><span class="transcription-time-part" data-time-start="2099.72" data-time-end="2102.839"><span>We are depending here on knowing </span></span><span class="transcription-time-part" data-time-start="2102.839" data-time-end="2104.189"><span>that student has </span></span><span class="transcription-time-part" data-time-start="2104.189" data-time-end="2106.605"><span>a member function called enroll. </span></span><span class="transcription-time-part" data-time-start="2106.605" data-time-end="2108.63"><span>And you don't know that from </span></span><span class="transcription-time-part" data-time-start="2108.63" data-time-end="2111.209"><span>this all I know student the name of a type. </span></span><span class="transcription-time-part" data-time-start="2111.209" data-time-end="2112.499"><span>I don't know anything about what </span></span><span class="transcription-time-part" data-time-start="2112.499" data-time-end="2113.85"><span>member functions it has. </span></span><span class="transcription-time-part" data-time-start="2113.85" data-time-end="2116.115"><span>So now we'd have to, </span></span><span class="transcription-time-part" data-time-start="2116.115" data-time-end="2119.289"><span>we'd have to fully include student dot h. </span></span><span class="transcription-time-part" data-time-start="2119.81" data-time-end="2123.885"><span>Now, for just this much, </span></span><span class="transcription-time-part" data-time-start="2123.885" data-time-end="2125.31"><span>we actually could get away </span></span><span class="transcription-time-part" data-time-start="2125.31" data-time-end="2126.765"><span>with saying class course, </span></span><span class="transcription-time-part" data-time-start="2126.765" data-time-end="2128.879"><span>because all we're saying is, hey, </span></span><span class="transcription-time-part" data-time-start="2128.879" data-time-end="2130.98"><span>this function takes in a pointer to </span></span><span class="transcription-time-part" data-time-start="2130.98" data-time-end="2132.449"><span>a course and passes </span></span><span class="transcription-time-part" data-time-start="2132.449" data-time-end="2134.219"><span>it on to the enroll function, </span></span><span class="transcription-time-part" data-time-start="2134.219" data-time-end="2136.35"><span>which wants a pointer to a course. </span></span><span class="transcription-time-part" data-time-start="2136.35" data-time-end="2139.005"><span>So does this code itself </span></span><span class="transcription-time-part" data-time-start="2139.005" data-time-end="2141.54"><span>need to know anything more about course, </span></span><span class="transcription-time-part" data-time-start="2141.54" data-time-end="2142.559"><span>what member functions it </span></span><span class="transcription-time-part" data-time-start="2142.559" data-time-end="2143.999"><span>has or how big it is now. </span></span><span class="transcription-time-part" data-time-start="2143.999" data-time-end="2145.395"><span>Now we don't actually need that. </span></span><span class="transcription-time-part" data-time-start="2145.395" data-time-end="2146.759"><span>So we could just get </span></span><span class="transcription-time-part" data-time-start="2146.759" data-time-end="2148.079"><span>away with saying class course. </span></span><span class="transcription-time-part" data-time-start="2148.079" data-time-end="2150.644"><span>But you know, </span></span><span class="transcription-time-part" data-time-start="2150.644" data-time-end="2154.11"><span>in a CPP file you're less persnickety about, </span></span><span class="transcription-time-part" data-time-start="2154.11" data-time-end="2155.52"><span>about don't include things </span></span><span class="transcription-time-part" data-time-start="2155.52" data-time-end="2157.154"><span>you don't really have to. </span></span><span class="transcription-time-part" data-time-start="2157.154" data-time-end="2159.42"><span>If you go ahead in the CPP file </span></span><span class="transcription-time-part" data-time-start="2159.42" data-time-end="2161.28"><span>and say include course </span></span><span class="transcription-time-part" data-time-start="2161.28" data-time-end="2165.269"><span>dot h. That's, that's okay. </span></span><span class="transcription-time-part" data-time-start="2165.269" data-time-end="2166.529"><span>Nobody's going, He's </span></span><span class="transcription-time-part" data-time-start="2166.529" data-time-end="2168.639"><span>going to yell at you for doing that. </span></span><span class="transcription-time-part" data-time-start="2169.64" data-time-end="2171.164"><span>Okay. </span></span><span class="transcription-time-part" data-time-start="2171.164" data-time-end="2172.83"><span>So that's the that's </span></span><span class="transcription-time-part" data-time-start="2172.83" data-time-end="2174.36"><span>the circular dependency issue </span></span><span class="transcription-time-part" data-time-start="2174.36" data-time-end="2175.799"><span>that I wanted to make sure </span></span><span class="transcription-time-part" data-time-start="2175.799" data-time-end="2177.69"><span>we were we were good on here. </span></span><span class="transcription-time-part" data-time-start="2177.69" data-time-end="2180.54"><span>And so when do </span></span><span class="transcription-time-part" data-time-start="2180.54" data-time-end="2183.33"><span>you when do you have to include </span></span><span class="transcription-time-part" data-time-start="2183.33" data-time-end="2186.659"><span>the header file and when can you get away </span></span><span class="transcription-time-part" data-time-start="2186.659" data-time-end="2188.04"><span>with simply </span></span><span class="transcription-time-part" data-time-start="2188.04" data-time-end="2190.29"><span>using an incomplete type specification? </span></span><span class="transcription-time-part" data-time-start="2190.29" data-time-end="2192.419"><span>And so here's, here's when you </span></span><span class="transcription-time-part" data-time-start="2192.419" data-time-end="2194.834"><span>can get away with just </span></span><span class="transcription-time-part" data-time-start="2194.834" data-time-end="2196.8"><span>using an incomplete type specification </span></span><span class="transcription-time-part" data-time-start="2196.8" data-time-end="2198.119"><span>instead of having to include </span></span><span class="transcription-time-part" data-time-start="2198.119" data-time-end="2199.56"><span>the whole federal header file. </span></span><span class="transcription-time-part" data-time-start="2199.56" data-time-end="2202.199"><span>The basic principle is if </span></span><span class="transcription-time-part" data-time-start="2202.199" data-time-end="2203.58"><span>the compiler needs to </span></span><span class="transcription-time-part" data-time-start="2203.58" data-time-end="2206.235"><span>know some details about the type, </span></span><span class="transcription-time-part" data-time-start="2206.235" data-time-end="2208.559"><span>then you'll have to include the header file. </span></span><span class="transcription-time-part" data-time-start="2208.559" data-time-end="2210.57"><span>If all it needs to know is it's the name of </span></span><span class="transcription-time-part" data-time-start="2210.57" data-time-end="2211.59"><span>a type you can get </span></span><span class="transcription-time-part" data-time-start="2211.59" data-time-end="2213.315"><span>away without, without that. </span></span><span class="transcription-time-part" data-time-start="2213.315" data-time-end="2215.175"><span>So when do we have to know the detail? </span></span><span class="transcription-time-part" data-time-start="2215.175" data-time-end="2216.059"><span>What does the Bible have to know </span></span><span class="transcription-time-part" data-time-start="2216.059" data-time-end="2217.439"><span>the details about a time? </span></span><span class="transcription-time-part" data-time-start="2217.439" data-time-end="2219.42"><span>Well, if you declare a data member, </span></span><span class="transcription-time-part" data-time-start="2219.42" data-time-end="2220.92"><span>That's of that time. </span></span><span class="transcription-time-part" data-time-start="2220.92" data-time-end="2222.914"><span>Not a pointer, not a reference. </span></span><span class="transcription-time-part" data-time-start="2222.914" data-time-end="2224.819"><span>Empty eclectic, Claire data member, That's, </span></span><span class="transcription-time-part" data-time-start="2224.819" data-time-end="2226.364"><span>that's of that type, </span></span><span class="transcription-time-part" data-time-start="2226.364" data-time-end="2229.049"><span>then the compiler has to know how big it is. </span></span><span class="transcription-time-part" data-time-start="2229.049" data-time-end="2231.045"><span>If you declare a container </span></span><span class="transcription-time-part" data-time-start="2231.045" data-time-end="2233.474"><span>of those actual objects. </span></span><span class="transcription-time-part" data-time-start="2233.474" data-time-end="2238.019"><span>So like an array of objects of that type, </span></span><span class="transcription-time-part" data-time-start="2238.019" data-time-end="2239.684"><span>then it has to now pointers now. </span></span><span class="transcription-time-part" data-time-start="2239.684" data-time-end="2241.829"><span>But, but an array, yes. </span></span><span class="transcription-time-part" data-time-start="2241.829" data-time-end="2243.45"><span>If you go ahead and </span></span><span class="transcription-time-part" data-time-start="2243.45" data-time-end="2245.249"><span>declare an object of that type, </span></span><span class="transcription-time-part" data-time-start="2245.249" data-time-end="2246.09"><span>it has to know </span></span><span class="transcription-time-part" data-time-start="2246.09" data-time-end="2247.739"><span>about that tie because I have to know what </span></span><span class="transcription-time-part" data-time-start="2247.739" data-time-end="2249.089"><span>Constructors constructors </span></span><span class="transcription-time-part" data-time-start="2249.089" data-time-end="2250.659"><span>are available for that type. </span></span><span class="transcription-time-part" data-time-start="2250.659" data-time-end="2252.875"><span>And if you use a member, you have to know. </span></span><span class="transcription-time-part" data-time-start="2252.875" data-time-end="2255.799"><span>So let's see here. If I have </span></span><span class="transcription-time-part" data-time-start="2255.799" data-time-end="2257.12"><span>a block class and I have </span></span><span class="transcription-time-part" data-time-start="2257.12" data-time-end="2260.089"><span>some data members that are, </span></span><span class="transcription-time-part" data-time-start="2260.089" data-time-end="2261.799"><span>here is a data member that is </span></span><span class="transcription-time-part" data-time-start="2261.799" data-time-end="2263.525"><span>an object of type foo. </span></span><span class="transcription-time-part" data-time-start="2263.525" data-time-end="2265.4"><span>So the compiler has to know how big it </span></span><span class="transcription-time-part" data-time-start="2265.4" data-time-end="2267.2"><span>is and to know how big a foo </span></span><span class="transcription-time-part" data-time-start="2267.2" data-time-end="2268.009"><span>is and has to see </span></span><span class="transcription-time-part" data-time-start="2268.009" data-time-end="2269.179"><span>the whole Declaration of food </span></span><span class="transcription-time-part" data-time-start="2269.179" data-time-end="2271.07"><span>and also whose data members are. </span></span><span class="transcription-time-part" data-time-start="2271.07" data-time-end="2273.574"><span>We have an array of 10 foo objects. </span></span><span class="transcription-time-part" data-time-start="2273.574" data-time-end="2274.789"><span>Same thing, we'd need to </span></span><span class="transcription-time-part" data-time-start="2274.789" data-time-end="2276.23"><span>know how big a foo is. </span></span><span class="transcription-time-part" data-time-start="2276.23" data-time-end="2277.73"><span>We, I'm talking about vectors yet </span></span><span class="transcription-time-part" data-time-start="2277.73" data-time-end="2278.87"><span>if we have a vector of foo, </span></span><span class="transcription-time-part" data-time-start="2278.87" data-time-end="2280.009"><span>it needs to know that it's a </span></span><span class="transcription-time-part" data-time-start="2280.009" data-time-end="2281.164"><span>collection of foo objects. </span></span><span class="transcription-time-part" data-time-start="2281.164" data-time-end="2283.084"><span>And so, and so we need that. </span></span><span class="transcription-time-part" data-time-start="2283.084" data-time-end="2285.02"><span>On the other hand, here we </span></span><span class="transcription-time-part" data-time-start="2285.02" data-time-end="2286.969"><span>only have pointers to F2s. </span></span><span class="transcription-time-part" data-time-start="2286.969" data-time-end="2287.93"><span>And since the compiler knows </span></span><span class="transcription-time-part" data-time-start="2287.93" data-time-end="2289.024"><span>how big a pointer is, </span></span><span class="transcription-time-part" data-time-start="2289.024" data-time-end="2291.589"><span>we can get away with just saying class foo. </span></span><span class="transcription-time-part" data-time-start="2291.589" data-time-end="2293.345"><span>We don't have to include the header file. </span></span><span class="transcription-time-part" data-time-start="2293.345" data-time-end="2297.049"><span>For just the prototype of a function, </span></span><span class="transcription-time-part" data-time-start="2297.049" data-time-end="2300.47"><span>you also can get away with saying class foo. </span></span><span class="transcription-time-part" data-time-start="2300.47" data-time-end="2302.555"><span>Well, certainly we know, </span></span><span class="transcription-time-part" data-time-start="2302.555" data-time-end="2304.459"><span>yeah, sure there's a pointer to a foo. </span></span><span class="transcription-time-part" data-time-start="2304.459" data-time-end="2307.025"><span>It's also true for a reference to a foo. </span></span><span class="transcription-time-part" data-time-start="2307.025" data-time-end="2308.329"><span>The compiler doesn't know </span></span><span class="transcription-time-part" data-time-start="2308.329" data-time-end="2310.46"><span>any details about the type. </span></span><span class="transcription-time-part" data-time-start="2310.46" data-time-end="2314.254"><span>And for a parameter of this type, </span></span><span class="transcription-time-part" data-time-start="2314.254" data-time-end="2316.13"><span>not a pointer, not a reference </span></span><span class="transcription-time-part" data-time-start="2316.13" data-time-end="2317.825"><span>but a parameter, the food type. </span></span><span class="transcription-time-part" data-time-start="2317.825" data-time-end="2321.214"><span>If all you're doing is having the prototype. </span></span><span class="transcription-time-part" data-time-start="2321.214" data-time-end="2324.005"><span>You don't need the full class declaration. </span></span><span class="transcription-time-part" data-time-start="2324.005" data-time-end="2326.149"><span>You say, well, wait a minute, passing </span></span><span class="transcription-time-part" data-time-start="2326.149" data-time-end="2328.61"><span>by value means copying. </span></span><span class="transcription-time-part" data-time-start="2328.61" data-time-end="2330.02"><span>Doesn't the compiler have to know how </span></span><span class="transcription-time-part" data-time-start="2330.02" data-time-end="2331.73"><span>big it is to copy it? </span></span><span class="transcription-time-part" data-time-start="2331.73" data-time-end="2333.65"><span>Not in the prototype. </span></span><span class="transcription-time-part" data-time-start="2333.65" data-time-end="2338.249"><span>In the prototype, we're not actually calling </span></span><span class="transcription-time-part" data-time-start="2338.249" data-time-end="2339.224"><span>the function and neither </span></span><span class="transcription-time-part" data-time-start="2339.224" data-time-end="2340.32"><span>are implementing the function and </span></span><span class="transcription-time-part" data-time-start="2340.32" data-time-end="2341.369"><span>needing to know how to </span></span><span class="transcription-time-part" data-time-start="2341.369" data-time-end="2342.989"><span>copy it, then how big it is. </span></span><span class="transcription-time-part" data-time-start="2342.989" data-time-end="2345.75"><span>It's just saying when you call this function, </span></span><span class="transcription-time-part" data-time-start="2345.75" data-time-end="2346.709"><span>you can go ahead and pass it </span></span><span class="transcription-time-part" data-time-start="2346.709" data-time-end="2348.135"><span>by value and that's okay. </span></span><span class="transcription-time-part" data-time-start="2348.135" data-time-end="2351.18"><span>Now, if we implement the function, </span></span><span class="transcription-time-part" data-time-start="2351.18" data-time-end="2353.58"><span>then yes, by implementing </span></span><span class="transcription-time-part" data-time-start="2353.58" data-time-end="2354.419"><span>the function that takes </span></span><span class="transcription-time-part" data-time-start="2354.419" data-time-end="2355.59"><span>an argument pass by value, </span></span><span class="transcription-time-part" data-time-start="2355.59" data-time-end="2357.119"><span>we got to include the header file, </span></span><span class="transcription-time-part" data-time-start="2357.119" data-time-end="2358.874"><span>declaring a local variable </span></span><span class="transcription-time-part" data-time-start="2358.874" data-time-end="2359.939"><span>of that type got to </span></span><span class="transcription-time-part" data-time-start="2359.939" data-time-end="2361.379"><span>include the header file because it </span></span><span class="transcription-time-part" data-time-start="2361.379" data-time-end="2363.164"><span>has to know how big this variable is. </span></span><span class="transcription-time-part" data-time-start="2363.164" data-time-end="2365.399"><span>If, if the food type has </span></span><span class="transcription-time-part" data-time-start="2365.399" data-time-end="2367.92"><span>some members like a Glebe function, </span></span><span class="transcription-time-part" data-time-start="2367.92" data-time-end="2370.32"><span>then the compiler has to know that </span></span><span class="transcription-time-part" data-time-start="2370.32" data-time-end="2371.549"><span>there is such a thing as a grep </span></span><span class="transcription-time-part" data-time-start="2371.549" data-time-end="2372.75"><span>function for the food types. </span></span><span class="transcription-time-part" data-time-start="2372.75" data-time-end="2374.46"><span>So we have to include the header file. </span></span><span class="transcription-time-part" data-time-start="2374.46" data-time-end="2376.034"><span>Okay, So that's a, </span></span><span class="transcription-time-part" data-time-start="2376.034" data-time-end="2377.849"><span>that's a summary of the rules. </span></span><span class="transcription-time-part" data-time-start="2377.849" data-time-end="2380.04"><span>Rules there. So here's </span></span><span class="transcription-time-part" data-time-start="2380.04" data-time-end="2381.614"><span>a question about circular dependencies. </span></span><span class="transcription-time-part" data-time-start="2381.614" data-time-end="2383.459"><span>When, if we're deciding, </span></span><span class="transcription-time-part" data-time-start="2383.459" data-time-end="2385.65"><span>you know, we gotta break circular dependency. </span></span><span class="transcription-time-part" data-time-start="2385.65" data-time-end="2386.76"><span>Well, what if we're </span></span><span class="transcription-time-part" data-time-start="2386.76" data-time-end="2387.78"><span>not dealing with pointers? </span></span><span class="transcription-time-part" data-time-start="2387.78" data-time-end="2390.269"><span>What if we're dealing with actual objects? </span></span><span class="transcription-time-part" data-time-start="2390.269" data-time-end="2392.16"><span>So let's see what that would look </span></span><span class="transcription-time-part" data-time-start="2392.16" data-time-end="2394.574"><span>like and why that is not a problem. </span></span><span class="transcription-time-part" data-time-start="2394.574" data-time-end="2396.809"><span>So let's say an object has a </span></span><span class="transcription-time-part" data-time-start="2396.809" data-time-end="2399.57"><span>biotic inside it and be </span></span><span class="transcription-time-part" data-time-start="2399.57" data-time-end="2403.17"><span>object as maybe an ENT number </span></span><span class="transcription-time-part" data-time-start="2403.17" data-time-end="2404.924"><span>and an a object inside. </span></span><span class="transcription-time-part" data-time-start="2404.924" data-time-end="2406.109"><span>So we have struct data </span></span><span class="transcription-time-part" data-time-start="2406.109" data-time-end="2408.629"><span>has a B object inside it struck BY, </span></span><span class="transcription-time-part" data-time-start="2408.629" data-time-end="2410.834"><span>that has an int and an a object inside. </span></span><span class="transcription-time-part" data-time-start="2410.834" data-time-end="2415.439"><span>Now, of course for this to compile, </span></span><span class="transcription-time-part" data-time-start="2415.439" data-time-end="2418.814"><span>we need the compiler has to see the name B. </span></span><span class="transcription-time-part" data-time-start="2418.814" data-time-end="2422.37"><span>So you say, Well, kinda do that. </span></span><span class="transcription-time-part" data-time-start="2422.37" data-time-end="2424.274"><span>No, that's, that's a data member </span></span><span class="transcription-time-part" data-time-start="2424.274" data-time-end="2426.059"><span>of type B, not a pointer to a B. </span></span><span class="transcription-time-part" data-time-start="2426.059" data-time-end="2428.76"><span>So I asked to see the whole Declaration 0. </span></span><span class="transcription-time-part" data-time-start="2428.76" data-time-end="2429.614"><span>Then I guess we got to </span></span><span class="transcription-time-part" data-time-start="2429.614" data-time-end="2431.01"><span>put the declaration of a, </span></span><span class="transcription-time-part" data-time-start="2431.01" data-time-end="2432.48"><span>of a, but we put </span></span><span class="transcription-time-part" data-time-start="2432.48" data-time-end="2434.22"><span>the full declaration to be up above a. </span></span><span class="transcription-time-part" data-time-start="2434.22" data-time-end="2435.87"><span>We have the same problem here. </span></span><span class="transcription-time-part" data-time-start="2435.87" data-time-end="2438.81"><span>So you can't solve the problem here. </span></span><span class="transcription-time-part" data-time-start="2438.81" data-time-end="2442.305"><span>You cannot have a contain a b object, </span></span><span class="transcription-time-part" data-time-start="2442.305" data-time-end="2444.374"><span>and B contain an object. </span></span><span class="transcription-time-part" data-time-start="2444.374" data-time-end="2446.009"><span>There's no way to order </span></span><span class="transcription-time-part" data-time-start="2446.009" data-time-end="2448.484"><span>those declarations to make it work and no, </span></span><span class="transcription-time-part" data-time-start="2448.484" data-time-end="2449.82"><span>using any complete text </span></span><span class="transcription-time-part" data-time-start="2449.82" data-time-end="2452.13"><span>specification will solve the problem. </span></span><span class="transcription-time-part" data-time-start="2452.13" data-time-end="2455.625"><span>But I'll say, Well, </span></span><span class="transcription-time-part" data-time-start="2455.625" data-time-end="2456.929"><span>but you wouldn't want to do this </span></span><span class="transcription-time-part" data-time-start="2456.929" data-time-end="2458.715"><span>anyway. You can't. </span></span><span class="transcription-time-part" data-time-start="2458.715" data-time-end="2460.259"><span>This would be illegal anyway, </span></span><span class="transcription-time-part" data-time-start="2460.259" data-time-end="2462.059"><span>even if the compiler did allow you somehow </span></span><span class="transcription-time-part" data-time-start="2462.059" data-time-end="2464.235"><span>to talk about before we saw the definition. </span></span><span class="transcription-time-part" data-time-start="2464.235" data-time-end="2465.704"><span>Because think about it. </span></span><span class="transcription-time-part" data-time-start="2465.704" data-time-end="2468.089"><span>What does an a object look like? </span></span><span class="transcription-time-part" data-time-start="2468.089" data-time-end="2470.789"><span>If I declare a variable a of type a, </span></span><span class="transcription-time-part" data-time-start="2470.789" data-time-end="2472.664"><span>a little lowercase a type a. </span></span><span class="transcription-time-part" data-time-start="2472.664" data-time-end="2476.129"><span>This object is an object layout there. </span></span><span class="transcription-time-part" data-time-start="2476.129" data-time-end="2477.81"><span>Now capital a object has </span></span><span class="transcription-time-part" data-time-start="2477.81" data-time-end="2480.015"><span>inside it just one data member, </span></span><span class="transcription-time-part" data-time-start="2480.015" data-time-end="2481.92"><span>which is NB object. </span></span><span class="transcription-time-part" data-time-start="2481.92" data-time-end="2486.75"><span>Now if the object has inside it integer am. </span></span><span class="transcription-time-part" data-time-start="2486.75" data-time-end="2490.109"><span>Object which hasn't side of the object, </span></span><span class="transcription-time-part" data-time-start="2490.109" data-time-end="2493.995"><span>which hasn't signed integer and an, a object. </span></span><span class="transcription-time-part" data-time-start="2493.995" data-time-end="2496.259"><span>And, and so it looks like we got some kind </span></span><span class="transcription-time-part" data-time-start="2496.259" data-time-end="2498.779"><span>of infinite problem here I am. </span></span><span class="transcription-time-part" data-time-start="2498.779" data-time-end="2500.28"><span>Here's a simple way to ask </span></span><span class="transcription-time-part" data-time-start="2500.28" data-time-end="2502.589"><span>how big is an a object? </span></span><span class="transcription-time-part" data-time-start="2502.589" data-time-end="2504.329"><span>So let's see. </span></span><span class="transcription-time-part" data-time-start="2504.329" data-time-end="2506.34"><span>The size of an a object. </span></span><span class="transcription-time-part" data-time-start="2506.34" data-time-end="2507.449"><span>Since it contains has to </span></span><span class="transcription-time-part" data-time-start="2507.449" data-time-end="2508.56"><span>be object is going to be </span></span><span class="transcription-time-part" data-time-start="2508.56" data-time-end="2511.184"><span>presumably the size of the B option, okay? </span></span><span class="transcription-time-part" data-time-start="2511.184" data-time-end="2513.014"><span>And the size of the object, </span></span><span class="transcription-time-part" data-time-start="2513.014" data-time-end="2516.825"><span>let's say integers or four bytes long is 4. </span></span><span class="transcription-time-part" data-time-start="2516.825" data-time-end="2518.52"><span>Plus the size may happen. </span></span><span class="transcription-time-part" data-time-start="2518.52" data-time-end="2519.375"><span>Okay? </span></span><span class="transcription-time-part" data-time-start="2519.375" data-time-end="2521.58"><span>So we can substitute </span></span><span class="transcription-time-part" data-time-start="2521.58" data-time-end="2522.66"><span>size of B and we find that </span></span><span class="transcription-time-part" data-time-start="2522.66" data-time-end="2524.22"><span>the size of an a object, </span></span><span class="transcription-time-part" data-time-start="2524.22" data-time-end="2526.26"><span>besides money object, is equal to </span></span><span class="transcription-time-part" data-time-start="2526.26" data-time-end="2529.239"><span>4 plus the size of an object. </span></span><span class="transcription-time-part" data-time-start="2529.81" data-time-end="2532.474"><span>So solve that equation. </span></span><span class="transcription-time-part" data-time-start="2532.474" data-time-end="2535.354"><span>How many bytes does AnyObject occupy? </span></span><span class="transcription-time-part" data-time-start="2535.354" data-time-end="2537.409"><span>Well, the solution to this </span></span><span class="transcription-time-part" data-time-start="2537.409" data-time-end="2538.519"><span>is basically </span></span><span class="transcription-time-part" data-time-start="2538.519" data-time-end="2540.079"><span>the only solution here is infinite. </span></span><span class="transcription-time-part" data-time-start="2540.079" data-time-end="2541.609"><span>If x is infinite, then </span></span><span class="transcription-time-part" data-time-start="2541.609" data-time-end="2543.8"><span>infinity is equal to 4k plus there. </span></span><span class="transcription-time-part" data-time-start="2543.8" data-time-end="2545.779"><span>So you'd have an infinite </span></span><span class="transcription-time-part" data-time-start="2545.779" data-time-end="2547.849"><span>size object that's not allowed. </span></span><span class="transcription-time-part" data-time-start="2547.849" data-time-end="2550.864"><span>All right, so this situation will not occur. </span></span><span class="transcription-time-part" data-time-start="2550.864" data-time-end="2552.35"><span>So now I want to go on to </span></span><span class="transcription-time-part" data-time-start="2552.35" data-time-end="2553.639"><span>our next major topic area, </span></span><span class="transcription-time-part" data-time-start="2553.639" data-time-end="2555.034"><span>which is resource management. </span></span><span class="transcription-time-part" data-time-start="2555.034" data-time-end="2557.33"><span>Now, what do I mean by resource? </span></span><span class="transcription-time-part" data-time-start="2557.33" data-time-end="2559.49"><span>A resource is something that the program </span></span><span class="transcription-time-part" data-time-start="2559.49" data-time-end="2562.64"><span>needs to use in order to do its job. </span></span><span class="transcription-time-part" data-time-start="2562.64" data-time-end="2564.079"><span>It's rather like the use of </span></span><span class="transcription-time-part" data-time-start="2564.079" data-time-end="2566.539"><span>the word resource in economics. </span></span><span class="transcription-time-part" data-time-start="2566.539" data-time-end="2569.689"><span>A resource is something that a person or </span></span><span class="transcription-time-part" data-time-start="2569.689" data-time-end="2573.525"><span>a company or a society wants or needs. </span></span><span class="transcription-time-part" data-time-start="2573.525" data-time-end="2575.7"><span>Things like food or oil </span></span><span class="transcription-time-part" data-time-start="2575.7" data-time-end="2579.449"><span>or money or land, or labor. </span></span><span class="transcription-time-part" data-time-start="2579.449" data-time-end="2582.06"><span>In any event, if a resource is unlimited, </span></span><span class="transcription-time-part" data-time-start="2582.06" data-time-end="2583.835"><span>there's no need to manage it. </span></span><span class="transcription-time-part" data-time-start="2583.835" data-time-end="2585.36"><span>In a computer context. </span></span><span class="transcription-time-part" data-time-start="2585.36" data-time-end="2587.31"><span>For example, if we have </span></span><span class="transcription-time-part" data-time-start="2587.31" data-time-end="2588.48"><span>an infinite amount of memory </span></span><span class="transcription-time-part" data-time-start="2588.48" data-time-end="2589.949"><span>available, we always have as much. </span></span><span class="transcription-time-part" data-time-start="2589.949" data-time-end="2591.059"><span>Or even if not literally, </span></span><span class="transcription-time-part" data-time-start="2591.059" data-time-end="2592.08"><span>infant will always have </span></span><span class="transcription-time-part" data-time-start="2592.08" data-time-end="2594.344"><span>enough memory as much as we might need. </span></span><span class="transcription-time-part" data-time-start="2594.344" data-time-end="2595.859"><span>You could write programs, I </span></span><span class="transcription-time-part" data-time-start="2595.859" data-time-end="2597.6"><span>could be very efficiently </span></span><span class="transcription-time-part" data-time-start="2597.6" data-time-end="2599.295"><span>solved if you had </span></span><span class="transcription-time-part" data-time-start="2599.295" data-time-end="2601.83"><span>an array with a gazillion elements, </span></span><span class="transcription-time-part" data-time-start="2601.83" data-time-end="2603.605"><span>if you had all that space of L, </span></span><span class="transcription-time-part" data-time-start="2603.605" data-time-end="2604.47"><span>you might be able to do things </span></span><span class="transcription-time-part" data-time-start="2604.47" data-time-end="2605.34"><span>more efficiently than if </span></span><span class="transcription-time-part" data-time-start="2605.34" data-time-end="2608.355"><span>you had to run with some limitations. </span></span><span class="transcription-time-part" data-time-start="2608.355" data-time-end="2609.99"><span>So in the case of </span></span><span class="transcription-time-part" data-time-start="2609.99" data-time-end="2611.894"><span>unlimited resources is not interesting. </span></span><span class="transcription-time-part" data-time-start="2611.894" data-time-end="2612.704"><span>There's nothing demand, </span></span><span class="transcription-time-part" data-time-start="2612.704" data-time-end="2613.96"><span>there's no need to manage. </span></span><span class="transcription-time-part" data-time-start="2613.96" data-time-end="2616.535"><span>We're looking at the issues </span></span><span class="transcription-time-part" data-time-start="2616.535" data-time-end="2618.829"><span>involving limited resources, </span></span><span class="transcription-time-part" data-time-start="2618.829" data-time-end="2620.029"><span>things like memory. </span></span><span class="transcription-time-part" data-time-start="2620.029" data-time-end="2621.635"><span>There's only so much memory </span></span><span class="transcription-time-part" data-time-start="2621.635" data-time-end="2625.115"><span>or our processor time. </span></span><span class="transcription-time-part" data-time-start="2625.115" data-time-end="2627.499"><span>If you're on a computer system with </span></span><span class="transcription-time-part" data-time-start="2627.499" data-time-end="2628.91"><span>one processor that can execute </span></span><span class="transcription-time-part" data-time-start="2628.91" data-time-end="2631.024"><span>instructions at a certain rate, </span></span><span class="transcription-time-part" data-time-start="2631.024" data-time-end="2632.599"><span>that's kind of a limitation. </span></span><span class="transcription-time-part" data-time-start="2632.599" data-time-end="2634.76"><span>And if there's a lot </span></span><span class="transcription-time-part" data-time-start="2634.76" data-time-end="2636.29"><span>of computation that you want to get done </span></span><span class="transcription-time-part" data-time-start="2636.29" data-time-end="2636.769"><span>or you have </span></span><span class="transcription-time-part" data-time-start="2636.769" data-time-end="2638.359"><span>multiple programs that are running </span></span><span class="transcription-time-part" data-time-start="2638.359" data-time-end="2639.47"><span>simultaneously and </span></span><span class="transcription-time-part" data-time-start="2639.47" data-time-end="2640.955"><span>there's only one processor, </span></span><span class="transcription-time-part" data-time-start="2640.955" data-time-end="2642.92"><span>how do you allocate the time of the processor </span></span><span class="transcription-time-part" data-time-start="2642.92" data-time-end="2644.99"><span>from between all the programs. </span></span><span class="transcription-time-part" data-time-start="2644.99" data-time-end="2646.775"><span>So there's a limitation, </span></span><span class="transcription-time-part" data-time-start="2646.775" data-time-end="2649.699"><span>limitations on how much disk space you have, </span></span><span class="transcription-time-part" data-time-start="2649.699" data-time-end="2653.734"><span>limitations on how many files </span></span><span class="transcription-time-part" data-time-start="2653.734" data-time-end="2655.19"><span>your program might have </span></span><span class="transcription-time-part" data-time-start="2655.19" data-time-end="2656.635"><span>open at the same time. </span></span><span class="transcription-time-part" data-time-start="2656.635" data-time-end="2657.929"><span>You have limitations on </span></span><span class="transcription-time-part" data-time-start="2657.929" data-time-end="2660.824"><span>how many network connections you might have. </span></span><span class="transcription-time-part" data-time-start="2660.824" data-time-end="2663.69"><span>At the same time, the operating system will </span></span><span class="transcription-time-part" data-time-start="2663.69" data-time-end="2666.359"><span>put limits on limits like these. </span></span><span class="transcription-time-part" data-time-start="2666.359" data-time-end="2669.57"><span>So the, the issue of management then is, </span></span><span class="transcription-time-part" data-time-start="2669.57" data-time-end="2672.27"><span>is you've gotta be aware of these issues. </span></span><span class="transcription-time-part" data-time-start="2672.27" data-time-end="2673.964"><span>You've gotta be aware of these limitations </span></span><span class="transcription-time-part" data-time-start="2673.964" data-time-end="2676.829"><span>and write your programs in </span></span><span class="transcription-time-part" data-time-start="2676.829" data-time-end="2679.319"><span>a way that don't ignore </span></span><span class="transcription-time-part" data-time-start="2679.319" data-time-end="2680.579"><span>those issues because they will </span></span><span class="transcription-time-part" data-time-start="2680.579" data-time-end="2682.019"><span>come up and bite you at some point. </span></span><span class="transcription-time-part" data-time-start="2682.019" data-time-end="2682.994"><span>At some point you'll, </span></span><span class="transcription-time-part" data-time-start="2682.994" data-time-end="2684.855"><span>you'll run into a problem. </span></span><span class="transcription-time-part" data-time-start="2684.855" data-time-end="2688.319"><span>So for example, maybe I have a program </span></span><span class="transcription-time-part" data-time-start="2688.319" data-time-end="2691.529"><span>that is going to process 1000 files. </span></span><span class="transcription-time-part" data-time-start="2691.529" data-time-end="2693.059"><span>And what my program's going to </span></span><span class="transcription-time-part" data-time-start="2693.059" data-time-end="2694.664"><span>do is work like this. </span></span><span class="transcription-time-part" data-time-start="2694.664" data-time-end="2697.05"><span>It's going to open a file. </span></span><span class="transcription-time-part" data-time-start="2697.05" data-time-end="2699.06"><span>What brands yourself. So I'm going to open </span></span><span class="transcription-time-part" data-time-start="2699.06" data-time-end="2701.744"><span>a file, process it, </span></span><span class="transcription-time-part" data-time-start="2701.744" data-time-end="2703.725"><span>then I'm going to open the next file, </span></span><span class="transcription-time-part" data-time-start="2703.725" data-time-end="2705.12"><span>process it, and then open </span></span><span class="transcription-time-part" data-time-start="2705.12" data-time-end="2706.995"><span>the next file, process it, et cetera. </span></span><span class="transcription-time-part" data-time-start="2706.995" data-time-end="2708.03"><span>That's my algorithm. </span></span><span class="transcription-time-part" data-time-start="2708.03" data-time-end="2709.59"><span>Now the problem is if </span></span><span class="transcription-time-part" data-time-start="2709.59" data-time-end="2711.24"><span>my operating system as a limit </span></span><span class="transcription-time-part" data-time-start="2711.24" data-time-end="2713.43"><span>on how many open files </span></span><span class="transcription-time-part" data-time-start="2713.43" data-time-end="2715.004"><span>I can have in my program at a time. </span></span><span class="transcription-time-part" data-time-start="2715.004" data-time-end="2718.155"><span>Let's say it's 128. </span></span><span class="transcription-time-part" data-time-start="2718.155" data-time-end="2720.72"><span>Usually pick some power to, let's say, </span></span><span class="transcription-time-part" data-time-start="2720.72" data-time-end="2721.515"><span>and let's say it's a 100, </span></span><span class="transcription-time-part" data-time-start="2721.515" data-time-end="2722.399"><span>There's a limited let's say there's </span></span><span class="transcription-time-part" data-time-start="2722.399" data-time-end="2724.335"><span>a little bit of a 100 open files I can have. </span></span><span class="transcription-time-part" data-time-start="2724.335" data-time-end="2725.849"><span>Well, what's going to happen </span></span><span class="transcription-time-part" data-time-start="2725.849" data-time-end="2726.9"><span>is if I open a file, </span></span><span class="transcription-time-part" data-time-start="2726.9" data-time-end="2728.13"><span>use it, open a file, </span></span><span class="transcription-time-part" data-time-start="2728.13" data-time-end="2730.379"><span>use it, open a file, use it. </span></span><span class="transcription-time-part" data-time-start="2730.379" data-time-end="2732.419"><span>After I've opened a 100 files. </span></span><span class="transcription-time-part" data-time-start="2732.419" data-time-end="2735.135"><span>When I open a 100 file number a 100 one, </span></span><span class="transcription-time-part" data-time-start="2735.135" data-time-end="2738.945"><span>the open I'll fake am and so I got a problem. </span></span><span class="transcription-time-part" data-time-start="2738.945" data-time-end="2741.87"><span>So usually if there's </span></span><span class="transcription-time-part" data-time-start="2741.87" data-time-end="2743.099"><span>some kind of resource and </span></span><span class="transcription-time-part" data-time-start="2743.099" data-time-end="2744.765"><span>a way to acquire that resource. </span></span><span class="transcription-time-part" data-time-start="2744.765" data-time-end="2746.324"><span>In the case of files, </span></span><span class="transcription-time-part" data-time-start="2746.324" data-time-end="2747.899"><span>opening the file is, </span></span><span class="transcription-time-part" data-time-start="2747.899" data-time-end="2750.465"><span>among other things, acquiring, you know, </span></span><span class="transcription-time-part" data-time-start="2750.465" data-time-end="2754.32"><span>the the the open file descriptor information, </span></span><span class="transcription-time-part" data-time-start="2754.32" data-time-end="2755.64"><span>et cetera, for that file, </span></span><span class="transcription-time-part" data-time-start="2755.64" data-time-end="2757.559"><span>if there's only a finite amount of that, </span></span><span class="transcription-time-part" data-time-start="2757.559" data-time-end="2759.509"><span>there needs to be a one, needs </span></span><span class="transcription-time-part" data-time-start="2759.509" data-time-end="2761.264"><span>to be a way to release the resources, </span></span><span class="transcription-time-part" data-time-start="2761.264" data-time-end="2762.929"><span>give it back to the operating system. </span></span><span class="transcription-time-part" data-time-start="2762.929" data-time-end="2765.044"><span>So you can open a file. </span></span><span class="transcription-time-part" data-time-start="2765.044" data-time-end="2766.17"><span>You can close the file. </span></span><span class="transcription-time-part" data-time-start="2766.17" data-time-end="2767.444"><span>When you close a file, </span></span><span class="transcription-time-part" data-time-start="2767.444" data-time-end="2769.395"><span>it's no longer open that releases </span></span><span class="transcription-time-part" data-time-start="2769.395" data-time-end="2770.49"><span>the resource that </span></span><span class="transcription-time-part" data-time-start="2770.49" data-time-end="2772.35"><span>the operating system is holding for the five. </span></span><span class="transcription-time-part" data-time-start="2772.35" data-time-end="2776.264"><span>So a correct implementation would be, </span></span><span class="transcription-time-part" data-time-start="2776.264" data-time-end="2778.14"><span>would be if, if once, </span></span><span class="transcription-time-part" data-time-start="2778.14" data-time-end="2779.609"><span>if once I process to file, </span></span><span class="transcription-time-part" data-time-start="2779.609" data-time-end="2781.259"><span>I don't have to look at it again. </span></span><span class="transcription-time-part" data-time-start="2781.259" data-time-end="2783"><span>Correct implementation would simply </span></span><span class="transcription-time-part" data-time-start="2783" data-time-end="2784.725"><span>be opened a file, </span></span><span class="transcription-time-part" data-time-start="2784.725" data-time-end="2786.809"><span>use it, close the file, </span></span><span class="transcription-time-part" data-time-start="2786.809" data-time-end="2788.52"><span>open a file, use it. </span></span><span class="transcription-time-part" data-time-start="2788.52" data-time-end="2791.009"><span>Close the file, open a file, use it closer. </span></span><span class="transcription-time-part" data-time-start="2791.009" data-time-end="2792.315"><span>By that way. </span></span><span class="transcription-time-part" data-time-start="2792.315" data-time-end="2794.324"><span>I have at most one file </span></span><span class="transcription-time-part" data-time-start="2794.324" data-time-end="2795.869"><span>open at any given time. </span></span><span class="transcription-time-part" data-time-start="2795.869" data-time-end="2797.069"><span>So I'm not going to run out, I'm not </span></span><span class="transcription-time-part" data-time-start="2797.069" data-time-end="2798.225"><span>gonna hit my 100 file limit. </span></span><span class="transcription-time-part" data-time-start="2798.225" data-time-end="2799.38"><span>I can go ahead and process </span></span><span class="transcription-time-part" data-time-start="2799.38" data-time-end="2801.479"><span>a 1000 files, 10 thousand files, </span></span><span class="transcription-time-part" data-time-start="2801.479" data-time-end="2803.37"><span>because I'm never going to </span></span><span class="transcription-time-part" data-time-start="2803.37" data-time-end="2805.529"><span>have more than one file open at a time, </span></span><span class="transcription-time-part" data-time-start="2805.529" data-time-end="2807.359"><span>so I never come close to that 100 file </span></span><span class="transcription-time-part" data-time-start="2807.359" data-time-end="2809.88"><span>it on an open file descriptors. </span></span><span class="transcription-time-part" data-time-start="2809.88" data-time-end="2812.73"><span>So there's an example of a writing code </span></span><span class="transcription-time-part" data-time-start="2812.73" data-time-end="2814.26"><span>that manages the resource </span></span><span class="transcription-time-part" data-time-start="2814.26" data-time-end="2816.78"><span>of open files correctly. </span></span><span class="transcription-time-part" data-time-start="2816.78" data-time-end="2821.085"><span>So there's lots and lots of resources you, </span></span><span class="transcription-time-part" data-time-start="2821.085" data-time-end="2822.719"><span>one another one would be, </span></span><span class="transcription-time-part" data-time-start="2822.719" data-time-end="2827.834"><span>say, exclusive access to a database record. </span></span><span class="transcription-time-part" data-time-start="2827.834" data-time-end="2830.249"><span>So you'll have a situation, </span></span><span class="transcription-time-part" data-time-start="2830.249" data-time-end="2832.77"><span>for example, where I have a bank account, </span></span><span class="transcription-time-part" data-time-start="2832.77" data-time-end="2834.945"><span>let's say it has a $100 in </span></span><span class="transcription-time-part" data-time-start="2834.945" data-time-end="2840.21"><span>and say two people share the same account. </span></span><span class="transcription-time-part" data-time-start="2840.21" data-time-end="2842.175"><span>They both have ATM cards. </span></span><span class="transcription-time-part" data-time-start="2842.175" data-time-end="2844.694"><span>They both go up to an ATM machine </span></span><span class="transcription-time-part" data-time-start="2844.694" data-time-end="2846.209"><span>at two different our </span></span><span class="transcription-time-part" data-time-start="2846.209" data-time-end="2847.949"><span>ATM machines and into parts of the city. </span></span><span class="transcription-time-part" data-time-start="2847.949" data-time-end="2850.08"><span>Let's say they both </span></span><span class="transcription-time-part" data-time-start="2850.08" data-time-end="2851.954"><span>take their cards in it about the same time. </span></span><span class="transcription-time-part" data-time-start="2851.954" data-time-end="2854.804"><span>They both asked to withdraw a $100. </span></span><span class="transcription-time-part" data-time-start="2854.804" data-time-end="2855.719"><span>Okay? </span></span><span class="transcription-time-part" data-time-start="2855.719" data-time-end="2858.57"><span>So one thing that </span></span><span class="transcription-time-part" data-time-start="2858.57" data-time-end="2860.159"><span>might happen is the way the ATM machine </span></span><span class="transcription-time-part" data-time-start="2860.159" data-time-end="2861.375"><span>works as it does the following. </span></span><span class="transcription-time-part" data-time-start="2861.375" data-time-end="2862.784"><span>Oh, you want to withdraw a 100 adults? </span></span><span class="transcription-time-part" data-time-start="2862.784" data-time-end="2865.079"><span>So what I'm gonna do, go check, </span></span><span class="transcription-time-part" data-time-start="2865.079" data-time-end="2867"><span>go get your your current balance, </span></span><span class="transcription-time-part" data-time-start="2867" data-time-end="2868.319"><span>check it to make sure you have </span></span><span class="transcription-time-part" data-time-start="2868.319" data-time-end="2870.51"><span>enough to withdraw that amount. </span></span><span class="transcription-time-part" data-time-start="2870.51" data-time-end="2874.034"><span>If so, then I will dispense you the cache. </span></span><span class="transcription-time-part" data-time-start="2874.034" data-time-end="2875.489"><span>I will subtract that amount from your </span></span><span class="transcription-time-part" data-time-start="2875.489" data-time-end="2877.905"><span>balanced and store it back in the database. </span></span><span class="transcription-time-part" data-time-start="2877.905" data-time-end="2880.109"><span>And so you can see there's a problem here. </span></span><span class="transcription-time-part" data-time-start="2880.109" data-time-end="2882.315"><span>If this machine says, </span></span><span class="transcription-time-part" data-time-start="2882.315" data-time-end="2885.239"><span>let me get the balance which is a $100. </span></span><span class="transcription-time-part" data-time-start="2885.239" data-time-end="2886.529"><span>Okay? </span></span><span class="transcription-time-part" data-time-start="2886.529" data-time-end="2888.24"><span>You want a $100, that's fine. </span></span><span class="transcription-time-part" data-time-start="2888.24" data-time-end="2889.499"><span>So I'm going to dispense </span></span><span class="transcription-time-part" data-time-start="2889.499" data-time-end="2890.97"><span>the cache and I'm going to subtract a </span></span><span class="transcription-time-part" data-time-start="2890.97" data-time-end="2892.139"><span>100 from this before it </span></span><span class="transcription-time-part" data-time-start="2892.139" data-time-end="2893.369"><span>gets a chance to write back </span></span><span class="transcription-time-part" data-time-start="2893.369" data-time-end="2895.994"><span>to 0 because your balance is now empty. </span></span><span class="transcription-time-part" data-time-start="2895.994" data-time-end="2897.33"><span>The other one says, </span></span><span class="transcription-time-part" data-time-start="2897.33" data-time-end="2899.429"><span>you know, starts ovens and says, Oh, </span></span><span class="transcription-time-part" data-time-start="2899.429" data-time-end="2900.54"><span>I'm going to get the balance which </span></span><span class="transcription-time-part" data-time-start="2900.54" data-time-end="2901.754"><span>is still a 100 up here, </span></span><span class="transcription-time-part" data-time-start="2901.754" data-time-end="2903.885"><span>the database, I'll get the 100, </span></span><span class="transcription-time-part" data-time-start="2903.885" data-time-end="2906.209"><span>you know, you've got it and you want a $100. </span></span><span class="transcription-time-part" data-time-start="2906.209" data-time-end="2907.2"><span>Final, give it to you, </span></span><span class="transcription-time-part" data-time-start="2907.2" data-time-end="2908.279"><span>I'll set the thing desert. </span></span><span class="transcription-time-part" data-time-start="2908.279" data-time-end="2909.21"><span>Meanwhile, this guy gets </span></span><span class="transcription-time-part" data-time-start="2909.21" data-time-end="2910.08"><span>around to writing back to </span></span><span class="transcription-time-part" data-time-start="2910.08" data-time-end="2910.83"><span>0 and this guy gets </span></span><span class="transcription-time-part" data-time-start="2910.83" data-time-end="2912.014"><span>rendered writing back Zara, </span></span><span class="transcription-time-part" data-time-start="2912.014" data-time-end="2915.239"><span>and both of you got a $100 and </span></span><span class="transcription-time-part" data-time-start="2915.239" data-time-end="2916.769"><span>the account balance is now 0 </span></span><span class="transcription-time-part" data-time-start="2916.769" data-time-end="2919.365"><span>and you wind bank loses. </span></span><span class="transcription-time-part" data-time-start="2919.365" data-time-end="2920.789"><span>So, so there's gotta be </span></span><span class="transcription-time-part" data-time-start="2920.789" data-time-end="2922.875"><span>some kind of exclusive access. </span></span><span class="transcription-time-part" data-time-start="2922.875" data-time-end="2924.66"><span>Typically that's going to be some kind of </span></span><span class="transcription-time-part" data-time-start="2924.66" data-time-end="2926.579"><span>idea of a lock that you have to </span></span><span class="transcription-time-part" data-time-start="2926.579" data-time-end="2929.129"><span>acquire a lock and release the lock </span></span><span class="transcription-time-part" data-time-start="2929.129" data-time-end="2933.105"><span>so that the right transaction is 0. </span></span><span class="transcription-time-part" data-time-start="2933.105" data-time-end="2935.07"><span>I'm going to be working math and I kept, </span></span><span class="transcription-time-part" data-time-start="2935.07" data-time-end="2937.574"><span>let me acquire a lock on that account, </span></span><span class="transcription-time-part" data-time-start="2937.574" data-time-end="2939.9"><span>which means the database will say, </span></span><span class="transcription-time-part" data-time-start="2939.9" data-time-end="2941.804"><span>if somebody's got the lock, </span></span><span class="transcription-time-part" data-time-start="2941.804" data-time-end="2943.529"><span>I'm not going to let anybody else lock </span></span><span class="transcription-time-part" data-time-start="2943.529" data-time-end="2945.615"><span>this account yet or access anything on. </span></span><span class="transcription-time-part" data-time-start="2945.615" data-time-end="2949.409"><span>So if I say I'm going OK in the record, </span></span><span class="transcription-time-part" data-time-start="2949.409" data-time-end="2950.82"><span>the database says nobody's </span></span><span class="transcription-time-part" data-time-start="2950.82" data-time-end="2952.35"><span>got the lock in that record. Okay. </span></span><span class="transcription-time-part" data-time-start="2952.35" data-time-end="2953.699"><span>You've got the lock. </span></span><span class="transcription-time-part" data-time-start="2953.699" data-time-end="2955.14"><span>I will not let anybody </span></span><span class="transcription-time-part" data-time-start="2955.14" data-time-end="2957.57"><span>else acquire </span></span><span class="transcription-time-part" data-time-start="2957.57" data-time-end="2958.964"><span>the lock for this this right. Okay. </span></span><span class="transcription-time-part" data-time-start="2958.964" data-time-end="2959.7"><span>So fine. </span></span><span class="transcription-time-part" data-time-start="2959.7" data-time-end="2961.32"><span>I've got the lock so I can get the balance. </span></span><span class="transcription-time-part" data-time-start="2961.32" data-time-end="2962.55"><span>I do my thing while I'm </span></span><span class="transcription-time-part" data-time-start="2962.55" data-time-end="2963.84"><span>in the middle of doing this thing. </span></span><span class="transcription-time-part" data-time-start="2963.84" data-time-end="2965.46"><span>This guy says, You know, </span></span><span class="transcription-time-part" data-time-start="2965.46" data-time-end="2967.755"><span>I'd like to try to get that record. </span></span><span class="transcription-time-part" data-time-start="2967.755" data-time-end="2970.439"><span>Davis says, Well, you gotta lock first. </span></span><span class="transcription-time-part" data-time-start="2970.439" data-time-end="2971.31"><span>I'm sorry. </span></span><span class="transcription-time-part" data-time-start="2971.31" data-time-end="2973.05"><span>I would like to acquire the lock. </span></span><span class="transcription-time-part" data-time-start="2973.05" data-time-end="2974.699"><span>The database says, Well, you got to wait, </span></span><span class="transcription-time-part" data-time-start="2974.699" data-time-end="2976.049"><span>cuz somebody else has the law. </span></span><span class="transcription-time-part" data-time-start="2976.049" data-time-end="2977.594"><span>So this guy has to wait. </span></span><span class="transcription-time-part" data-time-start="2977.594" data-time-end="2980.55"><span>Once this guy has taken up a $100, </span></span><span class="transcription-time-part" data-time-start="2980.55" data-time-end="2982.304"><span>written back a 0 balance, </span></span><span class="transcription-time-part" data-time-start="2982.304" data-time-end="2983.55"><span>it then says, Okay, I'm </span></span><span class="transcription-time-part" data-time-start="2983.55" data-time-end="2985.094"><span>done, release the lock. </span></span><span class="transcription-time-part" data-time-start="2985.094" data-time-end="2986.684"><span>So the database says fine, </span></span><span class="transcription-time-part" data-time-start="2986.684" data-time-end="2987.809"><span>now you've got your lock. </span></span><span class="transcription-time-part" data-time-start="2987.809" data-time-end="2989.94"><span>So so it kept this process </span></span><span class="transcription-time-part" data-time-start="2989.94" data-time-end="2991.44"><span>from doing stuff with </span></span><span class="transcription-time-part" data-time-start="2991.44" data-time-end="2992.955"><span>the record until this one did. </span></span><span class="transcription-time-part" data-time-start="2992.955" data-time-end="2994.8"><span>So this idea of acquiring </span></span><span class="transcription-time-part" data-time-start="2994.8" data-time-end="2995.954"><span>and releasing locks, </span></span><span class="transcription-time-part" data-time-start="2995.954" data-time-end="2997.5"><span>there's only a finite number of blocks you </span></span><span class="transcription-time-part" data-time-start="2997.5" data-time-end="2999.209"><span>can have the submissions involved with that. </span></span><span class="transcription-time-part" data-time-start="2999.209" data-time-end="3000.26"><span>There's another example </span></span><span class="transcription-time-part" data-time-start="3000.26" data-time-end="3002.149"><span>of resources to manage. </span></span><span class="transcription-time-part" data-time-start="3002.149" data-time-end="3003.875"><span>So in our case, the, </span></span><span class="transcription-time-part" data-time-start="3003.875" data-time-end="3006.53"><span>the resource we're going to manage in </span></span><span class="transcription-time-part" data-time-start="3006.53" data-time-end="3007.909"><span>this class that comes up </span></span><span class="transcription-time-part" data-time-start="3007.909" data-time-end="3009.605"><span>over and over again is memory. </span></span><span class="transcription-time-part" data-time-start="3009.605" data-time-end="3011.9"><span>So your machine has </span></span><span class="transcription-time-part" data-time-start="3011.9" data-time-end="3014.225"><span>only a finite amount of memory to give you. </span></span><span class="transcription-time-part" data-time-start="3014.225" data-time-end="3017.809"><span>And you want to </span></span><span class="transcription-time-part" data-time-start="3017.809" data-time-end="3019.069"><span>write applications that don't </span></span><span class="transcription-time-part" data-time-start="3019.069" data-time-end="3019.714"><span>run out of memory. </span></span><span class="transcription-time-part" data-time-start="3019.714" data-time-end="3023.15"><span>So let me, let me go </span></span><span class="transcription-time-part" data-time-start="3023.15" data-time-end="3024.859"><span>through the setup </span></span><span class="transcription-time-part" data-time-start="3024.859" data-time-end="3027.499"><span>for how this is going to work. </span></span><span class="transcription-time-part" data-time-start="3027.499" data-time-end="3030.08"><span>So let's say that. </span></span><span class="transcription-time-part" data-time-start="3030.08" data-time-end="3033.205"><span>Let's say I'd like to do, </span></span><span class="transcription-time-part" data-time-start="3033.205" data-time-end="3036.129"><span>is I guess the easiest way </span></span><span class="transcription-time-part" data-time-start="3036.129" data-time-end="3038.559"><span>to do this is to, because so many, </span></span><span class="transcription-time-part" data-time-start="3038.559" data-time-end="3040.344"><span>so many aspects of memory manager, Art, </span></span><span class="transcription-time-part" data-time-start="3040.344" data-time-end="3042.505"><span>mentor about memory management </span></span><span class="transcription-time-part" data-time-start="3042.505" data-time-end="3044.649"><span>are already handled by the library. </span></span><span class="transcription-time-part" data-time-start="3044.649" data-time-end="3046.66"><span>Let me go back to </span></span><span class="transcription-time-part" data-time-start="3046.66" data-time-end="3048.775"><span>before there was a library doing it for you. </span></span><span class="transcription-time-part" data-time-start="3048.775" data-time-end="3054.374"><span>So let's go back in time, about 30 years. </span></span><span class="transcription-time-part" data-time-start="3054.374" data-time-end="3056.549"><span>So we're back in 990. </span></span><span class="transcription-time-part" data-time-start="3056.549" data-time-end="3059.864"><span>There is no C plus plus Standard. </span></span><span class="transcription-time-part" data-time-start="3059.864" data-time-end="3062.34"><span>Different compiler writers have </span></span><span class="transcription-time-part" data-time-start="3062.34" data-time-end="3063.93"><span>slightly different interpretations of </span></span><span class="transcription-time-part" data-time-start="3063.93" data-time-end="3065.579"><span>what some of the things in C plus plus mean. </span></span><span class="transcription-time-part" data-time-start="3065.579" data-time-end="3068.49"><span>In particular, there's no standard library. </span></span><span class="transcription-time-part" data-time-start="3068.49" data-time-end="3070.755"><span>There's no standard string type. </span></span><span class="transcription-time-part" data-time-start="3070.755" data-time-end="3073.049"><span>Every compiler vendor is writing </span></span><span class="transcription-time-part" data-time-start="3073.049" data-time-end="3074.279"><span>their own string type for you to </span></span><span class="transcription-time-part" data-time-start="3074.279" data-time-end="3075.75"><span>use, to use their library. </span></span><span class="transcription-time-part" data-time-start="3075.75" data-time-end="3077.37"><span>They're all slightly different. </span></span><span class="transcription-time-part" data-time-start="3077.37" data-time-end="3080.31"><span>So here we are, where we're going to provide </span></span><span class="transcription-time-part" data-time-start="3080.31" data-time-end="3081.659"><span>a string type for </span></span><span class="transcription-time-part" data-time-start="3081.659" data-time-end="3083.474"><span>people who aren't using our compiler to use. </span></span><span class="transcription-time-part" data-time-start="3083.474" data-time-end="3084.389"><span>So we're going to write </span></span><span class="transcription-time-part" data-time-start="3084.389" data-time-end="3085.47"><span>a string type and there </span></span><span class="transcription-time-part" data-time-start="3085.47" data-time-end="3087.719"><span>is no standard C plus plus string type. </span></span><span class="transcription-time-part" data-time-start="3087.719" data-time-end="3088.785"><span>So that's the environment </span></span><span class="transcription-time-part" data-time-start="3088.785" data-time-end="3090.194"><span>this example's going to be. </span></span><span class="transcription-time-part" data-time-start="3090.194" data-time-end="3092.489"><span>Now, we do of course, </span></span><span class="transcription-time-part" data-time-start="3092.489" data-time-end="3094.56"><span>have the C standard library. </span></span><span class="transcription-time-part" data-time-start="3094.56" data-time-end="3096.39"><span>Which has standard functions </span></span><span class="transcription-time-part" data-time-start="3096.39" data-time-end="3098.22"><span>for manipulating C strings. </span></span><span class="transcription-time-part" data-time-start="3098.22" data-time-end="3100.92"><span>So STR see PY string copy to </span></span><span class="transcription-time-part" data-time-start="3100.92" data-time-end="3102.39"><span>copy a C string and an array </span></span><span class="transcription-time-part" data-time-start="3102.39" data-time-end="3104.4"><span>of characters with 0 byte at the end. </span></span><span class="transcription-time-part" data-time-start="3104.4" data-time-end="3106.35"><span>Strlen to figure out the length of </span></span><span class="transcription-time-part" data-time-start="3106.35" data-time-end="3109.02"><span>a C string that, that exists. </span></span><span class="transcription-time-part" data-time-start="3109.02" data-time-end="3109.889"><span>But we're going to have to </span></span><span class="transcription-time-part" data-time-start="3109.889" data-time-end="3111.014"><span>write our own string type. </span></span><span class="transcription-time-part" data-time-start="3111.014" data-time-end="3112.68"><span>So let me start the setup, </span></span><span class="transcription-time-part" data-time-start="3112.68" data-time-end="3114.179"><span>and that would be how </span></span><span class="transcription-time-part" data-time-start="3114.179" data-time-end="3115.904"><span>we might want to use our string type. </span></span><span class="transcription-time-part" data-time-start="3115.904" data-time-end="3118.29"><span>So as a simple example usage, </span></span><span class="transcription-time-part" data-time-start="3118.29" data-time-end="3121.349"><span>I want to have some function h. </span></span><span class="transcription-time-part" data-time-start="3121.349" data-time-end="3123.944"><span>And it creates a string, </span></span><span class="transcription-time-part" data-time-start="3123.944" data-time-end="3124.769"><span>say with the text </span></span><span class="transcription-time-part" data-time-start="3124.769" data-time-end="3126.494"><span>Hello and does stuff with it. </span></span><span class="transcription-time-part" data-time-start="3126.494" data-time-end="3128.985"><span>So in order for that much to work, </span></span><span class="transcription-time-part" data-time-start="3128.985" data-time-end="3130.74"><span>will want to have a string plus I'll use </span></span><span class="transcription-time-part" data-time-start="3130.74" data-time-end="3132.09"><span>a capital S to distinguish it </span></span><span class="transcription-time-part" data-time-start="3132.09" data-time-end="3133.589"><span>from the library type string, </span></span><span class="transcription-time-part" data-time-start="3133.589" data-time-end="3136.11"><span>which we're assuming doesn't exist yet. </span></span><span class="transcription-time-part" data-time-start="3136.11" data-time-end="3138.554"><span>For that to work, we </span></span><span class="transcription-time-part" data-time-start="3138.554" data-time-end="3140.535"><span>need to have a constructor for string. </span></span><span class="transcription-time-part" data-time-start="3140.535" data-time-end="3143.384"><span>And it's going to take as its argument, </span></span><span class="transcription-time-part" data-time-start="3143.384" data-time-end="3145.17"><span>basically a C string at </span></span><span class="transcription-time-part" data-time-start="3145.17" data-time-end="3147.6"><span>a double quoted string literal in C and </span></span><span class="transcription-time-part" data-time-start="3147.6" data-time-end="3149.984"><span>C plus plus represents </span></span><span class="transcription-time-part" data-time-start="3149.984" data-time-end="3151.995"><span>an array of characters. </span></span><span class="transcription-time-part" data-time-start="3151.995" data-time-end="3153.63"><span>In fact, an array of constant characters, </span></span><span class="transcription-time-part" data-time-start="3153.63" data-time-end="3155.039"><span>array of characters you promise not to </span></span><span class="transcription-time-part" data-time-start="3155.039" data-time-end="3156.54"><span>modify an array of </span></span><span class="transcription-time-part" data-time-start="3156.54" data-time-end="3157.649"><span>characters with </span></span><span class="transcription-time-part" data-time-start="3157.649" data-time-end="3160.274"><span>a 0 byte terminating that string. </span></span><span class="transcription-time-part" data-time-start="3160.274" data-time-end="3162.884"><span>So what that means is somewhere in memory, </span></span><span class="transcription-time-part" data-time-start="3162.884" data-time-end="3165.239"><span>there's an array the compiler has laid </span></span><span class="transcription-time-part" data-time-start="3165.239" data-time-end="3167.88"><span>out with a capital H, lowercase, </span></span><span class="transcription-time-part" data-time-start="3167.88" data-time-end="3170.565"><span>a lowercase, a lowercase l, </span></span><span class="transcription-time-part" data-time-start="3170.565" data-time-end="3173.985"><span>a lower-case 00 byte, somewhere in memory. </span></span><span class="transcription-time-part" data-time-start="3173.985" data-time-end="3175.529"><span>There's this array the compiler </span></span><span class="transcription-time-part" data-time-start="3175.529" data-time-end="3177.18"><span>has set up for us. </span></span><span class="transcription-time-part" data-time-start="3177.18" data-time-end="3178.529"><span>It does that anytime you write </span></span><span class="transcription-time-part" data-time-start="3178.529" data-time-end="3179.834"><span>a string literal, okay, </span></span><span class="transcription-time-part" data-time-start="3179.834" data-time-end="3181.74"><span>so in an expression </span></span><span class="transcription-time-part" data-time-start="3181.74" data-time-end="3183.884"><span>where you use a string literal like that, </span></span><span class="transcription-time-part" data-time-start="3183.884" data-time-end="3185.73"><span>the compiler is going to say, okay, </span></span><span class="transcription-time-part" data-time-start="3185.73" data-time-end="3186.899"><span>I need to pass this array </span></span><span class="transcription-time-part" data-time-start="3186.899" data-time-end="3188.175"><span>to a constructor function. </span></span><span class="transcription-time-part" data-time-start="3188.175" data-time-end="3189.9"><span>Now of course, you can't pass on </span></span><span class="transcription-time-part" data-time-start="3189.9" data-time-end="3192.869"><span>our ray by value to a function. </span></span><span class="transcription-time-part" data-time-start="3192.869" data-time-end="3194.924"><span>And we learn that C and CS 31, when you, </span></span><span class="transcription-time-part" data-time-start="3194.924" data-time-end="3195.479"><span>when you think you're </span></span><span class="transcription-time-part" data-time-start="3195.479" data-time-end="3196.649"><span>passing an array to a function, </span></span><span class="transcription-time-part" data-time-start="3196.649" data-time-end="3197.789"><span>you're really passing a pointer </span></span><span class="transcription-time-part" data-time-start="3197.789" data-time-end="3199.17"><span>to element 0 of the array. </span></span><span class="transcription-time-part" data-time-start="3199.17" data-time-end="3200.969"><span>So this string constructed </span></span><span class="transcription-time-part" data-time-start="3200.969" data-time-end="3202.515"><span>is really receiving is </span></span><span class="transcription-time-part" data-time-start="3202.515" data-time-end="3206.009"><span>the pointer to the first of many characters. </span></span><span class="transcription-time-part" data-time-start="3206.009" data-time-end="3207.209"><span>And the expectation </span></span><span class="transcription-time-part" data-time-start="3207.209" data-time-end="3208.289"><span>is it's going to be a C string, </span></span><span class="transcription-time-part" data-time-start="3208.289" data-time-end="3209.414"><span>so it ends with a 0 bytes. </span></span><span class="transcription-time-part" data-time-start="3209.414" data-time-end="3211.139"><span>So there's my constructor. </span></span><span class="transcription-time-part" data-time-start="3211.139" data-time-end="3213.33"><span>So the, as I said, </span></span><span class="transcription-time-part" data-time-start="3213.33" data-time-end="3214.71"><span>the next thing to think about </span></span><span class="transcription-time-part" data-time-start="3214.71" data-time-end="3217.124"><span>is if this is what we want to have, </span></span><span class="transcription-time-part" data-time-start="3217.124" data-time-end="3220.049"><span>we should be thinking about. </span></span><span class="transcription-time-part" data-time-start="3220.049" data-time-end="3222.24"><span>Is there any other functionality </span></span><span class="transcription-time-part" data-time-start="3222.24" data-time-end="3223.274"><span>we want to have? </span></span><span class="transcription-time-part" data-time-start="3223.274" data-time-end="3223.8"><span>And then we can </span></span><span class="transcription-time-part" data-time-start="3223.8" data-time-end="3225.029"><span>start thinking about representation. </span></span><span class="transcription-time-part" data-time-start="3225.029" data-time-end="3227.444"><span>So let me think about this. </span></span><span class="transcription-time-part" data-time-start="3227.444" data-time-end="3228.599"><span>Are there other ways I </span></span><span class="transcription-time-part" data-time-start="3228.599" data-time-end="3229.829"><span>want to create a string? </span></span><span class="transcription-time-part" data-time-start="3229.829" data-time-end="3231.36"><span>In particular, do I </span></span><span class="transcription-time-part" data-time-start="3231.36" data-time-end="3232.784"><span>want to have a default constructor? </span></span><span class="transcription-time-part" data-time-start="3232.784" data-time-end="3234.644"><span>And you'd almost surely say, sure, </span></span><span class="transcription-time-part" data-time-start="3234.644" data-time-end="3236.07"><span>there's a reasonable default value </span></span><span class="transcription-time-part" data-time-start="3236.07" data-time-end="3237.945"><span>for strings, the empty string. </span></span><span class="transcription-time-part" data-time-start="3237.945" data-time-end="3239.309"><span>So why do we allow </span></span><span class="transcription-time-part" data-time-start="3239.309" data-time-end="3240.779"><span>a default constructor as well? </span></span><span class="transcription-time-part" data-time-start="3240.779" data-time-end="3241.679"><span>Okay, </span></span><span class="transcription-time-part" data-time-start="3241.679" data-time-end="3243.389"><span>so then what we're </span></span><span class="transcription-time-part" data-time-start="3243.389" data-time-end="3244.2"><span>going to start thinking is, </span></span><span class="transcription-time-part" data-time-start="3244.2" data-time-end="3245.94"><span>all right, Then let's </span></span><span class="transcription-time-part" data-time-start="3245.94" data-time-end="3248.114"><span>start thinking about representations. </span></span><span class="transcription-time-part" data-time-start="3248.114" data-time-end="3251.565"><span>So, well, Here's a real simple one. </span></span><span class="transcription-time-part" data-time-start="3251.565" data-time-end="3252.48"><span>Why don't we just have an array of </span></span><span class="transcription-time-part" data-time-start="3252.48" data-time-end="3253.769"><span>characters and the object. </span></span><span class="transcription-time-part" data-time-start="3253.769" data-time-end="3256.049"><span>So every spring object simply has </span></span><span class="transcription-time-part" data-time-start="3256.049" data-time-end="3257.64"><span>this one data member that's </span></span><span class="transcription-time-part" data-time-start="3257.64" data-time-end="3259.604"><span>an array of a 100 character. </span></span><span class="transcription-time-part" data-time-start="3259.604" data-time-end="3261.524"><span>Well, there's some problems with this. </span></span><span class="transcription-time-part" data-time-start="3261.524" data-time-end="3263.265"><span>In particular, the main problem </span></span><span class="transcription-time-part" data-time-start="3263.265" data-time-end="3265.484"><span>is if you have an array, </span></span><span class="transcription-time-part" data-time-start="3265.484" data-time-end="3268.89"><span>then the number of elements in the array, </span></span><span class="transcription-time-part" data-time-start="3268.89" data-time-end="3269.879"><span>if you're declaring an array, </span></span><span class="transcription-time-part" data-time-start="3269.879" data-time-end="3270.809"><span>the number of elements in </span></span><span class="transcription-time-part" data-time-start="3270.809" data-time-end="3272.22"><span>the array has to be a constant </span></span><span class="transcription-time-part" data-time-start="3272.22" data-time-end="3273.42"><span>known at compile time. </span></span><span class="transcription-time-part" data-time-start="3273.42" data-time-end="3275.894"><span>We have to pick some constant to put there. </span></span><span class="transcription-time-part" data-time-start="3275.894" data-time-end="3276.99"><span>I picked a 100. </span></span><span class="transcription-time-part" data-time-start="3276.99" data-time-end="3279.639"><span>What's not so great about that? </span></span><span class="transcription-time-part" data-time-start="3279.68" data-time-end="3282.3"><span>Well, what if I </span></span><span class="transcription-time-part" data-time-start="3282.3" data-time-end="3283.109"><span>want to have strings that are </span></span><span class="transcription-time-part" data-time-start="3283.109" data-time-end="3284.43"><span>more than a 100 characters? </span></span><span class="transcription-time-part" data-time-start="3284.43" data-time-end="3287.609"><span>I won't be able to fit long strings in here. </span></span><span class="transcription-time-part" data-time-start="3287.609" data-time-end="3290.279"><span>So, oh, okay, Well, </span></span><span class="transcription-time-part" data-time-start="3290.279" data-time-end="3291.779"><span>surely nobody wants a string of </span></span><span class="transcription-time-part" data-time-start="3291.779" data-time-end="3293.58"><span>say, a 100 thousand characters. </span></span><span class="transcription-time-part" data-time-start="3293.58" data-time-end="3294.644"><span>So let's put that there then. </span></span><span class="transcription-time-part" data-time-start="3294.644" data-time-end="3295.995"><span>That'll be room for any string, </span></span><span class="transcription-time-part" data-time-start="3295.995" data-time-end="3297.779"><span>room enough for any spring somebody wants. </span></span><span class="transcription-time-part" data-time-start="3297.779" data-time-end="3299.249"><span>What's wrong with that? </span></span><span class="transcription-time-part" data-time-start="3299.249" data-time-end="3302.34"><span>Well, then the problem is </span></span><span class="transcription-time-part" data-time-start="3302.34" data-time-end="3303.84"><span>every string is going to </span></span><span class="transcription-time-part" data-time-start="3303.84" data-time-end="3306.21"><span>take up a 100 thousand bytes. </span></span><span class="transcription-time-part" data-time-start="3306.21" data-time-end="3308.819"><span>Even a string like hello where we only </span></span><span class="transcription-time-part" data-time-start="3308.819" data-time-end="3310.05"><span>really need five </span></span><span class="transcription-time-part" data-time-start="3310.05" data-time-end="3311.31"><span>and we're going to be using a 100. </span></span><span class="transcription-time-part" data-time-start="3311.31" data-time-end="3313.139"><span>That's a lot of wasted space. </span></span><span class="transcription-time-part" data-time-start="3313.139" data-time-end="3315.57"><span>You won't be able to have too many strings in </span></span><span class="transcription-time-part" data-time-start="3315.57" data-time-end="3317.85"><span>your program without running out of memory. </span></span><span class="transcription-time-part" data-time-start="3317.85" data-time-end="3320.309"><span>So the problem with a fixed number </span></span><span class="transcription-time-part" data-time-start="3320.309" data-time-end="3322.649"><span>is if it's too big, </span></span><span class="transcription-time-part" data-time-start="3322.649" data-time-end="3324.869"><span>you're wasting a lot of space and might </span></span><span class="transcription-time-part" data-time-start="3324.869" data-time-end="3326.009"><span>not be able to have a lot of these </span></span><span class="transcription-time-part" data-time-start="3326.009" data-time-end="3327.33"><span>are objects of this type. </span></span><span class="transcription-time-part" data-time-start="3327.33" data-time-end="3328.844"><span>And if it's too small, </span></span><span class="transcription-time-part" data-time-start="3328.844" data-time-end="3329.55"><span>there'll be a lot of </span></span><span class="transcription-time-part" data-time-start="3329.55" data-time-end="3330.599"><span>things that we can't represent. </span></span><span class="transcription-time-part" data-time-start="3330.599" data-time-end="3331.35"><span>A lot of strength we can't </span></span><span class="transcription-time-part" data-time-start="3331.35" data-time-end="3332.1"><span>represent because it's too </span></span><span class="transcription-time-part" data-time-start="3332.1" data-time-end="3334.575"><span>short so that I have to reject that. </span></span><span class="transcription-time-part" data-time-start="3334.575" data-time-end="3336.87"><span>So the only other alternative is to say, </span></span><span class="transcription-time-part" data-time-start="3336.87" data-time-end="3340.499"><span>Well then let's instead make the texted, </span></span><span class="transcription-time-part" data-time-start="3340.499" data-time-end="3343.275"><span>the string dynamically allocated and </span></span><span class="transcription-time-part" data-time-start="3343.275" data-time-end="3345.03"><span>our object will hold a pointer </span></span><span class="transcription-time-part" data-time-start="3345.03" data-time-end="3346.499"><span>to the text of the string. </span></span><span class="transcription-time-part" data-time-start="3346.499" data-time-end="3348.09"><span>We'll try something like that. </span></span><span class="transcription-time-part" data-time-start="3348.09" data-time-end="3350.1"><span>So the idea would be then </span></span><span class="transcription-time-part" data-time-start="3350.1" data-time-end="3351.795"><span>a string object like ask </span></span><span class="transcription-time-part" data-time-start="3351.795" data-time-end="3353.444"><span>will have one data member, </span></span><span class="transcription-time-part" data-time-start="3353.444" data-time-end="3355.859"><span>the M text data member. </span></span><span class="transcription-time-part" data-time-start="3355.859" data-time-end="3357.749"><span>And we'll, we'll have it be a pointer to </span></span><span class="transcription-time-part" data-time-start="3357.749" data-time-end="3360.96"><span>a dynamically allocated array of characters. </span></span><span class="transcription-time-part" data-time-start="3360.96" data-time-end="3362.145"><span>Possibly. </span></span><span class="transcription-time-part" data-time-start="3362.145" data-time-end="3365.969"><span>Why not just have it be a copy of the season? </span></span><span class="transcription-time-part" data-time-start="3365.969" data-time-end="3367.529"><span>So we'll dynamically allocate </span></span><span class="transcription-time-part" data-time-start="3367.529" data-time-end="3369.36"><span>an array of characters big </span></span><span class="transcription-time-part" data-time-start="3369.36" data-time-end="3370.92"><span>enough to hold the string and then </span></span><span class="transcription-time-part" data-time-start="3370.92" data-time-end="3372.81"><span>will store a pointer to it. </span></span><span class="transcription-time-part" data-time-start="3372.81" data-time-end="3374.429"><span>Well, of course, as soon as you start </span></span><span class="transcription-time-part" data-time-start="3374.429" data-time-end="3376.455"><span>working with dynamic allocation, </span></span><span class="transcription-time-part" data-time-start="3376.455" data-time-end="3378.225"><span>you're saying, hey, operating system, </span></span><span class="transcription-time-part" data-time-start="3378.225" data-time-end="3380.309"><span>give me some storage for, for this array. </span></span><span class="transcription-time-part" data-time-start="3380.309" data-time-end="3381.45"><span>Well, there's </span></span><span class="transcription-time-part" data-time-start="3381.45" data-time-end="3382.724"><span>only a finite amount of storage, </span></span><span class="transcription-time-part" data-time-start="3382.724" data-time-end="3384.614"><span>so that's a resource that has to be managed. </span></span><span class="transcription-time-part" data-time-start="3384.614" data-time-end="3386.699"><span>We have to make sure that we don't use </span></span><span class="transcription-time-part" data-time-start="3386.699" data-time-end="3388.859"><span>up all the storage for strings. </span></span><span class="transcription-time-part" data-time-start="3388.859" data-time-end="3392.099"><span>We don't even need the memory for anymore. </span></span><span class="transcription-time-part" data-time-start="3392.099" data-time-end="3394.289"><span>So working all that out is going to be </span></span><span class="transcription-time-part" data-time-start="3394.289" data-time-end="3397.08"><span>the topic of what issues come up. </span></span><span class="transcription-time-part" data-time-start="3397.08" data-time-end="3399.299"><span>The problem is, resource management </span></span><span class="transcription-time-part" data-time-start="3399.299" data-time-end="3401.13"><span>is not a trivial issue. </span></span><span class="transcription-time-part" data-time-start="3401.13" data-time-end="3402.689"><span>It starts off looking that way. </span></span><span class="transcription-time-part" data-time-start="3402.689" data-time-end="3403.949"><span>It's like, oh, sure, </span></span><span class="transcription-time-part" data-time-start="3403.949" data-time-end="3405.119"><span>for any resource we allocate, </span></span><span class="transcription-time-part" data-time-start="3405.119" data-time-end="3405.57"><span>we gotta give it </span></span><span class="transcription-time-part" data-time-start="3405.57" data-time-end="3406.484"><span>back when we're done with it, </span></span><span class="transcription-time-part" data-time-start="3406.484" data-time-end="3407.819"><span>there's more and there's </span></span><span class="transcription-time-part" data-time-start="3407.819" data-time-end="3409.38"><span>many ways to go wrong. </span></span><span class="transcription-time-part" data-time-start="3409.38" data-time-end="3411.915"><span>And so that's what we got to see later. </span></span><span class="transcription-time-part" data-time-start="3411.915" data-time-end="3413.759"><span>I also wanted to default constructor, </span></span><span class="transcription-time-part" data-time-start="3413.759" data-time-end="3415.379"><span>which will produce the empty string. </span></span><span class="transcription-time-part" data-time-start="3415.379" data-time-end="3418.095"><span>Whoops, I spilled coffee on my shirt. </span></span><span class="transcription-time-part" data-time-start="3418.095" data-time-end="3420.645"><span>Oh no. Let me change my shirt. </span></span><span class="transcription-time-part" data-time-start="3420.645" data-time-end="3422.049"><span>Hang on. </span></span><span class="transcription-time-part" data-time-start="3422.049" data-time-end="3423.379"><span>Okay. </span></span><span class="transcription-time-part" data-time-start="3423.379" data-time-end="3424.369"><span>Where was I? </span></span><span class="transcription-time-part" data-time-start="3424.369" data-time-end="3428.209"><span>If I also want to default constructor, </span></span><span class="transcription-time-part" data-time-start="3428.209" data-time-end="3429.649"><span>which would produce an empty string. </span></span><span class="transcription-time-part" data-time-start="3429.649" data-time-end="3430.759"><span>And that leads me to think </span></span><span class="transcription-time-part" data-time-start="3430.759" data-time-end="3432.575"><span>about the representation. </span></span><span class="transcription-time-part" data-time-start="3432.575" data-time-end="3434.63"><span>How can I represent an empty string? </span></span><span class="transcription-time-part" data-time-start="3434.63" data-time-end="3436.159"><span>So I can see </span></span><span class="transcription-time-part" data-time-start="3436.159" data-time-end="3438.665"><span>two possibilities that would be reasonable. </span></span><span class="transcription-time-part" data-time-start="3438.665" data-time-end="3440.36"><span>One would be, well, </span></span><span class="transcription-time-part" data-time-start="3440.36" data-time-end="3442.22"><span>this is what a string of </span></span><span class="transcription-time-part" data-time-start="3442.22" data-time-end="3444.814"><span>five interesting characters looks like. </span></span><span class="transcription-time-part" data-time-start="3444.814" data-time-end="3446.51"><span>A six element array with </span></span><span class="transcription-time-part" data-time-start="3446.51" data-time-end="3447.71"><span>five interesting characters </span></span><span class="transcription-time-part" data-time-start="3447.71" data-time-end="3449.269"><span>followed by a 0 byte. </span></span><span class="transcription-time-part" data-time-start="3449.269" data-time-end="3452.3"><span>Then a two character string would have </span></span><span class="transcription-time-part" data-time-start="3452.3" data-time-end="3453.95"><span>two interesting characters followed by us </span></span><span class="transcription-time-part" data-time-start="3453.95" data-time-end="3455.809"><span>or by an empty string. </span></span><span class="transcription-time-part" data-time-start="3455.809" data-time-end="3457.475"><span>What I have now, interesting characters </span></span><span class="transcription-time-part" data-time-start="3457.475" data-time-end="3459.034"><span>followed by a 0 by. </span></span><span class="transcription-time-part" data-time-start="3459.034" data-time-end="3460.489"><span>So one way to represent </span></span><span class="transcription-time-part" data-time-start="3460.489" data-time-end="3461.794"><span>the empty string would be, </span></span><span class="transcription-time-part" data-time-start="3461.794" data-time-end="3463.04"><span>how about have a dynamically </span></span><span class="transcription-time-part" data-time-start="3463.04" data-time-end="3465.064"><span>allocated array of one byte. </span></span><span class="transcription-time-part" data-time-start="3465.064" data-time-end="3467.269"><span>And, and we're going to put the 0 byte there. </span></span><span class="transcription-time-part" data-time-start="3467.269" data-time-end="3468.38"><span>That'll be our representation </span></span><span class="transcription-time-part" data-time-start="3468.38" data-time-end="3469.22"><span>of the empty string. </span></span><span class="transcription-time-part" data-time-start="3469.22" data-time-end="3470.06"><span>That'll work. </span></span><span class="transcription-time-part" data-time-start="3470.06" data-time-end="3471.98"><span>But there's another possibility. </span></span><span class="transcription-time-part" data-time-start="3471.98" data-time-end="3473.794"><span>How about just a point? </span></span><span class="transcription-time-part" data-time-start="3473.794" data-time-end="3476.09"><span>So that would also conceivably </span></span><span class="transcription-time-part" data-time-start="3476.09" data-time-end="3477.53"><span>be a reasonable representation </span></span><span class="transcription-time-part" data-time-start="3477.53" data-time-end="3478.58"><span>of the empty string. </span></span><span class="transcription-time-part" data-time-start="3478.58" data-time-end="3481.789"><span>So before we go any further, </span></span><span class="transcription-time-part" data-time-start="3481.789" data-time-end="3483.604"><span>we probably should make a decision, </span></span><span class="transcription-time-part" data-time-start="3483.604" data-time-end="3485"><span>or at least a tentative decision. </span></span><span class="transcription-time-part" data-time-start="3485" data-time-end="3486.739"><span>And then as we implement, </span></span><span class="transcription-time-part" data-time-start="3486.739" data-time-end="3488"><span>we may decide, Oh, </span></span><span class="transcription-time-part" data-time-start="3488" data-time-end="3489.56"><span>that wasn't the right decision </span></span><span class="transcription-time-part" data-time-start="3489.56" data-time-end="3490.579"><span>we wanted to make us make </span></span><span class="transcription-time-part" data-time-start="3490.579" data-time-end="3491.899"><span>the other decision because </span></span><span class="transcription-time-part" data-time-start="3491.899" data-time-end="3493.474"><span>both of these are perfectly reasonable. </span></span><span class="transcription-time-part" data-time-start="3493.474" data-time-end="3496.159"><span>I mean, here's the arguments for both cases. </span></span><span class="transcription-time-part" data-time-start="3496.159" data-time-end="3498.289"><span>The first case, I </span></span><span class="transcription-time-part" data-time-start="3498.289" data-time-end="3499.37"><span>went with this representation </span></span><span class="transcription-time-part" data-time-start="3499.37" data-time-end="3500.329"><span>for the empty string, </span></span><span class="transcription-time-part" data-time-start="3500.329" data-time-end="3501.964"><span>it's consistent with </span></span><span class="transcription-time-part" data-time-start="3501.964" data-time-end="3503.735"><span>every other non-empty string. </span></span><span class="transcription-time-part" data-time-start="3503.735" data-time-end="3505.489"><span>So, so that would probably </span></span><span class="transcription-time-part" data-time-start="3505.489" data-time-end="3507.715"><span>make our implementation code. </span></span><span class="transcription-time-part" data-time-start="3507.715" data-time-end="3510.6"><span>Easier because it's not a special case. </span></span><span class="transcription-time-part" data-time-start="3510.6" data-time-end="3513.48"><span>The empty string would just another string. </span></span><span class="transcription-time-part" data-time-start="3513.48" data-time-end="3515.489"><span>It's not as if we're guaranteed </span></span><span class="transcription-time-part" data-time-start="3515.489" data-time-end="3517.56"><span>every string has a non null pointer here. </span></span><span class="transcription-time-part" data-time-start="3517.56" data-time-end="3518.35"><span>It points to in </span></span><span class="transcription-time-part" data-time-start="3518.35" data-time-end="3520.709"><span>a dynamically allocated array. </span></span><span class="transcription-time-part" data-time-start="3520.709" data-time-end="3521.579"><span>It's got the text to </span></span><span class="transcription-time-part" data-time-start="3521.579" data-time-end="3522.63"><span>the characters that make up </span></span><span class="transcription-time-part" data-time-start="3522.63" data-time-end="3524.79"><span>the strand followed by a 0 back by, </span></span><span class="transcription-time-part" data-time-start="3524.79" data-time-end="3528.134"><span>that would be uniform across all strings. </span></span><span class="transcription-time-part" data-time-start="3528.134" data-time-end="3529.709"><span>And that would make our job </span></span><span class="transcription-time-part" data-time-start="3529.709" data-time-end="3531.239"><span>as an implementer easier. </span></span><span class="transcription-time-part" data-time-start="3531.239" data-time-end="3533.219"><span>On the other hand, the empty string </span></span><span class="transcription-time-part" data-time-start="3533.219" data-time-end="3534.779"><span>is a very frequently occurring string. </span></span><span class="transcription-time-part" data-time-start="3534.779" data-time-end="3536.489"><span>If I decide to declare an array </span></span><span class="transcription-time-part" data-time-start="3536.489" data-time-end="3538.71"><span>of a 100 thousand strings, </span></span><span class="transcription-time-part" data-time-start="3538.71" data-time-end="3539.7"><span>each string will be </span></span><span class="transcription-time-part" data-time-start="3539.7" data-time-end="3541.319"><span>constructed whenever you create </span></span><span class="transcription-time-part" data-time-start="3541.319" data-time-end="3544.289"><span>an array of objects of a class type, </span></span><span class="transcription-time-part" data-time-start="3544.289" data-time-end="3547.139"><span>every element will be default constructed. </span></span><span class="transcription-time-part" data-time-start="3547.139" data-time-end="3548.88"><span>So that'll be a 100 thousand </span></span><span class="transcription-time-part" data-time-start="3548.88" data-time-end="3551.16"><span>default constructor, empty strings. </span></span><span class="transcription-time-part" data-time-start="3551.16" data-time-end="3554.219"><span>Now, to dynamically allocate storage, </span></span><span class="transcription-time-part" data-time-start="3554.219" data-time-end="3556.244"><span>whether it's a bigger a or a small array, </span></span><span class="transcription-time-part" data-time-start="3556.244" data-time-end="3557.744"><span>takes dozens of instructions. </span></span><span class="transcription-time-part" data-time-start="3557.744" data-time-end="3559.11"><span>Does the machine language instructions </span></span><span class="transcription-time-part" data-time-start="3559.11" data-time-end="3560.879"><span>to dynamically allocate storage, </span></span><span class="transcription-time-part" data-time-start="3560.879" data-time-end="3562.725"><span>even if it's just a one byte array. </span></span><span class="transcription-time-part" data-time-start="3562.725" data-time-end="3564.96"><span>So the cost of </span></span><span class="transcription-time-part" data-time-start="3564.96" data-time-end="3566.07"><span>creating an array of </span></span><span class="transcription-time-part" data-time-start="3566.07" data-time-end="3567.359"><span>a lot of empty strings is </span></span><span class="transcription-time-part" data-time-start="3567.359" data-time-end="3569.489"><span>going to be lots and lots of instruction is </span></span><span class="transcription-time-part" data-time-start="3569.489" data-time-end="3570.839"><span>getting executed to properly </span></span><span class="transcription-time-part" data-time-start="3570.839" data-time-end="3572.61"><span>build those empty strengths. </span></span><span class="transcription-time-part" data-time-start="3572.61" data-time-end="3574.949"><span>And when we go away, </span></span><span class="transcription-time-part" data-time-start="3574.949" data-time-end="3576.539"><span>the destructor gets called on each of </span></span><span class="transcription-time-part" data-time-start="3576.539" data-time-end="3577.619"><span>those strings and that takes </span></span><span class="transcription-time-part" data-time-start="3577.619" data-time-end="3579.434"><span>several dozen instructions. </span></span><span class="transcription-time-part" data-time-start="3579.434" data-time-end="3581.46"><span>So there's a time cost </span></span><span class="transcription-time-part" data-time-start="3581.46" data-time-end="3583.8"><span>with this representation of the empty string. </span></span><span class="transcription-time-part" data-time-start="3583.8" data-time-end="3585.435"><span>There's also a space cost </span></span><span class="transcription-time-part" data-time-start="3585.435" data-time-end="3587.039"><span>and it's more than you might think. </span></span><span class="transcription-time-part" data-time-start="3587.039" data-time-end="3589.26"><span>It looks like every empty string </span></span><span class="transcription-time-part" data-time-start="3589.26" data-time-end="3591.615"><span>is going to take up one byte. </span></span><span class="transcription-time-part" data-time-start="3591.615" data-time-end="3593.279"><span>And in fact, when you </span></span><span class="transcription-time-part" data-time-start="3593.279" data-time-end="3595.139"><span>dynamically allocate storage, </span></span><span class="transcription-time-part" data-time-start="3595.139" data-time-end="3597.149"><span>there has to be some bookkeeping information </span></span><span class="transcription-time-part" data-time-start="3597.149" data-time-end="3598.62"><span>that the storage allocator keeps. </span></span><span class="transcription-time-part" data-time-start="3598.62" data-time-end="3601.575"><span>It keeps around to keep track of, you know, </span></span><span class="transcription-time-part" data-time-start="3601.575" data-time-end="3603.69"><span>how big that dynamically allocated storage </span></span><span class="transcription-time-part" data-time-start="3603.69" data-time-end="3604.919"><span>is because when you call </span></span><span class="transcription-time-part" data-time-start="3604.919" data-time-end="3606.239"><span>it delete to get rid of it, </span></span><span class="transcription-time-part" data-time-start="3606.239" data-time-end="3607.649"><span>when you use delete to get rid of </span></span><span class="transcription-time-part" data-time-start="3607.649" data-time-end="3610.185"><span>it dynamically allocated item, </span></span><span class="transcription-time-part" data-time-start="3610.185" data-time-end="3612.72"><span>all you give delete is where it is. </span></span><span class="transcription-time-part" data-time-start="3612.72" data-time-end="3616.319"><span>So somehow the storage allocator have to have </span></span><span class="transcription-time-part" data-time-start="3616.319" data-time-end="3618.12"><span>some bookkeeping information to figure out </span></span><span class="transcription-time-part" data-time-start="3618.12" data-time-end="3619.229"><span>how much space do we get </span></span><span class="transcription-time-part" data-time-start="3619.229" data-time-end="3620.654"><span>back to the operating system. </span></span><span class="transcription-time-part" data-time-start="3620.654" data-time-end="3622.934"><span>So so that overhead, </span></span><span class="transcription-time-part" data-time-start="3622.934" data-time-end="3624.42"><span>that extra space overhead </span></span><span class="transcription-time-part" data-time-start="3624.42" data-time-end="3626.16"><span>for the bookkeeping information, </span></span><span class="transcription-time-part" data-time-start="3626.16" data-time-end="3630.929"><span>that could be eight bytes, maybe more. </span></span><span class="transcription-time-part" data-time-start="3630.929" data-time-end="3633.209"><span>So our array of </span></span><span class="transcription-time-part" data-time-start="3633.209" data-time-end="3635.144"><span>a 100 thousand empty two strings </span></span><span class="transcription-time-part" data-time-start="3635.144" data-time-end="3636.51"><span>is not only going to take up </span></span><span class="transcription-time-part" data-time-start="3636.51" data-time-end="3638.04"><span>space for the strings themselves, </span></span><span class="transcription-time-part" data-time-start="3638.04" data-time-end="3639.419"><span>which each string is </span></span><span class="transcription-time-part" data-time-start="3639.419" data-time-end="3641.7"><span>just takes up the size of a pointer, </span></span><span class="transcription-time-part" data-time-start="3641.7" data-time-end="3643.649"><span>but also the dynamically allocate </span></span><span class="transcription-time-part" data-time-start="3643.649" data-time-end="3646.395"><span>an array and the bookkeeping information. </span></span><span class="transcription-time-part" data-time-start="3646.395" data-time-end="3648.09"><span>And so the overhead is, well, </span></span><span class="transcription-time-part" data-time-start="3648.09" data-time-end="3649.874"><span>if it's eight bytes per object, </span></span><span class="transcription-time-part" data-time-start="3649.874" data-time-end="3652.08"><span>and we have a 100 thousand strings in our, </span></span><span class="transcription-time-part" data-time-start="3652.08" data-time-end="3655.514"><span>in our array, that's 800 kilobytes, </span></span><span class="transcription-time-part" data-time-start="3655.514" data-time-end="3657.809"><span>just a bookkeeping information </span></span><span class="transcription-time-part" data-time-start="3657.809" data-time-end="3659.415"><span>for those empty strengths. </span></span><span class="transcription-time-part" data-time-start="3659.415" data-time-end="3662.28"><span>On the other hand, if the empty string is </span></span><span class="transcription-time-part" data-time-start="3662.28" data-time-end="3665.114"><span>represented as this way </span></span><span class="transcription-time-part" data-time-start="3665.114" data-time-end="3666.734"><span>with the null pointer in here, </span></span><span class="transcription-time-part" data-time-start="3666.734" data-time-end="3669.434"><span>there is no extra storage overhead. </span></span><span class="transcription-time-part" data-time-start="3669.434" data-time-end="3672.254"><span>So that safe space and </span></span><span class="transcription-time-part" data-time-start="3672.254" data-time-end="3674.715"><span>the cost to initialize </span></span><span class="transcription-time-part" data-time-start="3674.715" data-time-end="3676.77"><span>this to be to the null pointer, </span></span><span class="transcription-time-part" data-time-start="3676.77" data-time-end="3677.46"><span>you know, </span></span><span class="transcription-time-part" data-time-start="3677.46" data-time-end="3679.59"><span>one machine language instruction essentially. </span></span><span class="transcription-time-part" data-time-start="3679.59" data-time-end="3683.04"><span>So, so if I </span></span><span class="transcription-time-part" data-time-start="3683.04" data-time-end="3685.875"><span>were designing this for practical purposes, </span></span><span class="transcription-time-part" data-time-start="3685.875" data-time-end="3688.079"><span>I would probably want to have </span></span><span class="transcription-time-part" data-time-start="3688.079" data-time-end="3689.925"><span>the empty string be </span></span><span class="transcription-time-part" data-time-start="3689.925" data-time-end="3692.459"><span>a special case represented this way. </span></span><span class="transcription-time-part" data-time-start="3692.459" data-time-end="3694.53"><span>Now that's going to make all my </span></span><span class="transcription-time-part" data-time-start="3694.53" data-time-end="3695.699"><span>implementation's a little </span></span><span class="transcription-time-part" data-time-start="3695.699" data-time-end="3697.049"><span>more complicated for me, </span></span><span class="transcription-time-part" data-time-start="3697.049" data-time-end="3699.69"><span>the developer implementing string, </span></span><span class="transcription-time-part" data-time-start="3699.69" data-time-end="3703.169"><span>because I have to check for that case, </span></span><span class="transcription-time-part" data-time-start="3703.169" data-time-end="3704.16"><span>every other string is </span></span><span class="transcription-time-part" data-time-start="3704.16" data-time-end="3705.48"><span>a non null pointer here, </span></span><span class="transcription-time-part" data-time-start="3705.48" data-time-end="3707.55"><span>but the empty string would have a null point. </span></span><span class="transcription-time-part" data-time-start="3707.55" data-time-end="3710.04"><span>That would make my code and let me know. </span></span><span class="transcription-time-part" data-time-start="3710.04" data-time-end="3711.3"><span>And people pay more attention </span></span><span class="transcription-time-part" data-time-start="3711.3" data-time-end="3712.559"><span>when writing the code to implement </span></span><span class="transcription-time-part" data-time-start="3712.559" data-time-end="3713.895"><span>the member functions of strengths </span></span><span class="transcription-time-part" data-time-start="3713.895" data-time-end="3715.545"><span>for users don't care about us. </span></span><span class="transcription-time-part" data-time-start="3715.545" data-time-end="3716.67"><span>They just use the string type. </span></span><span class="transcription-time-part" data-time-start="3716.67" data-time-end="3718.079"><span>It works from their point of view. </span></span><span class="transcription-time-part" data-time-start="3718.079" data-time-end="3718.77"><span>But </span></span><span class="transcription-time-part" data-time-start="3718.77" data-time-end="3719.625"><span>And implemented, </span></span><span class="transcription-time-part" data-time-start="3719.625" data-time-end="3721.259"><span>I would have to do more work. </span></span><span class="transcription-time-part" data-time-start="3721.259" data-time-end="3724.47"><span>So the choices between </span></span><span class="transcription-time-part" data-time-start="3724.47" data-time-end="3727.02"><span>doing more work for me, the implementer, </span></span><span class="transcription-time-part" data-time-start="3727.02" data-time-end="3729.525"><span>in order to make my user's life easier, </span></span><span class="transcription-time-part" data-time-start="3729.525" data-time-end="3730.95"><span>taking up less storage, </span></span><span class="transcription-time-part" data-time-start="3730.95" data-time-end="3732.945"><span>faster performance, et cetera. </span></span><span class="transcription-time-part" data-time-start="3732.945" data-time-end="3736.829"><span>Or make my life as an implementer easier. </span></span><span class="transcription-time-part" data-time-start="3736.829" data-time-end="3738.449"><span>But it's going to be a little more </span></span><span class="transcription-time-part" data-time-start="3738.449" data-time-end="3740.61"><span>costly for users to use my strengths. </span></span><span class="transcription-time-part" data-time-start="3740.61" data-time-end="3742.26"><span>So this is kind of </span></span><span class="transcription-time-part" data-time-start="3742.26" data-time-end="3743.85"><span>from the second Star Trek movie, </span></span><span class="transcription-time-part" data-time-start="3743.85" data-time-end="3745.049"><span>the needs of the many outweigh </span></span><span class="transcription-time-part" data-time-start="3745.049" data-time-end="3746.774"><span>the needs of the few or the one, </span></span><span class="transcription-time-part" data-time-start="3746.774" data-time-end="3748.575"><span>the needs of all my users, </span></span><span class="transcription-time-part" data-time-start="3748.575" data-time-end="3750.57"><span>making life easier for all my users. </span></span><span class="transcription-time-part" data-time-start="3750.57" data-time-end="3752.744"><span>So my stream type is more important </span></span><span class="transcription-time-part" data-time-start="3752.744" data-time-end="3755.64"><span>than saving me a little bit of extra work. </span></span><span class="transcription-time-part" data-time-start="3755.64" data-time-end="3758.504"><span>So this would be the right decision to make. </span></span><span class="transcription-time-part" data-time-start="3758.504" data-time-end="3759.599"><span>And in fact, if you look </span></span><span class="transcription-time-part" data-time-start="3759.599" data-time-end="3761.309"><span>at most library implementations, </span></span><span class="transcription-time-part" data-time-start="3761.309" data-time-end="3763.334"><span>the string type and standard library, </span></span><span class="transcription-time-part" data-time-start="3763.334" data-time-end="3765.989"><span>you find that indeed they'll have </span></span><span class="transcription-time-part" data-time-start="3765.989" data-time-end="3768.06"><span>a simpler representation for </span></span><span class="transcription-time-part" data-time-start="3768.06" data-time-end="3769.8"><span>the empty string that, </span></span><span class="transcription-time-part" data-time-start="3769.8" data-time-end="3771.36"><span>that doesn't need to allocate </span></span><span class="transcription-time-part" data-time-start="3771.36" data-time-end="3773.699"><span>storage because that saves time. </span></span><span class="transcription-time-part" data-time-start="3773.699" data-time-end="3775.304"><span>This is better for everybody. </span></span><span class="transcription-time-part" data-time-start="3775.304" data-time-end="3777.344"><span>Now, that said, </span></span><span class="transcription-time-part" data-time-start="3777.344" data-time-end="3779.069"><span>that's the decision I would make </span></span><span class="transcription-time-part" data-time-start="3779.069" data-time-end="3781.35"><span>it in the real world in </span></span><span class="transcription-time-part" data-time-start="3781.35" data-time-end="3784.709"><span>practice for our purposes, </span></span><span class="transcription-time-part" data-time-start="3784.709" data-time-end="3786.3"><span>for this explanation of going </span></span><span class="transcription-time-part" data-time-start="3786.3" data-time-end="3788.22"><span>through the resource management issue. </span></span><span class="transcription-time-part" data-time-start="3788.22" data-time-end="3790.05"><span>That's just an extra complication </span></span><span class="transcription-time-part" data-time-start="3790.05" data-time-end="3791.1"><span>I we would have. </span></span><span class="transcription-time-part" data-time-start="3791.1" data-time-end="3792.72"><span>So I'm going to make the decision </span></span><span class="transcription-time-part" data-time-start="3792.72" data-time-end="3794.459"><span>that for this presentation, </span></span><span class="transcription-time-part" data-time-start="3794.459" data-time-end="3796.049"><span>representation of the empty string </span></span><span class="transcription-time-part" data-time-start="3796.049" data-time-end="3796.949"><span>will look like that. </span></span><span class="transcription-time-part" data-time-start="3796.949" data-time-end="3799.38"><span>So it'll be a dynamically allocated array </span></span><span class="transcription-time-part" data-time-start="3799.38" data-time-end="3800.73"><span>with Zuora by them. </span></span><span class="transcription-time-part" data-time-start="3800.73" data-time-end="3801.839"><span>So there you go. </span></span><span class="transcription-time-part" data-time-start="3801.839" data-time-end="3803.639"><span>I've decided on my representation for string, </span></span><span class="transcription-time-part" data-time-start="3803.639" data-time-end="3804.84"><span>but, but wait a minute. </span></span><span class="transcription-time-part" data-time-start="3804.84" data-time-end="3806.834"><span>I will discover as I </span></span><span class="transcription-time-part" data-time-start="3806.834" data-time-end="3808.74"><span>implement many member functions for strings, </span></span><span class="transcription-time-part" data-time-start="3808.74" data-time-end="3809.699"><span>useful things to do with </span></span><span class="transcription-time-part" data-time-start="3809.699" data-time-end="3810.96"><span>strings that may have </span></span><span class="transcription-time-part" data-time-start="3810.96" data-time-end="3812.52"><span>those functions need to </span></span><span class="transcription-time-part" data-time-start="3812.52" data-time-end="3814.109"><span>find out the length of the string. </span></span><span class="transcription-time-part" data-time-start="3814.109" data-time-end="3815.49"><span>So many of my member </span></span><span class="transcription-time-part" data-time-start="3815.49" data-time-end="3816.809"><span>functions for string will, </span></span><span class="transcription-time-part" data-time-start="3816.809" data-time-end="3817.98"><span>as part of their work, need </span></span><span class="transcription-time-part" data-time-start="3817.98" data-time-end="3819.33"><span>to know the length of the string. </span></span><span class="transcription-time-part" data-time-start="3819.33" data-time-end="3822.209"><span>So notice that the only way </span></span><span class="transcription-time-part" data-time-start="3822.209" data-time-end="3823.949"><span>this representation to know the length </span></span><span class="transcription-time-part" data-time-start="3823.949" data-time-end="3826.004"><span>of the string is to </span></span><span class="transcription-time-part" data-time-start="3826.004" data-time-end="3828.45"><span>start from the pointer and find the 0 line, </span></span><span class="transcription-time-part" data-time-start="3828.45" data-time-end="3830.19"><span>which is what the strlen function does. </span></span><span class="transcription-time-part" data-time-start="3830.19" data-time-end="3831.93"><span>Remember on my assumption that this </span></span><span class="transcription-time-part" data-time-start="3831.93" data-time-end="3833.73"><span>is 990 and we don't </span></span><span class="transcription-time-part" data-time-start="3833.73" data-time-end="3835.77"><span>have a standard library with </span></span><span class="transcription-time-part" data-time-start="3835.77" data-time-end="3838.41"><span>the B glass from seeing what class, </span></span><span class="transcription-time-part" data-time-start="3838.41" data-time-end="3839.07"><span>we still have </span></span><span class="transcription-time-part" data-time-start="3839.07" data-time-end="3840.539"><span>the C standard library available. </span></span><span class="transcription-time-part" data-time-start="3840.539" data-time-end="3841.679"><span>So we can use functions for </span></span><span class="transcription-time-part" data-time-start="3841.679" data-time-end="3843.059"><span>C strings like strlen. </span></span><span class="transcription-time-part" data-time-start="3843.059" data-time-end="3845.279"><span>So anytime, anywhere, any of </span></span><span class="transcription-time-part" data-time-start="3845.279" data-time-end="3846.36"><span>our other functions need to </span></span><span class="transcription-time-part" data-time-start="3846.36" data-time-end="3847.47"><span>know the length of the string, </span></span><span class="transcription-time-part" data-time-start="3847.47" data-time-end="3849.33"><span>they've got a visit every bite of the string. </span></span><span class="transcription-time-part" data-time-start="3849.33" data-time-end="3850.859"><span>So for a long string that </span></span><span class="transcription-time-part" data-time-start="3850.859" data-time-end="3852.69"><span>could be, that could be costly. </span></span><span class="transcription-time-part" data-time-start="3852.69" data-time-end="3854.789"><span>So here's another thought </span></span><span class="transcription-time-part" data-time-start="3854.789" data-time-end="3856.08"><span>for how I represent a string. </span></span><span class="transcription-time-part" data-time-start="3856.08" data-time-end="3859.755"><span>I'll store not only a pointer to the tax, </span></span><span class="transcription-time-part" data-time-start="3859.755" data-time-end="3861.15"><span>but also how many </span></span><span class="transcription-time-part" data-time-start="3861.15" data-time-end="3862.89"><span>interesting characters are in the string. </span></span><span class="transcription-time-part" data-time-start="3862.89" data-time-end="3865.185"><span>So every string object will have two members. </span></span><span class="transcription-time-part" data-time-start="3865.185" data-time-end="3866.535"><span>If I make this decision, </span></span><span class="transcription-time-part" data-time-start="3866.535" data-time-end="3868.439"><span>one will be a pointer to the, the, </span></span><span class="transcription-time-part" data-time-start="3868.439" data-time-end="3870.389"><span>the text and one will be what the, </span></span><span class="transcription-time-part" data-time-start="3870.389" data-time-end="3872.279"><span>the, the length of that text is. </span></span><span class="transcription-time-part" data-time-start="3872.279" data-time-end="3874.11"><span>So five interesting characters </span></span><span class="transcription-time-part" data-time-start="3874.11" data-time-end="3875.864"><span>here is 0 interesting characters here. </span></span><span class="transcription-time-part" data-time-start="3875.864" data-time-end="3877.619"><span>I'll do that because I think that'll make </span></span><span class="transcription-time-part" data-time-start="3877.619" data-time-end="3879.42"><span>my implementations takes them </span></span><span class="transcription-time-part" data-time-start="3879.42" data-time-end="3880.919"><span>a little more space for string object, </span></span><span class="transcription-time-part" data-time-start="3880.919" data-time-end="3882.029"><span>but, but it makes </span></span><span class="transcription-time-part" data-time-start="3882.029" data-time-end="3883.199"><span>the implementation is faster. </span></span><span class="transcription-time-part" data-time-start="3883.199" data-time-end="3885.779"><span>I think anytime you think this is going to </span></span><span class="transcription-time-part" data-time-start="3885.779" data-time-end="3887.25"><span>be the better choice for </span></span><span class="transcription-time-part" data-time-start="3887.25" data-time-end="3889.049"><span>various performance region reasons, </span></span><span class="transcription-time-part" data-time-start="3889.049" data-time-end="3890.804"><span>you would want to measure that. </span></span><span class="transcription-time-part" data-time-start="3890.804" data-time-end="3894.839"><span>So, so again, in real-world situations, </span></span><span class="transcription-time-part" data-time-start="3894.839" data-time-end="3896.07"><span>you make your decision, </span></span><span class="transcription-time-part" data-time-start="3896.07" data-time-end="3898.529"><span>you run some tests, you measure it. </span></span><span class="transcription-time-part" data-time-start="3898.529" data-time-end="3900.18"><span>You maybe consider the alternating </span></span><span class="transcription-time-part" data-time-start="3900.18" data-time-end="3901.71"><span>implementation, run some tests, </span></span><span class="transcription-time-part" data-time-start="3901.71" data-time-end="3903"><span>measure it and see </span></span><span class="transcription-time-part" data-time-start="3903" data-time-end="3904.485"><span>which one is in fact going to, </span></span><span class="transcription-time-part" data-time-start="3904.485" data-time-end="3905.924"><span>going to be better for you. </span></span><span class="transcription-time-part" data-time-start="3905.924" data-time-end="3908.159"><span>So, to make our presentation easier, </span></span><span class="transcription-time-part" data-time-start="3908.159" data-time-end="3909.449"><span>this is the choice I'll make. </span></span><span class="transcription-time-part" data-time-start="3909.449" data-time-end="3912.69"><span>That leads me to going back to code bell, </span></span><span class="transcription-time-part" data-time-start="3912.69" data-time-end="3914.009"><span>easy to say, okay, I will </span></span><span class="transcription-time-part" data-time-start="3914.009" data-time-end="3915.975"><span>have an additional data member. </span></span><span class="transcription-time-part" data-time-start="3915.975" data-time-end="3916.949"><span>That'll, </span></span><span class="transcription-time-part" data-time-start="3916.949" data-time-end="3918.39"><span>that'll hold the length of the string. </span></span><span class="transcription-time-part" data-time-start="3918.39" data-time-end="3920.01"><span>All right, So again, </span></span><span class="transcription-time-part" data-time-start="3920.01" data-time-end="3921.24"><span>it's a good idea to document </span></span><span class="transcription-time-part" data-time-start="3921.24" data-time-end="3922.289"><span>your class invariant if </span></span><span class="transcription-time-part" data-time-start="3922.289" data-time-end="3923.46"><span>you make these decisions. </span></span><span class="transcription-time-part" data-time-start="3923.46" data-time-end="3925.395"><span>So I'll say that. </span></span><span class="transcription-time-part" data-time-start="3925.395" data-time-end="3927.27"><span>All right, So my class invariant, </span></span><span class="transcription-time-part" data-time-start="3927.27" data-time-end="3929.19"><span>invariant properties of my representations, </span></span><span class="transcription-time-part" data-time-start="3929.19" data-time-end="3930.119"><span>so I keep track and make sure </span></span><span class="transcription-time-part" data-time-start="3930.119" data-time-end="3931.544"><span>I always satisfy them. </span></span><span class="transcription-time-part" data-time-start="3931.544" data-time-end="3933.18"><span>One of them is of course, </span></span><span class="transcription-time-part" data-time-start="3933.18" data-time-end="3936.6"><span>that mtext is a pointer to my intent. </span></span><span class="transcription-time-part" data-time-start="3936.6" data-time-end="3938.805"><span>It's a dynamically allocated array. </span></span><span class="transcription-time-part" data-time-start="3938.805" data-time-end="3940.32"><span>And how many characters in the array? </span></span><span class="transcription-time-part" data-time-start="3940.32" data-time-end="3941.729"><span>Well, actually it should </span></span><span class="transcription-time-part" data-time-start="3941.729" data-time-end="3943.064"><span>be related to the M1, </span></span><span class="transcription-time-part" data-time-start="3943.064" data-time-end="3944.339"><span>enough characters to hold </span></span><span class="transcription-time-part" data-time-start="3944.339" data-time-end="3946.319"><span>the interesting characters in </span></span><span class="transcription-time-part" data-time-start="3946.319" data-time-end="3947.61"><span>the string plus one more for </span></span><span class="transcription-time-part" data-time-start="3947.61" data-time-end="3949.709"><span>this terabyte at the end, of course. </span></span><span class="transcription-time-part" data-time-start="3949.709" data-time-end="3952.139"><span>Another property is the length </span></span><span class="transcription-time-part" data-time-start="3952.139" data-time-end="3954.659"><span>of a string has to be at least 0. </span></span><span class="transcription-time-part" data-time-start="3954.659" data-time-end="3956.609"><span>And another property is </span></span><span class="transcription-time-part" data-time-start="3956.609" data-time-end="3959.31"><span>that there is a 0 byte at the end. </span></span><span class="transcription-time-part" data-time-start="3959.31" data-time-end="3960.42"><span>Well actually here's another way to </span></span><span class="transcription-time-part" data-time-start="3960.42" data-time-end="3961.589"><span>say M line is supposed to </span></span><span class="transcription-time-part" data-time-start="3961.589" data-time-end="3963.15"><span>represent the result of what </span></span><span class="transcription-time-part" data-time-start="3963.15" data-time-end="3964.875"><span>calling strlen would give me. </span></span><span class="transcription-time-part" data-time-start="3964.875" data-time-end="3966.989"><span>So, so if I call the C library </span></span><span class="transcription-time-part" data-time-start="3966.989" data-time-end="3969.029"><span>function strlen on M text, </span></span><span class="transcription-time-part" data-time-start="3969.029" data-time-end="3970.44"><span>I should get back the length. </span></span><span class="transcription-time-part" data-time-start="3970.44" data-time-end="3971.339"><span>So I've decided what </span></span><span class="transcription-time-part" data-time-start="3971.339" data-time-end="3972.599"><span>my data representations are. </span></span><span class="transcription-time-part" data-time-start="3972.599" data-time-end="3974.534"><span>Now I can start implementing the functions. </span></span><span class="transcription-time-part" data-time-start="3974.534" data-time-end="3977.774"><span>So I will implement my constructor. </span></span><span class="transcription-time-part" data-time-start="3977.774" data-time-end="3981.689"><span>And let me, let me try this implementation. </span></span><span class="transcription-time-part" data-time-start="3981.689" data-time-end="3982.98"><span>Well, that's a C string, </span></span><span class="transcription-time-part" data-time-start="3982.98" data-time-end="3984.435"><span>so I'll sign it there. </span></span><span class="transcription-time-part" data-time-start="3984.435" data-time-end="3986.429"><span>So I try something like that as </span></span><span class="transcription-time-part" data-time-start="3986.429" data-time-end="3988.02"><span>my, as my implementation. </span></span><span class="transcription-time-part" data-time-start="3988.02" data-time-end="3989.46"><span>This is wrong. </span></span><span class="transcription-time-part" data-time-start="3989.46" data-time-end="3991.62"><span>This is an incorrect implementation. </span></span><span class="transcription-time-part" data-time-start="3991.62" data-time-end="3993.825"><span>This is wrong because </span></span><span class="transcription-time-part" data-time-start="3993.825" data-time-end="3996.405"><span>It's going to lead to some funny effects. </span></span><span class="transcription-time-part" data-time-start="3996.405" data-time-end="3997.98"><span>So let's see what </span></span><span class="transcription-time-part" data-time-start="3997.98" data-time-end="3999.434"><span>those funny effects would be. </span></span><span class="transcription-time-part" data-time-start="3999.434" data-time-end="4000.62"><span>Alright, so again, remember </span></span><span class="transcription-time-part" data-time-start="4000.62" data-time-end="4001.639"><span>the constructor is </span></span><span class="transcription-time-part" data-time-start="4001.639" data-time-end="4002.929"><span>simply taking the parameter, </span></span><span class="transcription-time-part" data-time-start="4002.929" data-time-end="4004.1"><span>you give it the pointer and </span></span><span class="transcription-time-part" data-time-start="4004.1" data-time-end="4005.645"><span>stuffing it in the M text. </span></span><span class="transcription-time-part" data-time-start="4005.645" data-time-end="4007.849"><span>And also taking the length of that, </span></span><span class="transcription-time-part" data-time-start="4007.849" data-time-end="4010.024"><span>that stuck and sticking in the mLab. </span></span><span class="transcription-time-part" data-time-start="4010.024" data-time-end="4011.569"><span>So let me, let me </span></span><span class="transcription-time-part" data-time-start="4011.569" data-time-end="4013.279"><span>take a look at what that would do. </span></span><span class="transcription-time-part" data-time-start="4013.279" data-time-end="4015.14"><span>Absolutely get an example where </span></span><span class="transcription-time-part" data-time-start="4015.14" data-time-end="4017.705"><span>the positive character array, </span></span><span class="transcription-time-part" data-time-start="4017.705" data-time-end="4019.474"><span>okay, I found an array of characters pop. </span></span><span class="transcription-time-part" data-time-start="4019.474" data-time-end="4021.544"><span>All right, I will, </span></span><span class="transcription-time-part" data-time-start="4021.544" data-time-end="4023.45"><span>I'll read a line of input. </span></span><span class="transcription-time-part" data-time-start="4023.45" data-time-end="4026.179"><span>Now, admittedly, and 990, </span></span><span class="transcription-time-part" data-time-start="4026.179" data-time-end="4028.7"><span>the standard library wasn't standardized, </span></span><span class="transcription-time-part" data-time-start="4028.7" data-time-end="4030.62"><span>but many, many libraries </span></span><span class="transcription-time-part" data-time-start="4030.62" data-time-end="4033.17"><span>had implementations where okay too, </span></span><span class="transcription-time-part" data-time-start="4033.17" data-time-end="4036.17"><span>I see, or you could call getline are. </span></span><span class="transcription-time-part" data-time-start="4036.17" data-time-end="4038.539"><span>And you get the array limit </span></span><span class="transcription-time-part" data-time-start="4038.539" data-time-end="4040.415"><span>on how many characters to store. </span></span><span class="transcription-time-part" data-time-start="4040.415" data-time-end="4042.35"><span>So that will read a line of input, </span></span><span class="transcription-time-part" data-time-start="4042.35" data-time-end="4044.434"><span>Let's say the user types in hello. </span></span><span class="transcription-time-part" data-time-start="4044.434" data-time-end="4046.189"><span>So the user types in hello, </span></span><span class="transcription-time-part" data-time-start="4046.189" data-time-end="4047.39"><span>and this is going to put it in </span></span><span class="transcription-time-part" data-time-start="4047.39" data-time-end="4049.25"><span>this character array with his thereby. </span></span><span class="transcription-time-part" data-time-start="4049.25" data-time-end="4051.304"><span>Okay, so again, hello to 0 byte at the end. </span></span><span class="transcription-time-part" data-time-start="4051.304" data-time-end="4052.609"><span>Now let's create a string </span></span><span class="transcription-time-part" data-time-start="4052.609" data-time-end="4054.335"><span>object from that string. </span></span><span class="transcription-time-part" data-time-start="4054.335" data-time-end="4055.714"><span>Okay, Now as I, </span></span><span class="transcription-time-part" data-time-start="4055.714" data-time-end="4057.38"><span>as I wrote the constructor, </span></span><span class="transcription-time-part" data-time-start="4057.38" data-time-end="4058.789"><span>my constructor said, okay, </span></span><span class="transcription-time-part" data-time-start="4058.789" data-time-end="4061.474"><span>we have our two numbers, our texts and MLN. </span></span><span class="transcription-time-part" data-time-start="4061.474" data-time-end="4063.44"><span>And as I wrote the constructor, </span></span><span class="transcription-time-part" data-time-start="4063.44" data-time-end="4066.754"><span>I said m texts gets the argument if I'm </span></span><span class="transcription-time-part" data-time-start="4066.754" data-time-end="4069.109"><span>passing a pointer to buffer </span></span><span class="transcription-time-part" data-time-start="4069.109" data-time-end="4070.489"><span>because an array name by assault </span></span><span class="transcription-time-part" data-time-start="4070.489" data-time-end="4071.809"><span>and disappointed at element 0, </span></span><span class="transcription-time-part" data-time-start="4071.809" data-time-end="4073.91"><span>the array, if I pass that </span></span><span class="transcription-time-part" data-time-start="4073.91" data-time-end="4076.444"><span>as to the constructor as value. </span></span><span class="transcription-time-part" data-time-start="4076.444" data-time-end="4077.569"><span>And if my constructor </span></span><span class="transcription-time-part" data-time-start="4077.569" data-time-end="4080.945"><span>says assign value to m tax, </span></span><span class="transcription-time-part" data-time-start="4080.945" data-time-end="4083.945"><span>well then that pointer gets assigned M text </span></span><span class="transcription-time-part" data-time-start="4083.945" data-time-end="4085.55"><span>and strlen and value becomes </span></span><span class="transcription-time-part" data-time-start="4085.55" data-time-end="4087.379"><span>m land was the other code I said. </span></span><span class="transcription-time-part" data-time-start="4087.379" data-time-end="4089.465"><span>And we leave the constructor, </span></span><span class="transcription-time-part" data-time-start="4089.465" data-time-end="4090.649"><span>the local parameter </span></span><span class="transcription-time-part" data-time-start="4090.649" data-time-end="4092.044"><span>value because the right way, </span></span><span class="transcription-time-part" data-time-start="4092.044" data-time-end="4093.889"><span>and here it is as has </span></span><span class="transcription-time-part" data-time-start="4093.889" data-time-end="4096.14"><span>a pointer to hello with a 0, </span></span><span class="transcription-time-part" data-time-start="4096.14" data-time-end="4097.31"><span>but at the end, and Atlanta's </span></span><span class="transcription-time-part" data-time-start="4097.31" data-time-end="4098.81"><span>five looks great. </span></span><span class="transcription-time-part" data-time-start="4098.81" data-time-end="4100.805"><span>Did all kinds of stuff I can do with that. </span></span><span class="transcription-time-part" data-time-start="4100.805" data-time-end="4101.51"><span>That'll be right. </span></span><span class="transcription-time-part" data-time-start="4101.51" data-time-end="4102.89"><span>So look like it has the text, </span></span><span class="transcription-time-part" data-time-start="4102.89" data-time-end="4105.245"><span>Hello, everything, everything seems legit. </span></span><span class="transcription-time-part" data-time-start="4105.245" data-time-end="4106.94"><span>There's only one problem. </span></span><span class="transcription-time-part" data-time-start="4106.94" data-time-end="4109.46"><span>It's very confusing to the user for. </span></span><span class="transcription-time-part" data-time-start="4109.46" data-time-end="4112.414"><span>Well, if the user later on, </span></span><span class="transcription-time-part" data-time-start="4112.414" data-time-end="4113.6"><span>say reads another line </span></span><span class="transcription-time-part" data-time-start="4113.6" data-time-end="4114.829"><span>and put it into the buffer, </span></span><span class="transcription-time-part" data-time-start="4114.829" data-time-end="4118.339"><span>figuring that, okay, I can align it input, </span></span><span class="transcription-time-part" data-time-start="4118.339" data-time-end="4120.079"><span>I typed it below that, </span></span><span class="transcription-time-part" data-time-start="4120.079" data-time-end="4121.13"><span>got put into the strengths, </span></span><span class="transcription-time-part" data-time-start="4121.13" data-time-end="4122.255"><span>so the strings got the **** out. </span></span><span class="transcription-time-part" data-time-start="4122.255" data-time-end="4123.08"><span>Nevertheless, let me go use </span></span><span class="transcription-time-part" data-time-start="4123.08" data-time-end="4124.369"><span>the buffers for something else. </span></span><span class="transcription-time-part" data-time-start="4124.369" data-time-end="4126.335"><span>So I read a line of input to the buffer. </span></span><span class="transcription-time-part" data-time-start="4126.335" data-time-end="4129.034"><span>Let's say that line of input is, Oh, </span></span><span class="transcription-time-part" data-time-start="4129.034" data-time-end="4131.96"><span>wow, well, buffers right here. </span></span><span class="transcription-time-part" data-time-start="4131.96" data-time-end="4135.139"><span>So incomes, the wildlife being out alone, </span></span><span class="transcription-time-part" data-time-start="4135.139" data-time-end="4138.964"><span>actually pillow occupy six characters here. </span></span><span class="transcription-time-part" data-time-start="4138.964" data-time-end="4140.795"><span>If I 3D and wow, </span></span><span class="transcription-time-part" data-time-start="4140.795" data-time-end="4144.745"><span>will get the w o to w 0 </span></span><span class="transcription-time-part" data-time-start="4144.745" data-time-end="4148.01"><span>by leftover from the halo would be </span></span><span class="transcription-time-part" data-time-start="4148.01" data-time-end="4151.849"><span>the final lower-case 00 byte here. </span></span><span class="transcription-time-part" data-time-start="4151.849" data-time-end="4156.92"><span>Basically, we are putting WOW, 0 right here. </span></span><span class="transcription-time-part" data-time-start="4156.92" data-time-end="4158.479"><span>And now we've got </span></span><span class="transcription-time-part" data-time-start="4158.479" data-time-end="4160.07"><span>the strange situation, right? </span></span><span class="transcription-time-part" data-time-start="4160.07" data-time-end="4161.99"><span>We ready and to buffer, </span></span><span class="transcription-time-part" data-time-start="4161.99" data-time-end="4164.374"><span>we made no mention of the string s. </span></span><span class="transcription-time-part" data-time-start="4164.374" data-time-end="4167.81"><span>Yet this change, conceptually what S is value </span></span><span class="transcription-time-part" data-time-start="4167.81" data-time-end="4169.97"><span>is now code that uses </span></span><span class="transcription-time-part" data-time-start="4169.97" data-time-end="4171.11"><span>AES and tries to do </span></span><span class="transcription-time-part" data-time-start="4171.11" data-time-end="4172.729"><span>stuff with the string is going to get, </span></span><span class="transcription-time-part" data-time-start="4172.729" data-time-end="4175.01"><span>well, it's gotta be weird because </span></span><span class="transcription-time-part" data-time-start="4175.01" data-time-end="4176.089"><span>the code is going to think that </span></span><span class="transcription-time-part" data-time-start="4176.089" data-time-end="4177.965"><span>the length of the string is five. </span></span><span class="transcription-time-part" data-time-start="4177.965" data-time-end="4180.485"><span>And well, it's not. </span></span><span class="transcription-time-part" data-time-start="4180.485" data-time-end="4181.85"><span>The strlen is, </span></span><span class="transcription-time-part" data-time-start="4181.85" data-time-end="4183.019"><span>there's really only up to here, </span></span><span class="transcription-time-part" data-time-start="4183.019" data-time-end="4185.719"><span>so it's only really effectively three. </span></span><span class="transcription-time-part" data-time-start="4185.719" data-time-end="4187.879"><span>The string value changed out from under us. </span></span><span class="transcription-time-part" data-time-start="4187.879" data-time-end="4189.71"><span>It, it, it was hello before and </span></span><span class="transcription-time-part" data-time-start="4189.71" data-time-end="4191.839"><span>now Ss values no longer hello, </span></span><span class="transcription-time-part" data-time-start="4191.839" data-time-end="4193.774"><span>but we didn't even mention us. </span></span><span class="transcription-time-part" data-time-start="4193.774" data-time-end="4195.215"><span>This is totally wrong. </span></span><span class="transcription-time-part" data-time-start="4195.215" data-time-end="4197.539"><span>This is, this is really bad, </span></span><span class="transcription-time-part" data-time-start="4197.539" data-time-end="4200.119"><span>bad practice here because our expectation </span></span><span class="transcription-time-part" data-time-start="4200.119" data-time-end="4203.33"><span>is that if I create a string from that tax, </span></span><span class="transcription-time-part" data-time-start="4203.33" data-time-end="4204.904"><span>that tax no longer matters. </span></span><span class="transcription-time-part" data-time-start="4204.904" data-time-end="4206.525"><span>If now belongs to the strength. </span></span><span class="transcription-time-part" data-time-start="4206.525" data-time-end="4207.68"><span>Well, that's not what we did. </span></span><span class="transcription-time-part" data-time-start="4207.68" data-time-end="4208.97"><span>We saved a pointer to </span></span><span class="transcription-time-part" data-time-start="4208.97" data-time-end="4210.59"><span>where that text came from M. </span></span><span class="transcription-time-part" data-time-start="4210.59" data-time-end="4211.879"><span>And that's well, okay. </span></span><span class="transcription-time-part" data-time-start="4211.879" data-time-end="4214.999"><span>So what we want is when you create a string, </span></span><span class="transcription-time-part" data-time-start="4214.999" data-time-end="4218.465"><span>each string gets its own array of text. </span></span><span class="transcription-time-part" data-time-start="4218.465" data-time-end="4220.04"><span>Let me go back to the code here. </span></span><span class="transcription-time-part" data-time-start="4220.04" data-time-end="4221.18"><span>Now, actually, </span></span><span class="transcription-time-part" data-time-start="4221.18" data-time-end="4222.559"><span>there's another reason this is wrong. </span></span><span class="transcription-time-part" data-time-start="4222.559" data-time-end="4223.85"><span>It won't even compile. </span></span><span class="transcription-time-part" data-time-start="4223.85" data-time-end="4227.764"><span>Value is a pointer to constant characters. </span></span><span class="transcription-time-part" data-time-start="4227.764" data-time-end="4230.569"><span>M text says is </span></span><span class="transcription-time-part" data-time-start="4230.569" data-time-end="4233.389"><span>declared as a pointer to texts. </span></span><span class="transcription-time-part" data-time-start="4233.389" data-time-end="4236.314"><span>That is, we don't promise not to modify. </span></span><span class="transcription-time-part" data-time-start="4236.314" data-time-end="4238.64"><span>Compiler won't even let you do that. </span></span><span class="transcription-time-part" data-time-start="4238.64" data-time-end="4240.634"><span>So, so this won't even compile. </span></span><span class="transcription-time-part" data-time-start="4240.634" data-time-end="4242.209"><span>But if you thought, well, </span></span><span class="transcription-time-part" data-time-start="4242.209" data-time-end="4243.8"><span>why don't I make this not a </span></span><span class="transcription-time-part" data-time-start="4243.8" data-time-end="4245.57"><span>pointer to constant characters less promised. </span></span><span class="transcription-time-part" data-time-start="4245.57" data-time-end="4246.62"><span>Let's not promised not to </span></span><span class="transcription-time-part" data-time-start="4246.62" data-time-end="4247.984"><span>modify the characters. </span></span><span class="transcription-time-part" data-time-start="4247.984" data-time-end="4249.38"><span>Get rid of the const here, </span></span><span class="transcription-time-part" data-time-start="4249.38" data-time-end="4250.819"><span>and then we can go ahead and do this. </span></span><span class="transcription-time-part" data-time-start="4250.819" data-time-end="4251.599"><span>Well, yeah, </span></span><span class="transcription-time-part" data-time-start="4251.599" data-time-end="4253.129"><span>that assignment would then be, would compile. </span></span><span class="transcription-time-part" data-time-start="4253.129" data-time-end="4254.839"><span>But we still have this weird problem that </span></span><span class="transcription-time-part" data-time-start="4254.839" data-time-end="4257.119"><span>the strings value changes out from under it. </span></span><span class="transcription-time-part" data-time-start="4257.119" data-time-end="4260.225"><span>So now, now, and in fact, </span></span><span class="transcription-time-part" data-time-start="4260.225" data-time-end="4261.59"><span>I already anticipated that in </span></span><span class="transcription-time-part" data-time-start="4261.59" data-time-end="4263.48"><span>my class and barium and I said, </span></span><span class="transcription-time-part" data-time-start="4263.48" data-time-end="4265.16"><span>Wait a minute, am tax is a pointer </span></span><span class="transcription-time-part" data-time-start="4265.16" data-time-end="4266.959"><span>to a dynamically allocated array. </span></span><span class="transcription-time-part" data-time-start="4266.959" data-time-end="4268.775"><span>Well, no, it's not, not here. </span></span><span class="transcription-time-part" data-time-start="4268.775" data-time-end="4270.905"><span>So yeah, I totally messed up here. </span></span><span class="transcription-time-part" data-time-start="4270.905" data-time-end="4273.169"><span>So now let's, let's do this right. </span></span><span class="transcription-time-part" data-time-start="4273.169" data-time-end="4274.925"><span>Now. What we did for M line is correct. </span></span><span class="transcription-time-part" data-time-start="4274.925" data-time-end="4277.204"><span>I'm text needs to be </span></span><span class="transcription-time-part" data-time-start="4277.204" data-time-end="4279.14"><span>a dynamically allocated array </span></span><span class="transcription-time-part" data-time-start="4279.14" data-time-end="4280.61"><span>of some number of characters. </span></span><span class="transcription-time-part" data-time-start="4280.61" data-time-end="4282.169"><span>That's what we need to set. </span></span><span class="transcription-time-part" data-time-start="4282.169" data-time-end="4284"><span>Dynamically allocated an array </span></span><span class="transcription-time-part" data-time-start="4284" data-time-end="4285.634"><span>of the appropriate number of characters. </span></span><span class="transcription-time-part" data-time-start="4285.634" data-time-end="4286.789"><span>New will give us back </span></span><span class="transcription-time-part" data-time-start="4286.789" data-time-end="4288.35"><span>a pointer to the beginning of that array. </span></span><span class="transcription-time-part" data-time-start="4288.35" data-time-end="4289.954"><span>And that's what gets stored at M text </span></span><span class="transcription-time-part" data-time-start="4289.954" data-time-end="4291.379"><span>and how many characters? </span></span><span class="transcription-time-part" data-time-start="4291.379" data-time-end="4292.894"><span>Well, big enough to hold the string. </span></span><span class="transcription-time-part" data-time-start="4292.894" data-time-end="4295.219"><span>But since I decided I want my representation </span></span><span class="transcription-time-part" data-time-start="4295.219" data-time-end="4297.619"><span>of the string to have a 0 byte at the end. </span></span><span class="transcription-time-part" data-time-start="4297.619" data-time-end="4299.18"><span>It's not going to be m land, </span></span><span class="transcription-time-part" data-time-start="4299.18" data-time-end="4300.875"><span>it's going to be m land plus one. </span></span><span class="transcription-time-part" data-time-start="4300.875" data-time-end="4303.049"><span>So that causes the string to, </span></span><span class="transcription-time-part" data-time-start="4303.049" data-time-end="4305.03"><span>right now the contents out though, </span></span><span class="transcription-time-part" data-time-start="4305.03" data-time-end="4306.229"><span>instead of going to live to </span></span><span class="transcription-time-part" data-time-start="4306.229" data-time-end="4307.594"><span>the white board or put it here, </span></span><span class="transcription-time-part" data-time-start="4307.594" data-time-end="4309.979"><span>the contents of the strings M text, </span></span><span class="transcription-time-part" data-time-start="4309.979" data-time-end="4311.419"><span>okay, It's, it's, it's </span></span><span class="transcription-time-part" data-time-start="4311.419" data-time-end="4312.65"><span>M line is going to be five. </span></span><span class="transcription-time-part" data-time-start="4312.65" data-time-end="4314.449"><span>And the M text right now is going to be </span></span><span class="transcription-time-part" data-time-start="4314.449" data-time-end="4317.129"><span>an array of, at the very moment, it </span></span><span class="transcription-time-part" data-time-start="4317.129" data-time-end="4318.745"><span>Uninitialized character, </span></span><span class="transcription-time-part" data-time-start="4318.745" data-time-end="4319.78"><span>we dynamically allocate </span></span><span class="transcription-time-part" data-time-start="4319.78" data-time-end="4321.04"><span>an array of six characters. </span></span><span class="transcription-time-part" data-time-start="4321.04" data-time-end="4323.02"><span>We didn't yet say what values they have. </span></span><span class="transcription-time-part" data-time-start="4323.02" data-time-end="4324.67"><span>So we need to make sure we take </span></span><span class="transcription-time-part" data-time-start="4324.67" data-time-end="4327.189"><span>the text of the string here. </span></span><span class="transcription-time-part" data-time-start="4327.189" data-time-end="4328.569"><span>Value is a pointer to that to be </span></span><span class="transcription-time-part" data-time-start="4328.569" data-time-end="4330.175"><span>hello string them that's empty. </span></span><span class="transcription-time-part" data-time-start="4330.175" data-time-end="4331.33"><span>And let us five and we have </span></span><span class="transcription-time-part" data-time-start="4331.33" data-time-end="4333.04"><span>the array of 600 initialized characters. </span></span><span class="transcription-time-part" data-time-start="4333.04" data-time-end="4336.955"><span>We need to get those characters into mtext. </span></span><span class="transcription-time-part" data-time-start="4336.955" data-time-end="4339.639"><span>Again, we have the C standard library </span></span><span class="transcription-time-part" data-time-start="4339.639" data-time-end="4341.44"><span>so we can use string copy. </span></span><span class="transcription-time-part" data-time-start="4341.44" data-time-end="4345.444"><span>So we will copy into M text from value. </span></span><span class="transcription-time-part" data-time-start="4345.444" data-time-end="4346.69"><span>So again, str copy </span></span><span class="transcription-time-part" data-time-start="4346.69" data-time-end="4349.884"><span>takes two pointers to characters. </span></span><span class="transcription-time-part" data-time-start="4349.884" data-time-end="4351.22"><span>The first is a pointer to carry </span></span><span class="transcription-time-part" data-time-start="4351.22" data-time-end="4352.809"><span>an array of characters you can modify. </span></span><span class="transcription-time-part" data-time-start="4352.809" data-time-end="4353.79"><span>The second is he's appointed </span></span><span class="transcription-time-part" data-time-start="4353.79" data-time-end="4354.79"><span>to characters and, and, </span></span><span class="transcription-time-part" data-time-start="4354.79" data-time-end="4355.81"><span>and the function is not going to </span></span><span class="transcription-time-part" data-time-start="4355.81" data-time-end="4357.099"><span>modify those characters. </span></span><span class="transcription-time-part" data-time-start="4357.099" data-time-end="4358.989"><span>And so it'll copy the characters </span></span><span class="transcription-time-part" data-time-start="4358.989" data-time-end="4362.15"><span>from the second array into the first array, </span></span><span class="transcription-time-part" data-time-start="4362.15" data-time-end="4364.445"><span>stopping after it copies a 0 byte. </span></span><span class="transcription-time-part" data-time-start="4364.445" data-time-end="4367.264"><span>So if value is pointing to the hello string, </span></span><span class="transcription-time-part" data-time-start="4367.264" data-time-end="4368.479"><span>this, this constant string </span></span><span class="transcription-time-part" data-time-start="4368.479" data-time-end="4370.384"><span>in memory that has hello. </span></span><span class="transcription-time-part" data-time-start="4370.384" data-time-end="4373.654"><span>Then we're gonna get our h here, </span></span><span class="transcription-time-part" data-time-start="4373.654" data-time-end="4376.01"><span>or here, or here, </span></span><span class="transcription-time-part" data-time-start="4376.01" data-time-end="4377.809"><span>or here, or here, </span></span><span class="transcription-time-part" data-time-start="4377.809" data-time-end="4379.355"><span>or I guess I missed one question marks </span></span><span class="transcription-time-part" data-time-start="4379.355" data-time-end="4381.17"><span>and is thereby the character who's, </span></span><span class="transcription-time-part" data-time-start="4381.17" data-time-end="4382.55"><span>who's representation is 0. </span></span><span class="transcription-time-part" data-time-start="4382.55" data-time-end="4386.27"><span>Okay, so now S looks like that. </span></span><span class="transcription-time-part" data-time-start="4386.27" data-time-end="4387.769"><span>If we passed it hello, </span></span><span class="transcription-time-part" data-time-start="4387.769" data-time-end="4389.689"><span>does that satisfy our invariant? </span></span><span class="transcription-time-part" data-time-start="4389.689" data-time-end="4390.889"><span>Mtext is a pointer to </span></span><span class="transcription-time-part" data-time-start="4390.889" data-time-end="4392.42"><span>a dynamically allocated array of </span></span><span class="transcription-time-part" data-time-start="4392.42" data-time-end="4394.265"><span>five plus 16 characters. </span></span><span class="transcription-time-part" data-time-start="4394.265" data-time-end="4396.485"><span>Yes, we allocated six characters. </span></span><span class="transcription-time-part" data-time-start="4396.485" data-time-end="4398.84"><span>Five is greater than equal to 05 </span></span><span class="transcription-time-part" data-time-start="4398.84" data-time-end="4401.03"><span>is indeed equal to strlen of M text. </span></span><span class="transcription-time-part" data-time-start="4401.03" data-time-end="4402.319"><span>All right, So there is </span></span><span class="transcription-time-part" data-time-start="4402.319" data-time-end="4403.64"><span>a correct implementation of </span></span><span class="transcription-time-part" data-time-start="4403.64" data-time-end="4405.169"><span>our constructor that takes one Arctic, </span></span><span class="transcription-time-part" data-time-start="4405.169" data-time-end="4405.65"><span>alright, </span></span><span class="transcription-time-part" data-time-start="4405.65" data-time-end="4408.56"><span>our constructor that takes no arguments, </span></span><span class="transcription-time-part" data-time-start="4408.56" data-time-end="4410.675"><span>the default constructor that we declared, </span></span><span class="transcription-time-part" data-time-start="4410.675" data-time-end="4412.849"><span>if that's our string t here. </span></span><span class="transcription-time-part" data-time-start="4412.849" data-time-end="4415.414"><span>So our string t, Let's see. </span></span><span class="transcription-time-part" data-time-start="4415.414" data-time-end="4417.304"><span>What we want t to look like </span></span><span class="transcription-time-part" data-time-start="4417.304" data-time-end="4419.855"><span>is, well, the M line should be 0. </span></span><span class="transcription-time-part" data-time-start="4419.855" data-time-end="4421.895"><span>So I guess we could that. </span></span><span class="transcription-time-part" data-time-start="4421.895" data-time-end="4423.469"><span>I decided I do want to go with </span></span><span class="transcription-time-part" data-time-start="4423.469" data-time-end="4425.134"><span>the representation where M text </span></span><span class="transcription-time-part" data-time-start="4425.134" data-time-end="4426.799"><span>is an array of </span></span><span class="transcription-time-part" data-time-start="4426.799" data-time-end="4428.615"><span>dynamically allocated characters. </span></span><span class="transcription-time-part" data-time-start="4428.615" data-time-end="4430.1"><span>So it'll be one character </span></span><span class="transcription-time-part" data-time-start="4430.1" data-time-end="4432.469"><span>and we want that to be the 0 byte. </span></span><span class="transcription-time-part" data-time-start="4432.469" data-time-end="4433.909"><span>So we can say that we </span></span><span class="transcription-time-part" data-time-start="4433.909" data-time-end="4435.05"><span>dynamically allocate an array of </span></span><span class="transcription-time-part" data-time-start="4435.05" data-time-end="4436.369"><span>one character and then </span></span><span class="transcription-time-part" data-time-start="4436.369" data-time-end="4437.914"><span>we set that to the 0 byte. </span></span><span class="transcription-time-part" data-time-start="4437.914" data-time-end="4439.64"><span>So that would be our representation </span></span><span class="transcription-time-part" data-time-start="4439.64" data-time-end="4441.86"><span>of the, the empty string. </span></span><span class="transcription-time-part" data-time-start="4441.86" data-time-end="4444.575"><span>Now be, before I go further, </span></span><span class="transcription-time-part" data-time-start="4444.575" data-time-end="4446.63"><span>I may decide that what I </span></span><span class="transcription-time-part" data-time-start="4446.63" data-time-end="4448.579"><span>want to do is examine </span></span><span class="transcription-time-part" data-time-start="4448.579" data-time-end="4450.2"><span>these two constructors and take </span></span><span class="transcription-time-part" data-time-start="4450.2" data-time-end="4452.555"><span>a look at their implementations. </span></span><span class="transcription-time-part" data-time-start="4452.555" data-time-end="4454.489"><span>And it's a worthwhile exercise. </span></span><span class="transcription-time-part" data-time-start="4454.489" data-time-end="4456.14"><span>You may end up, it may end up proving, </span></span><span class="transcription-time-part" data-time-start="4456.14" data-time-end="4457.73"><span>proving not so valuable, </span></span><span class="transcription-time-part" data-time-start="4457.73" data-time-end="4458.884"><span>but it's worth doing. </span></span><span class="transcription-time-part" data-time-start="4458.884" data-time-end="4460.909"><span>It's a worthwhile exercise to look at. </span></span><span class="transcription-time-part" data-time-start="4460.909" data-time-end="4462.589"><span>These two functions have </span></span><span class="transcription-time-part" data-time-start="4462.589" data-time-end="4464.119"><span>different parameter lists, </span></span><span class="transcription-time-part" data-time-start="4464.119" data-time-end="4465.935"><span>but this one is, </span></span><span class="transcription-time-part" data-time-start="4465.935" data-time-end="4467.839"><span>is shorter than that one. </span></span><span class="transcription-time-part" data-time-start="4467.839" data-time-end="4469.61"><span>There's a possibility of combination </span></span><span class="transcription-time-part" data-time-start="4469.61" data-time-end="4470.735"><span>here or something or, or, </span></span><span class="transcription-time-part" data-time-start="4470.735" data-time-end="4472.369"><span>or just look for commonality </span></span><span class="transcription-time-part" data-time-start="4472.369" data-time-end="4473.66"><span>in the implementations. </span></span><span class="transcription-time-part" data-time-start="4473.66" data-time-end="4475.819"><span>And maybe we might be able to factor that, </span></span><span class="transcription-time-part" data-time-start="4475.819" data-time-end="4477.019"><span>that commonality into </span></span><span class="transcription-time-part" data-time-start="4477.019" data-time-end="4478.865"><span>a common helper function or something. </span></span><span class="transcription-time-part" data-time-start="4478.865" data-time-end="4480.41"><span>So as an exercise, </span></span><span class="transcription-time-part" data-time-start="4480.41" data-time-end="4482.644"><span>what I'm going to try to do is, </span></span><span class="transcription-time-part" data-time-start="4482.644" data-time-end="4484.849"><span>for example, here's the general case </span></span><span class="transcription-time-part" data-time-start="4484.849" data-time-end="4486.669"><span>and here the empty string. </span></span><span class="transcription-time-part" data-time-start="4486.669" data-time-end="4488.23"><span>I'm going to try to </span></span><span class="transcription-time-part" data-time-start="4488.23" data-time-end="4490.57"><span>massage this code and try to make </span></span><span class="transcription-time-part" data-time-start="4490.57" data-time-end="4492.369"><span>this code look more </span></span><span class="transcription-time-part" data-time-start="4492.369" data-time-end="4493.87"><span>like be constructed </span></span><span class="transcription-time-part" data-time-start="4493.87" data-time-end="4495.415"><span>through with one argument code. </span></span><span class="transcription-time-part" data-time-start="4495.415" data-time-end="4497.035"><span>So let's see. </span></span><span class="transcription-time-part" data-time-start="4497.035" data-time-end="4498.85"><span>Well, this one says M texts gets </span></span><span class="transcription-time-part" data-time-start="4498.85" data-time-end="4499.93"><span>a new array of </span></span><span class="transcription-time-part" data-time-start="4499.93" data-time-end="4502.734"><span>characters of length m length plus one. </span></span><span class="transcription-time-part" data-time-start="4502.734" data-time-end="4504.37"><span>This one also says M text </span></span><span class="transcription-time-part" data-time-start="4504.37" data-time-end="4505.869"><span>gets a new array of characters, </span></span><span class="transcription-time-part" data-time-start="4505.869" data-time-end="4507.969"><span>but we just put one here. </span></span><span class="transcription-time-part" data-time-start="4507.969" data-time-end="4509.68"><span>But wait a minute, </span></span><span class="transcription-time-part" data-time-start="4509.68" data-time-end="4511.495"><span>could I make this look more like that? </span></span><span class="transcription-time-part" data-time-start="4511.495" data-time-end="4512.379"><span>Well, sure. </span></span><span class="transcription-time-part" data-time-start="4512.379" data-time-end="4516.744"><span>Mln is 00 plus one is, is one. </span></span><span class="transcription-time-part" data-time-start="4516.744" data-time-end="4519.16"><span>So I could say MLN </span></span><span class="transcription-time-part" data-time-start="4519.16" data-time-end="4522.25"><span>plus one here and that would still be one. </span></span><span class="transcription-time-part" data-time-start="4522.25" data-time-end="4523.509"><span>All right, Well that makes </span></span><span class="transcription-time-part" data-time-start="4523.509" data-time-end="4524.71"><span>that statement look more like </span></span><span class="transcription-time-part" data-time-start="4524.71" data-time-end="4527.955"><span>the other one. How about this one? </span></span><span class="transcription-time-part" data-time-start="4527.955" data-time-end="4529.1"><span>This one sets M. </span></span><span class="transcription-time-part" data-time-start="4529.1" data-time-end="4531.124"><span>Linda strlen of value. </span></span><span class="transcription-time-part" data-time-start="4531.124" data-time-end="4534.169"><span>This one says Sam, lend to 0. </span></span><span class="transcription-time-part" data-time-start="4534.169" data-time-end="4536.899"><span>Could I put like strlen </span></span><span class="transcription-time-part" data-time-start="4536.899" data-time-end="4540.275"><span>of something and have the answer be 0? </span></span><span class="transcription-time-part" data-time-start="4540.275" data-time-end="4541.64"><span>Is there something I </span></span><span class="transcription-time-part" data-time-start="4541.64" data-time-end="4542.99"><span>can replace the dot, dot, </span></span><span class="transcription-time-part" data-time-start="4542.99" data-time-end="4545.03"><span>dot with that will cause </span></span><span class="transcription-time-part" data-time-start="4545.03" data-time-end="4548.69"><span>strlen to return 0 because that </span></span><span class="transcription-time-part" data-time-start="4548.69" data-time-end="4550.699"><span>would then make this produce </span></span><span class="transcription-time-part" data-time-start="4550.699" data-time-end="4554.915"><span>the right result of 0 for M line, the M line. </span></span><span class="transcription-time-part" data-time-start="4554.915" data-time-end="4557.029"><span>But it looks more like the other constructor, </span></span><span class="transcription-time-part" data-time-start="4557.029" data-time-end="4559.234"><span>which is my, my goal for now. </span></span><span class="transcription-time-part" data-time-start="4559.234" data-time-end="4561.47"><span>To see if I can make these look more </span></span><span class="transcription-time-part" data-time-start="4561.47" data-time-end="4563.929"><span>similar to maybe factor out commonality. </span></span><span class="transcription-time-part" data-time-start="4563.929" data-time-end="4565.219"><span>While you think about it for </span></span><span class="transcription-time-part" data-time-start="4565.219" data-time-end="4566.269"><span>a bit and you say, Well, </span></span><span class="transcription-time-part" data-time-start="4566.269" data-time-end="4569.429"><span>the empty string has a length of zeros. </span></span><span class="transcription-time-part" data-time-start="4569.429" data-time-end="4571.19"><span>So if I put a double quote, </span></span><span class="transcription-time-part" data-time-start="4571.19" data-time-end="4572.359"><span>double quote for the empty string, </span></span><span class="transcription-time-part" data-time-start="4572.359" data-time-end="4573.829"><span>that, that would do the trick. </span></span><span class="transcription-time-part" data-time-start="4573.829" data-time-end="4575.78"><span>Okay, well, that's possibly interesting. </span></span><span class="transcription-time-part" data-time-start="4575.78" data-time-end="4577.37"><span>Now how about this last thing? </span></span><span class="transcription-time-part" data-time-start="4577.37" data-time-end="4579.29"><span>Here? I want to make sure that </span></span><span class="transcription-time-part" data-time-start="4579.29" data-time-end="4582.724"><span>the array contains a 0 byte in position 0. </span></span><span class="transcription-time-part" data-time-start="4582.724" data-time-end="4585.259"><span>Here I did a string copy to make </span></span><span class="transcription-time-part" data-time-start="4585.259" data-time-end="4586.55"><span>my array have the text of </span></span><span class="transcription-time-part" data-time-start="4586.55" data-time-end="4588.485"><span>the string with a 0 byte at the end. </span></span><span class="transcription-time-part" data-time-start="4588.485" data-time-end="4590.014"><span>Well, let's try this. </span></span><span class="transcription-time-part" data-time-start="4590.014" data-time-end="4592.159"><span>Could I do what's called a string </span></span><span class="transcription-time-part" data-time-start="4592.159" data-time-end="4595.144"><span>copy into em tags just like the other, </span></span><span class="transcription-time-part" data-time-start="4595.144" data-time-end="4597.109"><span>the other one with something or </span></span><span class="transcription-time-part" data-time-start="4597.109" data-time-end="4600.11"><span>another would end up having M text. </span></span><span class="transcription-time-part" data-time-start="4600.11" data-time-end="4601.519"><span>Look like that. </span></span><span class="transcription-time-part" data-time-start="4601.519" data-time-end="4603.154"><span>Just a 0 byte it, </span></span><span class="transcription-time-part" data-time-start="4603.154" data-time-end="4604.91"><span>is there anything I can copy into </span></span><span class="transcription-time-part" data-time-start="4604.91" data-time-end="4606.785"><span>N M text to do that? </span></span><span class="transcription-time-part" data-time-start="4606.785" data-time-end="4608.195"><span>And I think about it and say, well, </span></span><span class="transcription-time-part" data-time-start="4608.195" data-time-end="4609.829"><span>you know, if you copy the empty string, </span></span><span class="transcription-time-part" data-time-start="4609.829" data-time-end="4611.164"><span>the empty string is, </span></span><span class="transcription-time-part" data-time-start="4611.164" data-time-end="4612.83"><span>the empty string is going to </span></span><span class="transcription-time-part" data-time-start="4612.83" data-time-end="4615.769"><span>be just one character in it with a 0 byte. </span></span><span class="transcription-time-part" data-time-start="4615.769" data-time-end="4617.48"><span>And if I copy that see spring into </span></span><span class="transcription-time-part" data-time-start="4617.48" data-time-end="4619.37"><span>m tax than M text looks like that. </span></span><span class="transcription-time-part" data-time-start="4619.37" data-time-end="4620.78"><span>So the results of </span></span><span class="transcription-time-part" data-time-start="4620.78" data-time-end="4622.28"><span>this exercise is that </span></span><span class="transcription-time-part" data-time-start="4622.28" data-time-end="4623.6"><span>here's another implementation of </span></span><span class="transcription-time-part" data-time-start="4623.6" data-time-end="4625.474"><span>the default constructor that </span></span><span class="transcription-time-part" data-time-start="4625.474" data-time-end="4628.505"><span>looks just like the other constructor, </span></span><span class="transcription-time-part" data-time-start="4628.505" data-time-end="4631.384"><span>except with value being the empty string. </span></span><span class="transcription-time-part" data-time-start="4631.384" data-time-end="4633.544"><span>Well, if that's the case, </span></span><span class="transcription-time-part" data-time-start="4633.544" data-time-end="4636.019"><span>then I can do things the following way. </span></span><span class="transcription-time-part" data-time-start="4636.019" data-time-end="4637.564"><span>I can say, You know what, </span></span><span class="transcription-time-part" data-time-start="4637.564" data-time-end="4638.84"><span>I will just get rid </span></span><span class="transcription-time-part" data-time-start="4638.84" data-time-end="4640.31"><span>of this default constructor </span></span><span class="transcription-time-part" data-time-start="4640.31" data-time-end="4644.284"><span>and provide a default value to use if the, </span></span><span class="transcription-time-part" data-time-start="4644.284" data-time-end="4645.83"><span>if the color of the constructor </span></span><span class="transcription-time-part" data-time-start="4645.83" data-time-end="4647.6"><span>for string leaves off the argument. </span></span><span class="transcription-time-part" data-time-start="4647.6" data-time-end="4649.264"><span>If you leave off the argument, </span></span><span class="transcription-time-part" data-time-start="4649.264" data-time-end="4650.359"><span>act like the arguments, </span></span><span class="transcription-time-part" data-time-start="4650.359" data-time-end="4651.89"><span>the empty string, the double quote, </span></span><span class="transcription-time-part" data-time-start="4651.89" data-time-end="4653.839"><span>double quote, and then I don't even need </span></span><span class="transcription-time-part" data-time-start="4653.839" data-time-end="4657.08"><span>to declare this constructor at all. </span></span><span class="transcription-time-part" data-time-start="4657.08" data-time-end="4659.3"><span>So second I really work well. </span></span><span class="transcription-time-part" data-time-start="4659.3" data-time-end="4660.05"><span>Yeah. </span></span><span class="transcription-time-part" data-time-start="4660.05" data-time-end="4662.15"><span>So if I declares T This </span></span><span class="transcription-time-part" data-time-start="4662.15" data-time-end="4664.489"><span>way, the compiler says, </span></span><span class="transcription-time-part" data-time-start="4664.489" data-time-end="4665"><span>Okay, </span></span><span class="transcription-time-part" data-time-start="4665" data-time-end="4666.26"><span>it looks like you're trying to construct </span></span><span class="transcription-time-part" data-time-start="4666.26" data-time-end="4667.43"><span>a string and you're not </span></span><span class="transcription-time-part" data-time-start="4667.43" data-time-end="4669.35"><span>passing any arguments to the constructor. </span></span><span class="transcription-time-part" data-time-start="4669.35" data-time-end="4670.864"><span>Is there a constructor </span></span><span class="transcription-time-part" data-time-start="4670.864" data-time-end="4673.145"><span>that can take no arguments? </span></span><span class="transcription-time-part" data-time-start="4673.145" data-time-end="4674.57"><span>Well, I didn't declare </span></span><span class="transcription-time-part" data-time-start="4674.57" data-time-end="4675.65"><span>one that takes no arguments, </span></span><span class="transcription-time-part" data-time-start="4675.65" data-time-end="4676.82"><span>but I did declare one that </span></span><span class="transcription-time-part" data-time-start="4676.82" data-time-end="4678.619"><span>takes one argument and you're </span></span><span class="transcription-time-part" data-time-start="4678.619" data-time-end="4679.999"><span>allowed to leave it off and </span></span><span class="transcription-time-part" data-time-start="4679.999" data-time-end="4682.709"><span>the compiler will supply that argument o. </span></span><span class="transcription-time-part" data-time-start="4682.709" data-time-end="4684.534"><span>So the compiler says, Sure, </span></span><span class="transcription-time-part" data-time-start="4684.534" data-time-end="4687.28"><span>I will act as if you had said create </span></span><span class="transcription-time-part" data-time-start="4687.28" data-time-end="4690.715"><span>t and constructed it from the empty string. </span></span><span class="transcription-time-part" data-time-start="4690.715" data-time-end="4692.08"><span>So the compiler will </span></span><span class="transcription-time-part" data-time-start="4692.08" data-time-end="4693.445"><span>turn in the statement into, </span></span><span class="transcription-time-part" data-time-start="4693.445" data-time-end="4694.809"><span>into this one essentially a call to </span></span><span class="transcription-time-part" data-time-start="4694.809" data-time-end="4696.07"><span>the constructor with one argument </span></span><span class="transcription-time-part" data-time-start="4696.07" data-time-end="4697.15"><span>passing it the empty string. </span></span><span class="transcription-time-part" data-time-start="4697.15" data-time-end="4699.685"><span>So the compiler says, Okay, fine, </span></span><span class="transcription-time-part" data-time-start="4699.685" data-time-end="4701.02"><span>then I'll </span></span><span class="transcription-time-part" data-time-start="4701.02" data-time-end="4702.909"><span>execute this constructor where value </span></span><span class="transcription-time-part" data-time-start="4702.909" data-time-end="4705.669"><span>is a pointer to </span></span><span class="transcription-time-part" data-time-start="4705.669" data-time-end="4707.319"><span>an array of one character </span></span><span class="transcription-time-part" data-time-start="4707.319" data-time-end="4708.52"><span>that has a 0 byte in it. </span></span><span class="transcription-time-part" data-time-start="4708.52" data-time-end="4710.229"><span>Strlen of that is 0. </span></span><span class="transcription-time-part" data-time-start="4710.229" data-time-end="4713.259"><span>So, So t will get 0 for the NLN. </span></span><span class="transcription-time-part" data-time-start="4713.259" data-time-end="4714.759"><span>Dynamically allocate </span></span><span class="transcription-time-part" data-time-start="4714.759" data-time-end="4716.454"><span>an array of one character, </span></span><span class="transcription-time-part" data-time-start="4716.454" data-time-end="4718.36"><span>store a pointer to that an M text, </span></span><span class="transcription-time-part" data-time-start="4718.36" data-time-end="4721.06"><span>and copy the empty string into M text. </span></span><span class="transcription-time-part" data-time-start="4721.06" data-time-end="4723.474"><span>Okay, and so it does, and it works. </span></span><span class="transcription-time-part" data-time-start="4723.474" data-time-end="4725.234"><span>I get t looking like that. </span></span><span class="transcription-time-part" data-time-start="4725.234" data-time-end="4726.019"><span>What I want. </span></span><span class="transcription-time-part" data-time-start="4726.019" data-time-end="4728.479"><span>So you can't always do that. </span></span><span class="transcription-time-part" data-time-start="4728.479" data-time-end="4729.934"><span>Where does that result isn't </span></span><span class="transcription-time-part" data-time-start="4729.934" data-time-end="4732.17"><span>always going to end up being, Hey, </span></span><span class="transcription-time-part" data-time-start="4732.17" data-time-end="4733.489"><span>if I had those two functions </span></span><span class="transcription-time-part" data-time-start="4733.489" data-time-end="4734.719"><span>that were very similar and </span></span><span class="transcription-time-part" data-time-start="4734.719" data-time-end="4735.83"><span>I massage one of them </span></span><span class="transcription-time-part" data-time-start="4735.83" data-time-end="4737.599"><span>to look more like the other one. </span></span><span class="transcription-time-part" data-time-start="4737.599" data-time-end="4740.254"><span>Maybe I could actually combine them into one. </span></span><span class="transcription-time-part" data-time-start="4740.254" data-time-end="4741.56"><span>Doesn't always work. </span></span><span class="transcription-time-part" data-time-start="4741.56" data-time-end="4743.479"><span>This case, it worked out just fine. </span></span><span class="transcription-time-part" data-time-start="4743.479" data-time-end="4746.54"><span>Okay, so we simplified our implementation </span></span><span class="transcription-time-part" data-time-start="4746.54" data-time-end="4748.31"><span>by having that only one function </span></span><span class="transcription-time-part" data-time-start="4748.31" data-time-end="4749.854"><span>to maintain not more than one. </span></span><span class="transcription-time-part" data-time-start="4749.854" data-time-end="4752.69"><span>Alright, so let's see. </span></span><span class="transcription-time-part" data-time-start="4752.69" data-time-end="4754.52"><span>Any other things I want to do with this? </span></span><span class="transcription-time-part" data-time-start="4754.52" data-time-end="4757.25"><span>Well, I do want to think about, well, </span></span><span class="transcription-time-part" data-time-start="4757.25" data-time-end="4759.965"><span>anytime you pass a pointer to a function, </span></span><span class="transcription-time-part" data-time-start="4759.965" data-time-end="4761.78"><span>you should ask yourself, </span></span><span class="transcription-time-part" data-time-start="4761.78" data-time-end="4763.894"><span>what if somebody passes a null pointer? </span></span><span class="transcription-time-part" data-time-start="4763.894" data-time-end="4765.289"><span>That's always possibility. </span></span><span class="transcription-time-part" data-time-start="4765.289" data-time-end="4766.819"><span>They're not supposed to necessarily, </span></span><span class="transcription-time-part" data-time-start="4766.819" data-time-end="4769.1"><span>but think about what to do about that. </span></span><span class="transcription-time-part" data-time-start="4769.1" data-time-end="4771.394"><span>If somebody decides to create a string. </span></span><span class="transcription-time-part" data-time-start="4771.394" data-time-end="4772.88"><span>So let me go back up here. </span></span><span class="transcription-time-part" data-time-start="4772.88" data-time-end="4776.51"><span>Maybe they have a character pointer p, </span></span><span class="transcription-time-part" data-time-start="4776.51" data-time-end="4780.815"><span>and they do some stuff with P. And </span></span><span class="transcription-time-part" data-time-start="4780.815" data-time-end="4783.2"><span>ultimately they're then going to </span></span><span class="transcription-time-part" data-time-start="4783.2" data-time-end="4786.544"><span>create a string with P as an argument. </span></span><span class="transcription-time-part" data-time-start="4786.544" data-time-end="4788.569"><span>So there's some code that sets P somehow. </span></span><span class="transcription-time-part" data-time-start="4788.569" data-time-end="4790.16"><span>And then eventually we decided to say, OK, </span></span><span class="transcription-time-part" data-time-start="4790.16" data-time-end="4792.349"><span>now let's take the C string that p points </span></span><span class="transcription-time-part" data-time-start="4792.349" data-time-end="4795.124"><span>to and, and passed here. </span></span><span class="transcription-time-part" data-time-start="4795.124" data-time-end="4798.14"><span>Now, maybe setting P involve calling </span></span><span class="transcription-time-part" data-time-start="4798.14" data-time-end="4799.79"><span>some function that returns a pointer to </span></span><span class="transcription-time-part" data-time-start="4799.79" data-time-end="4800.78"><span>character that was supposed to </span></span><span class="transcription-time-part" data-time-start="4800.78" data-time-end="4802.024"><span>point to a C string. </span></span><span class="transcription-time-part" data-time-start="4802.024" data-time-end="4803.93"><span>And if the function couldn't do its job, </span></span><span class="transcription-time-part" data-time-start="4803.93" data-time-end="4805.325"><span>it returned a null pointer. </span></span><span class="transcription-time-part" data-time-start="4805.325" data-time-end="4807.559"><span>So it's possible maybe </span></span><span class="transcription-time-part" data-time-start="4807.559" data-time-end="4809.985"><span>that P has the null pointer value. </span></span><span class="transcription-time-part" data-time-start="4809.985" data-time-end="4811.869"><span>If P is a null pointer value, </span></span><span class="transcription-time-part" data-time-start="4811.869" data-time-end="4814.284"><span>then if we call this constructor this way, </span></span><span class="transcription-time-part" data-time-start="4814.284" data-time-end="4816.414"><span>in the environment of the constructor, </span></span><span class="transcription-time-part" data-time-start="4816.414" data-time-end="4819.145"><span>value is going to be the null pointer. </span></span><span class="transcription-time-part" data-time-start="4819.145" data-time-end="4821.59"><span>And our code starts off by saying, okay, </span></span><span class="transcription-time-part" data-time-start="4821.59" data-time-end="4822.789"><span>so let's see, let's </span></span><span class="transcription-time-part" data-time-start="4822.789" data-time-end="4824.11"><span>see what happens when we're constructing. </span></span><span class="transcription-time-part" data-time-start="4824.11" data-time-end="4826.029"><span>You, want to be constructing you. </span></span><span class="transcription-time-part" data-time-start="4826.029" data-time-end="4826.975"><span>So let's see what happens. </span></span><span class="transcription-time-part" data-time-start="4826.975" data-time-end="4828.999"><span>Values, the null pointer value got passed in. </span></span><span class="transcription-time-part" data-time-start="4828.999" data-time-end="4831.534"><span>We call strlen with the null pointer value. </span></span><span class="transcription-time-part" data-time-start="4831.534" data-time-end="4834.55"><span>So the answer for what happens now is </span></span><span class="transcription-time-part" data-time-start="4834.55" data-time-end="4836.049"><span>what does the C library do </span></span><span class="transcription-time-part" data-time-start="4836.049" data-time-end="4838.074"><span>if you pass strlen a null pointer. </span></span><span class="transcription-time-part" data-time-start="4838.074" data-time-end="4839.38"><span>And the C standard </span></span><span class="transcription-time-part" data-time-start="4839.38" data-time-end="4840.459"><span>and the C Plus Plus standard </span></span><span class="transcription-time-part" data-time-start="4840.459" data-time-end="4843.07"><span>agree that that's undefined behavior. </span></span><span class="transcription-time-part" data-time-start="4843.07" data-time-end="4846.429"><span>The strlen function is not obligated to, </span></span><span class="transcription-time-part" data-time-start="4846.429" data-time-end="4848.409"><span>to check for the null pointer and do </span></span><span class="transcription-time-part" data-time-start="4848.409" data-time-end="4849.609"><span>something reasonable that case </span></span><span class="transcription-time-part" data-time-start="4849.609" data-time-end="4850.749"><span>it could crash. </span></span><span class="transcription-time-part" data-time-start="4850.749" data-time-end="4853.12"><span>In fact, on most implementations that crash. </span></span><span class="transcription-time-part" data-time-start="4853.12" data-time-end="4855.76"><span>Okay, So we can't just do this, </span></span><span class="transcription-time-part" data-time-start="4855.76" data-time-end="4857.964"><span>we'll have to check for this ourself </span></span><span class="transcription-time-part" data-time-start="4857.964" data-time-end="4859.435"><span>to, for better safety. </span></span><span class="transcription-time-part" data-time-start="4859.435" data-time-end="4861.249"><span>So we will say, okay, </span></span><span class="transcription-time-part" data-time-start="4861.249" data-time-end="4862.959"><span>if value is in fact </span></span><span class="transcription-time-part" data-time-start="4862.959" data-time-end="4863.994"><span>the null pointer, </span></span><span class="transcription-time-part" data-time-start="4863.994" data-time-end="4865.074"><span>we're going to have to do something. </span></span><span class="transcription-time-part" data-time-start="4865.074" data-time-end="4866.26"><span>So again, now we </span></span><span class="transcription-time-part" data-time-start="4866.26" data-time-end="4867.79"><span>come up with a policy decision. </span></span><span class="transcription-time-part" data-time-start="4867.79" data-time-end="4869.139"><span>What should we do if the user </span></span><span class="transcription-time-part" data-time-start="4869.139" data-time-end="4870.939"><span>gives our string and null pointer? </span></span><span class="transcription-time-part" data-time-start="4870.939" data-time-end="4873.774"><span>Should we say that that's no good. </span></span><span class="transcription-time-part" data-time-start="4873.774" data-time-end="4875.124"><span>We're not gonna let you do that </span></span><span class="transcription-time-part" data-time-start="4875.124" data-time-end="4876.595"><span>or let's think about it. </span></span><span class="transcription-time-part" data-time-start="4876.595" data-time-end="4878.079"><span>If you're a client who passed </span></span><span class="transcription-time-part" data-time-start="4878.079" data-time-end="4879.774"><span>a null pointer to the string constructor, </span></span><span class="transcription-time-part" data-time-start="4879.774" data-time-end="4881.304"><span>knowing that </span></span><span class="transcription-time-part" data-time-start="4881.304" data-time-end="4882.73"><span>you're supposed to pass a pointer to </span></span><span class="transcription-time-part" data-time-start="4882.73" data-time-end="4884.349"><span>some C string plus </span></span><span class="transcription-time-part" data-time-start="4884.349" data-time-end="4886.18"><span>maximum C string like hello, </span></span><span class="transcription-time-part" data-time-start="4886.18" data-time-end="4887.994"><span>or even the empty string. </span></span><span class="transcription-time-part" data-time-start="4887.994" data-time-end="4888.88"><span>In fact, if you don't pass </span></span><span class="transcription-time-part" data-time-start="4888.88" data-time-end="4889.69"><span>any arguments at all, </span></span><span class="transcription-time-part" data-time-start="4889.69" data-time-end="4890.98"><span>you get the empty string. </span></span><span class="transcription-time-part" data-time-start="4890.98" data-time-end="4892.509"><span>I could think it's reasonable to </span></span><span class="transcription-time-part" data-time-start="4892.509" data-time-end="4894.34"><span>assume the null pointer </span></span><span class="transcription-time-part" data-time-start="4894.34" data-time-end="4896.145"><span>should probably produce an empty string two. </span></span><span class="transcription-time-part" data-time-start="4896.145" data-time-end="4898.46"><span>I think that would make sense that if I </span></span><span class="transcription-time-part" data-time-start="4898.46" data-time-end="4900.545"><span>constructed a string and I gave, </span></span><span class="transcription-time-part" data-time-start="4900.545" data-time-end="4901.759"><span>I gave an empty string as </span></span><span class="transcription-time-part" data-time-start="4901.759" data-time-end="4903.35"><span>the argument to the constructor. </span></span><span class="transcription-time-part" data-time-start="4903.35" data-time-end="4905.75"><span>I would expect that if this works, </span></span><span class="transcription-time-part" data-time-start="4905.75" data-time-end="4907.22"><span>it gives me the empty string. </span></span><span class="transcription-time-part" data-time-start="4907.22" data-time-end="4908.884"><span>Okay, I think that's reasonable. </span></span><span class="transcription-time-part" data-time-start="4908.884" data-time-end="4910.055"><span>So let me do that. </span></span><span class="transcription-time-part" data-time-start="4910.055" data-time-end="4912.049"><span>Let me make it so that if you pass </span></span><span class="transcription-time-part" data-time-start="4912.049" data-time-end="4914.645"><span>the null pointer to the string constructor, </span></span><span class="transcription-time-part" data-time-start="4914.645" data-time-end="4915.785"><span>you're going to get the empty string. </span></span><span class="transcription-time-part" data-time-start="4915.785" data-time-end="4917.72"><span>Now, the easiest way to do </span></span><span class="transcription-time-part" data-time-start="4917.72" data-time-end="4918.979"><span>that is rather than </span></span><span class="transcription-time-part" data-time-start="4918.979" data-time-end="4920.599"><span>kind of duplicate this code again, </span></span><span class="transcription-time-part" data-time-start="4920.599" data-time-end="4922.445"><span>let's just say, alright, </span></span><span class="transcription-time-part" data-time-start="4922.445" data-time-end="4923.93"><span>the parameter passed to </span></span><span class="transcription-time-part" data-time-start="4923.93" data-time-end="4926.329"><span>the function value is a local variable. </span></span><span class="transcription-time-part" data-time-start="4926.329" data-time-end="4928.204"><span>And that local variable value </span></span><span class="transcription-time-part" data-time-start="4928.204" data-time-end="4930.034"><span>starts off with a value of the null pointer. </span></span><span class="transcription-time-part" data-time-start="4930.034" data-time-end="4932.3"><span>Well, let's just make that local variable </span></span><span class="transcription-time-part" data-time-start="4932.3" data-time-end="4933.695"><span>now point to the empty string. </span></span><span class="transcription-time-part" data-time-start="4933.695" data-time-end="4936.214"><span>So we can just do that and then proceed. </span></span><span class="transcription-time-part" data-time-start="4936.214" data-time-end="4938.39"><span>So let's see what that's going to do. </span></span><span class="transcription-time-part" data-time-start="4938.39" data-time-end="4940.564"><span>Double quote, double quote. </span></span><span class="transcription-time-part" data-time-start="4940.564" data-time-end="4942.979"><span>As a C string constant, double quote, </span></span><span class="transcription-time-part" data-time-start="4942.979" data-time-end="4944.479"><span>double quote causes the compiler </span></span><span class="transcription-time-part" data-time-start="4944.479" data-time-end="4946.099"><span>to up in memory somewhere </span></span><span class="transcription-time-part" data-time-start="4946.099" data-time-end="4947.75"><span>an array of one character with </span></span><span class="transcription-time-part" data-time-start="4947.75" data-time-end="4950.075"><span>a 0 byte it and returns, </span></span><span class="transcription-time-part" data-time-start="4950.075" data-time-end="4951.32"><span>in this expression returns </span></span><span class="transcription-time-part" data-time-start="4951.32" data-time-end="4952.13"><span>a pointer to that, </span></span><span class="transcription-time-part" data-time-start="4952.13" data-time-end="4953.284"><span>the beginning of that array. </span></span><span class="transcription-time-part" data-time-start="4953.284" data-time-end="4954.739"><span>So the double quote, </span></span><span class="transcription-time-part" data-time-start="4954.739" data-time-end="4955.929"><span>double quote here in </span></span><span class="transcription-time-part" data-time-start="4955.929" data-time-end="4957.53"><span>this statement is going to be </span></span><span class="transcription-time-part" data-time-start="4957.53" data-time-end="4959.72"><span>a pointer to array characters </span></span><span class="transcription-time-part" data-time-start="4959.72" data-time-end="4961.325"><span>that we promised not to modify. </span></span><span class="transcription-time-part" data-time-start="4961.325" data-time-end="4963.799"><span>And we want to store that into value. </span></span><span class="transcription-time-part" data-time-start="4963.799" data-time-end="4965.15"><span>Can hold a pointer to </span></span><span class="transcription-time-part" data-time-start="4965.15" data-time-end="4967.07"><span>character as we promised not to modify. </span></span><span class="transcription-time-part" data-time-start="4967.07" data-time-end="4969.035"><span>Oh, okay, So now </span></span><span class="transcription-time-part" data-time-start="4969.035" data-time-end="4971.269"><span>value contains a pointer to us, </span></span><span class="transcription-time-part" data-time-start="4971.269" data-time-end="4972.875"><span>an array that has 0 byte, </span></span><span class="transcription-time-part" data-time-start="4972.875" data-time-end="4974.36"><span>which is perfect because now </span></span><span class="transcription-time-part" data-time-start="4974.36" data-time-end="4977.899"><span>strlen of that IT value is, </span></span><span class="transcription-time-part" data-time-start="4977.899" data-time-end="4980.449"><span>let me note that this is, it's pointing </span></span><span class="transcription-time-part" data-time-start="4980.449" data-time-end="4983.299"><span>to not a, not a carrier, </span></span><span class="transcription-time-part" data-time-start="4983.299" data-time-end="4985.699"><span>so that it's pointing to </span></span><span class="transcription-time-part" data-time-start="4985.699" data-time-end="4988.264"><span>an array of no character at one character, </span></span><span class="transcription-time-part" data-time-start="4988.264" data-time-end="4990.275"><span>an element 0 that arrays to 0 byte. </span></span><span class="transcription-time-part" data-time-start="4990.275" data-time-end="4992.825"><span>So, so let's call strlen on that, </span></span><span class="transcription-time-part" data-time-start="4992.825" data-time-end="4994.82"><span>that, that pointer to that array, okay, </span></span><span class="transcription-time-part" data-time-start="4994.82" data-time-end="4996.14"><span>Sterling gives us back 0 and </span></span><span class="transcription-time-part" data-time-start="4996.14" data-time-end="4997.969"><span>everything proceeds as we want and we </span></span><span class="transcription-time-part" data-time-start="4997.969" data-time-end="4999.874"><span>end up with you being </span></span><span class="transcription-time-part" data-time-start="4999.874" data-time-end="5002.17"><span>the M text is an array pointer </span></span><span class="transcription-time-part" data-time-start="5002.17" data-time-end="5003.58"><span>to an array that has, it's just a 0. </span></span><span class="transcription-time-part" data-time-start="5003.58" data-time-end="5005.349"><span>Byte, length is 0, so everything works out. </span></span><span class="transcription-time-part" data-time-start="5005.349" data-time-end="5007.045"><span>Okay? There we go. </span></span><span class="transcription-time-part" data-time-start="5007.045" data-time-end="5008.409"><span>We bullet-proof this. </span></span><span class="transcription-time-part" data-time-start="5008.409" data-time-end="5011.169"><span>So now no matter what you pass that, </span></span><span class="transcription-time-part" data-time-start="5011.169" data-time-end="5012.22"><span>we can check for whether you </span></span><span class="transcription-time-part" data-time-start="5012.22" data-time-end="5013.36"><span>pass a pointer to </span></span><span class="transcription-time-part" data-time-start="5013.36" data-time-end="5015.67"><span>a C string or you pass a null pointer, </span></span><span class="transcription-time-part" data-time-start="5015.67" data-time-end="5016.87"><span>we're, we're covered </span></span><span class="transcription-time-part" data-time-start="5016.87" data-time-end="5018.264"><span>and we do something reasonable. </span></span><span class="transcription-time-part" data-time-start="5018.264" data-time-end="5021.324"><span>What the function can't detect is, </span></span><span class="transcription-time-part" data-time-start="5021.324" data-time-end="5023.05"><span>well, what if you pass a pointer </span></span><span class="transcription-time-part" data-time-start="5023.05" data-time-end="5024.85"><span>to an array of characters? </span></span><span class="transcription-time-part" data-time-start="5024.85" data-time-end="5027.22"><span>But that array does </span></span><span class="transcription-time-part" data-time-start="5027.22" data-time-end="5028.689"><span>not contain a 0 byte in it, </span></span><span class="transcription-time-part" data-time-start="5028.689" data-time-end="5030.339"><span>so it's not a valid C string. </span></span><span class="transcription-time-part" data-time-start="5030.339" data-time-end="5031.239"><span>Well, there's no way </span></span><span class="transcription-time-part" data-time-start="5031.239" data-time-end="5032.455"><span>our function can know that. </span></span><span class="transcription-time-part" data-time-start="5032.455" data-time-end="5033.97"><span>Our function only gets </span></span><span class="transcription-time-part" data-time-start="5033.97" data-time-end="5035.32"><span>a pointer to where the array starts. </span></span><span class="transcription-time-part" data-time-start="5035.32" data-time-end="5037.75"><span>It has no idea how many characters make </span></span><span class="transcription-time-part" data-time-start="5037.75" data-time-end="5039.58"><span>up the actual declared size </span></span><span class="transcription-time-part" data-time-start="5039.58" data-time-end="5042.46"><span>of the array versus, versus. </span></span><span class="transcription-time-part" data-time-start="5042.46" data-time-end="5044.2"><span>Going beyond the end of </span></span><span class="transcription-time-part" data-time-start="5044.2" data-time-end="5045.31"><span>the array that it can't tell. </span></span><span class="transcription-time-part" data-time-start="5045.31" data-time-end="5045.535"><span>It. </span></span><span class="transcription-time-part" data-time-start="5045.535" data-time-end="5046.72"><span>It just says I, all I can </span></span><span class="transcription-time-part" data-time-start="5046.72" data-time-end="5049.04"><span>know is go until I see a 0. </span></span><span class="transcription-time-part" data-time-start="5049.2" data-time-end="5050.635"><span>All right, </span></span><span class="transcription-time-part" data-time-start="5050.635" data-time-end="5052.254"><span>sometimes people see things like this. </span></span><span class="transcription-time-part" data-time-start="5052.254" data-time-end="5052.87"><span>Say Wait a minute, </span></span><span class="transcription-time-part" data-time-start="5052.87" data-time-end="5054.444"><span>didn't you say value is const, </span></span><span class="transcription-time-part" data-time-start="5054.444" data-time-end="5055.764"><span>how can you assign to it? </span></span><span class="transcription-time-part" data-time-start="5055.764" data-time-end="5057.534"><span>Well, I'm not saying value is, </span></span><span class="transcription-time-part" data-time-start="5057.534" data-time-end="5059.709"><span>value is a local variable </span></span><span class="transcription-time-part" data-time-start="5059.709" data-time-end="5061.359"><span>of this, of this constructor. </span></span><span class="transcription-time-part" data-time-start="5061.359" data-time-end="5063.13"><span>It can change its value. </span></span><span class="transcription-time-part" data-time-start="5063.13" data-time-end="5064.84"><span>The type of the variable is </span></span><span class="transcription-time-part" data-time-start="5064.84" data-time-end="5066.609"><span>a pointer to constant characters. </span></span><span class="transcription-time-part" data-time-start="5066.609" data-time-end="5068.364"><span>The cost modifies the character. </span></span><span class="transcription-time-part" data-time-start="5068.364" data-time-end="5069.715"><span>The const says that </span></span><span class="transcription-time-part" data-time-start="5069.715" data-time-end="5072.31"><span>that value is a point you to characters, </span></span><span class="transcription-time-part" data-time-start="5072.31" data-time-end="5074.424"><span>and those characters cannot be modified. </span></span><span class="transcription-time-part" data-time-start="5074.424" data-time-end="5076.644"><span>If you try to go through the name value, </span></span><span class="transcription-time-part" data-time-start="5076.644" data-time-end="5077.56"><span>you won't be allowed </span></span><span class="transcription-time-part" data-time-start="5077.56" data-time-end="5078.819"><span>to modify those characters. </span></span><span class="transcription-time-part" data-time-start="5078.819" data-time-end="5079.989"><span>But you can certainly make </span></span><span class="transcription-time-part" data-time-start="5079.989" data-time-end="5082.39"><span>value point to a different array of </span></span><span class="transcription-time-part" data-time-start="5082.39" data-time-end="5084.129"><span>characters that can't be modified or </span></span><span class="transcription-time-part" data-time-start="5084.129" data-time-end="5085.03"><span>yet another array of </span></span><span class="transcription-time-part" data-time-start="5085.03" data-time-end="5086.695"><span>characters that can't be modified. </span></span><span class="transcription-time-part" data-time-start="5086.695" data-time-end="5088.255"><span>So value can point to </span></span><span class="transcription-time-part" data-time-start="5088.255" data-time-end="5090.845"><span>two different arrays over its lifetime. </span></span><span class="transcription-time-part" data-time-start="5090.845" data-time-end="5092.774"><span>It's just the through the name value. </span></span><span class="transcription-time-part" data-time-start="5092.774" data-time-end="5094.199"><span>You can't modify those characters. </span></span><span class="transcription-time-part" data-time-start="5094.199" data-time-end="5095.579"><span>Okay, so we end up with that. </span></span><span class="transcription-time-part" data-time-start="5095.579" data-time-end="5097.08"><span>That's our implementation of the constructor. </span></span><span class="transcription-time-part" data-time-start="5097.08" data-time-end="5098.564"><span>And we say, Okay, fine, </span></span><span class="transcription-time-part" data-time-start="5098.564" data-time-end="5100.409"><span>I guess this code is good. </span></span><span class="transcription-time-part" data-time-start="5100.409" data-time-end="5101.88"><span>And of course, no, </span></span><span class="transcription-time-part" data-time-start="5101.88" data-time-end="5103.079"><span>this code is not good </span></span><span class="transcription-time-part" data-time-start="5103.079" data-time-end="5105.78"><span>because if that's all we've got here, </span></span><span class="transcription-time-part" data-time-start="5105.78" data-time-end="5107.58"><span>we've got memory leaks. </span></span><span class="transcription-time-part" data-time-start="5107.58" data-time-end="5109.949"><span>So the problem is </span></span><span class="transcription-time-part" data-time-start="5109.949" data-time-end="5113.219"><span>that if we call the function h, </span></span><span class="transcription-time-part" data-time-start="5113.219" data-time-end="5115.499"><span>we're setting up three strings. </span></span><span class="transcription-time-part" data-time-start="5115.499" data-time-end="5117.72"><span>So let me stop sharing here. </span></span><span class="transcription-time-part" data-time-start="5117.72" data-time-end="5119.1"><span>And sorry, I have a function h </span></span><span class="transcription-time-part" data-time-start="5119.1" data-time-end="5120.87"><span>recreate a string hello. </span></span><span class="transcription-time-part" data-time-start="5120.87" data-time-end="5122.61"><span>We expect that one's </span></span><span class="transcription-time-part" data-time-start="5122.61" data-time-end="5124.125"><span>good enough to illustrate the problem. </span></span><span class="transcription-time-part" data-time-start="5124.125" data-time-end="5125.474"><span>We call the function h. </span></span><span class="transcription-time-part" data-time-start="5125.474" data-time-end="5127.289"><span>When h creates a string S, </span></span><span class="transcription-time-part" data-time-start="5127.289" data-time-end="5128.97"><span>that constructor is going to dynamically </span></span><span class="transcription-time-part" data-time-start="5128.97" data-time-end="5130.169"><span>allocate an array. </span></span><span class="transcription-time-part" data-time-start="5130.169" data-time-end="5132.164"><span>Similarly, by copy. </span></span><span class="transcription-time-part" data-time-start="5132.164" data-time-end="5132.949"><span>Hello. </span></span><span class="transcription-time-part" data-time-start="5132.949" data-time-end="5134.499"><span>Into the array, great. </span></span><span class="transcription-time-part" data-time-start="5134.499" data-time-end="5136.149"><span>We use S in the function. </span></span><span class="transcription-time-part" data-time-start="5136.149" data-time-end="5137.83"><span>When we leave the function, </span></span><span class="transcription-time-part" data-time-start="5137.83" data-time-end="5139.735"><span>as we had declared our string class, </span></span><span class="transcription-time-part" data-time-start="5139.735" data-time-end="5141.054"><span>when we leave the function, </span></span><span class="transcription-time-part" data-time-start="5141.054" data-time-end="5142.779"><span>local variables go away. </span></span><span class="transcription-time-part" data-time-start="5142.779" data-time-end="5145.555"><span>But S is this object here. </span></span><span class="transcription-time-part" data-time-start="5145.555" data-time-end="5146.964"><span>That's all that S is, </span></span><span class="transcription-time-part" data-time-start="5146.964" data-time-end="5148.224"><span>S is this object. </span></span><span class="transcription-time-part" data-time-start="5148.224" data-time-end="5149.74"><span>And we did not </span></span><span class="transcription-time-part" data-time-start="5149.74" data-time-end="5151.765"><span>declare a destructor for the string type. </span></span><span class="transcription-time-part" data-time-start="5151.765" data-time-end="5154.209"><span>So if you don't declare a destructor </span></span><span class="transcription-time-part" data-time-start="5154.209" data-time-end="5156.67"><span>for the string type, the compiler right? </span></span><span class="transcription-time-part" data-time-start="5156.67" data-time-end="5157.689"><span>One for you. </span></span><span class="transcription-time-part" data-time-start="5157.689" data-time-end="5160.209"><span>And if all the data members </span></span><span class="transcription-time-part" data-time-start="5160.209" data-time-end="5161.814"><span>are simply a built-in type, </span></span><span class="transcription-time-part" data-time-start="5161.814" data-time-end="5163.78"><span>the compiler generated destructor </span></span><span class="transcription-time-part" data-time-start="5163.78" data-time-end="5166.149"><span>does nothing interesting. </span></span><span class="transcription-time-part" data-time-start="5166.149" data-time-end="5168.264"><span>So it just says, okay, </span></span><span class="transcription-time-part" data-time-start="5168.264" data-time-end="5169.719"><span>the instructor finishes and now </span></span><span class="transcription-time-part" data-time-start="5169.719" data-time-end="5171.189"><span>the string object goes away, </span></span><span class="transcription-time-part" data-time-start="5171.189" data-time-end="5172.69"><span>but the dynamically allocated </span></span><span class="transcription-time-part" data-time-start="5172.69" data-time-end="5175.239"><span>array was never released. </span></span><span class="transcription-time-part" data-time-start="5175.239" data-time-end="5177.114"><span>You allocate something with new, </span></span><span class="transcription-time-part" data-time-start="5177.114" data-time-end="5178.36"><span>that storage belongs to </span></span><span class="transcription-time-part" data-time-start="5178.36" data-time-end="5179.664"><span>your program until you </span></span><span class="transcription-time-part" data-time-start="5179.664" data-time-end="5180.94"><span>call delete and pass </span></span><span class="transcription-time-part" data-time-start="5180.94" data-time-end="5182.47"><span>that a pointer to that storage. </span></span><span class="transcription-time-part" data-time-start="5182.47" data-time-end="5184.33"><span>So we have a memory leak </span></span><span class="transcription-time-part" data-time-start="5184.33" data-time-end="5186.22"><span>here every time we call h. </span></span><span class="transcription-time-part" data-time-start="5186.22" data-time-end="5187.899"><span>When it returns, there's </span></span><span class="transcription-time-part" data-time-start="5187.899" data-time-end="5189.174"><span>some storage allocated </span></span><span class="transcription-time-part" data-time-start="5189.174" data-time-end="5190.39"><span>that belongs to our program, </span></span><span class="transcription-time-part" data-time-start="5190.39" data-time-end="5191.619"><span>but we can't get to anymore </span></span><span class="transcription-time-part" data-time-start="5191.619" data-time-end="5193.255"><span>because we have no more pointers to. </span></span><span class="transcription-time-part" data-time-start="5193.255" data-time-end="5194.89"><span>And of course, the problem with memory leaks </span></span><span class="transcription-time-part" data-time-start="5194.89" data-time-end="5196.57"><span>is, is over time, </span></span><span class="transcription-time-part" data-time-start="5196.57" data-time-end="5198.13"><span>if you keep acquiring </span></span><span class="transcription-time-part" data-time-start="5198.13" data-time-end="5201.475"><span>more and more storage that you can't use. </span></span><span class="transcription-time-part" data-time-start="5201.475" data-time-end="5204.28"><span>Eventually some, at some point your program </span></span><span class="transcription-time-part" data-time-start="5204.28" data-time-end="5205.629"><span>runs up and they ask </span></span><span class="transcription-time-part" data-time-start="5205.629" data-time-end="5207.009"><span>for storage from the operating system. </span></span><span class="transcription-time-part" data-time-start="5207.009" data-time-end="5208.164"><span>The operating system says, </span></span><span class="transcription-time-part" data-time-start="5208.164" data-time-end="5210.879"><span>I don't have any more storage giving sorry, </span></span><span class="transcription-time-part" data-time-start="5210.879" data-time-end="5212.649"><span>and your program crashes </span></span><span class="transcription-time-part" data-time-start="5212.649" data-time-end="5214.284"><span>because it doesn't have enough memory, </span></span><span class="transcription-time-part" data-time-start="5214.284" data-time-end="5216.175"><span>even though logically it should, </span></span><span class="transcription-time-part" data-time-start="5216.175" data-time-end="5217.089"><span>because every time we're </span></span><span class="transcription-time-part" data-time-start="5217.089" data-time-end="5218.125"><span>done with the string, </span></span><span class="transcription-time-part" data-time-start="5218.125" data-time-end="5219.67"><span>we don't need the storage anymore, </span></span><span class="transcription-time-part" data-time-start="5219.67" data-time-end="5220.779"><span>but we didn't explicitly </span></span><span class="transcription-time-part" data-time-start="5220.779" data-time-end="5222.474"><span>use delete to give it back. </span></span><span class="transcription-time-part" data-time-start="5222.474" data-time-end="5224.56"><span>So that's the purposes of the destructor. </span></span><span class="transcription-time-part" data-time-start="5224.56" data-time-end="5226.029"><span>The purpose of a destructor, </span></span><span class="transcription-time-part" data-time-start="5226.029" data-time-end="5228.04"><span>the destructor for a class is to </span></span><span class="transcription-time-part" data-time-start="5228.04" data-time-end="5230.89"><span>release any resources that the object </span></span><span class="transcription-time-part" data-time-start="5230.89" data-time-end="5232.96"><span>called that's going away folds </span></span><span class="transcription-time-part" data-time-start="5232.96" data-time-end="5236.53"><span>so that they could potentially be re-used. </span></span><span class="transcription-time-part" data-time-start="5236.53" data-time-end="5238.059"><span>So it motivates you to write </span></span><span class="transcription-time-part" data-time-start="5238.059" data-time-end="5240.475"><span>a destructor is almost invariably </span></span><span class="transcription-time-part" data-time-start="5240.475" data-time-end="5242.529"><span>your objects over </span></span><span class="transcription-time-part" data-time-start="5242.529" data-time-end="5244.944"><span>its lifetime acquire some resource. </span></span><span class="transcription-time-part" data-time-start="5244.944" data-time-end="5246.999"><span>In our case, it was dynamic memory for this, </span></span><span class="transcription-time-part" data-time-start="5246.999" data-time-end="5248.844"><span>it acquires some resource </span></span><span class="transcription-time-part" data-time-start="5248.844" data-time-end="5250.06"><span>and you want to make sure </span></span><span class="transcription-time-part" data-time-start="5250.06" data-time-end="5251.529"><span>when the object goes away, </span></span><span class="transcription-time-part" data-time-start="5251.529" data-time-end="5252.999"><span>the resources released. </span></span><span class="transcription-time-part" data-time-start="5252.999" data-time-end="5254.559"><span>That's why you write destructors. </span></span><span class="transcription-time-part" data-time-start="5254.559" data-time-end="5259.6"><span>And so let me note the behavior destructors. </span></span><span class="transcription-time-part" data-time-start="5259.6" data-time-end="5262.209"><span>Now, I said we have here that the way </span></span><span class="transcription-time-part" data-time-start="5262.209" data-time-end="5263.319"><span>construction works </span></span><span class="transcription-time-part" data-time-start="5263.319" data-time-end="5264.909"><span>is whenever you have a constructor, </span></span><span class="transcription-time-part" data-time-start="5264.909" data-time-end="5265.96"><span>the compiler or </span></span><span class="transcription-time-part" data-time-start="5265.96" data-time-end="5267.58"><span>the constructor goes through three steps. </span></span><span class="transcription-time-part" data-time-start="5267.58" data-time-end="5269.545"><span>Step one isn't relevant to us yet. </span></span><span class="transcription-time-part" data-time-start="5269.545" data-time-end="5272.109"><span>Step 2 is construct the data members. </span></span><span class="transcription-time-part" data-time-start="5272.109" data-time-end="5273.849"><span>And we said how to do that. </span></span><span class="transcription-time-part" data-time-start="5273.849" data-time-end="5276.099"><span>Step 3 is due the body, the constructor. </span></span><span class="transcription-time-part" data-time-start="5276.099" data-time-end="5278.199"><span>Oh, by the way, I wrote </span></span><span class="transcription-time-part" data-time-start="5278.199" data-time-end="5280.615"><span>my constructor here and I didn't mention, </span></span><span class="transcription-time-part" data-time-start="5280.615" data-time-end="5281.11"><span>I didn't use </span></span><span class="transcription-time-part" data-time-start="5281.11" data-time-end="5282.88"><span>the memory initialization list to </span></span><span class="transcription-time-part" data-time-start="5282.88" data-time-end="5284.2"><span>initialize M line and M </span></span><span class="transcription-time-part" data-time-start="5284.2" data-time-end="5285.97"><span>text there built-in types, </span></span><span class="transcription-time-part" data-time-start="5285.97" data-time-end="5287.364"><span>they would be left on initialized </span></span><span class="transcription-time-part" data-time-start="5287.364" data-time-end="5289.134"><span>by step to a construction. </span></span><span class="transcription-time-part" data-time-start="5289.134" data-time-end="5291.94"><span>And instead I, I gave them their values. </span></span><span class="transcription-time-part" data-time-start="5291.94" data-time-end="5293.275"><span>And step 3 of construction, </span></span><span class="transcription-time-part" data-time-start="5293.275" data-time-end="5295.27"><span>partly because these are </span></span><span class="transcription-time-part" data-time-start="5295.27" data-time-end="5297.13"><span>slightly more complicated expressions. </span></span><span class="transcription-time-part" data-time-start="5297.13" data-time-end="5299.769"><span>I'm not just setting MLN to a simple value. </span></span><span class="transcription-time-part" data-time-start="5299.769" data-time-end="5301.21"><span>It's going to be the result </span></span><span class="transcription-time-part" data-time-start="5301.21" data-time-end="5302.8"><span>of calling strlen. </span></span><span class="transcription-time-part" data-time-start="5302.8" data-time-end="5306.04"><span>But I don't want to call strlen until after. </span></span><span class="transcription-time-part" data-time-start="5306.04" data-time-end="5308.124"><span>I know that values, not the null pointer. </span></span><span class="transcription-time-part" data-time-start="5308.124" data-time-end="5309.159"><span>And I don't want to initialize </span></span><span class="transcription-time-part" data-time-start="5309.159" data-time-end="5310.644"><span>M text until I've, </span></span><span class="transcription-time-part" data-time-start="5310.644" data-time-end="5312.385"><span>I've figured out m land. </span></span><span class="transcription-time-part" data-time-start="5312.385" data-time-end="5314.17"><span>And so to try to do that in </span></span><span class="transcription-time-part" data-time-start="5314.17" data-time-end="5315.46"><span>the membrane initialization list </span></span><span class="transcription-time-part" data-time-start="5315.46" data-time-end="5316.75"><span>makes it get pretty ugly. </span></span><span class="transcription-time-part" data-time-start="5316.75" data-time-end="5318.19"><span>The member initialization list </span></span><span class="transcription-time-part" data-time-start="5318.19" data-time-end="5319.689"><span>would have to arrange to </span></span><span class="transcription-time-part" data-time-start="5319.689" data-time-end="5321.729"><span>initialize m LAN using </span></span><span class="transcription-time-part" data-time-start="5321.729" data-time-end="5323.484"><span>some expression that will, </span></span><span class="transcription-time-part" data-time-start="5323.484" data-time-end="5325.569"><span>that will either be 0 if values </span></span><span class="transcription-time-part" data-time-start="5325.569" data-time-end="5328.119"><span>a null pointer or strlen a value of it's not. </span></span><span class="transcription-time-part" data-time-start="5328.119" data-time-end="5330.399"><span>And that gets more complicated and ugly. </span></span><span class="transcription-time-part" data-time-start="5330.399" data-time-end="5331.359"><span>So. </span></span><span class="transcription-time-part" data-time-start="5331.359" data-time-end="5333.339"><span>In this case, I chose not to use </span></span><span class="transcription-time-part" data-time-start="5333.339" data-time-end="5335.199"><span>the member initialization list to </span></span><span class="transcription-time-part" data-time-start="5335.199" data-time-end="5336.279"><span>initialize the data members </span></span><span class="transcription-time-part" data-time-start="5336.279" data-time-end="5337.869"><span>here because they're excuse. </span></span><span class="transcription-time-part" data-time-start="5337.869" data-time-end="5339.07"><span>There are some complicated stuff </span></span><span class="transcription-time-part" data-time-start="5339.07" data-time-end="5340.104"><span>that had to happen. </span></span><span class="transcription-time-part" data-time-start="5340.104" data-time-end="5341.394"><span>Anyway. </span></span><span class="transcription-time-part" data-time-start="5341.394" data-time-end="5343.075"><span>How does destruction work? </span></span><span class="transcription-time-part" data-time-start="5343.075" data-time-end="5344.5"><span>Well, the destructor also </span></span><span class="transcription-time-part" data-time-start="5344.5" data-time-end="5345.729"><span>goes through three steps, </span></span><span class="transcription-time-part" data-time-start="5345.729" data-time-end="5348.849"><span>and it's essentially kind </span></span><span class="transcription-time-part" data-time-start="5348.849" data-time-end="5350.109"><span>of the opposite of </span></span><span class="transcription-time-part" data-time-start="5350.109" data-time-end="5352.149"><span>construction in reverse order. </span></span><span class="transcription-time-part" data-time-start="5352.149" data-time-end="5354.129"><span>You do what the constructor does in </span></span><span class="transcription-time-part" data-time-start="5354.129" data-time-end="5355.419"><span>the opposite order and </span></span><span class="transcription-time-part" data-time-start="5355.419" data-time-end="5356.95"><span>you destroy instead of create. </span></span><span class="transcription-time-part" data-time-start="5356.95" data-time-end="5357.879"><span>So the first thing that </span></span><span class="transcription-time-part" data-time-start="5357.879" data-time-end="5359.499"><span>happens when a destructor gets </span></span><span class="transcription-time-part" data-time-start="5359.499" data-time-end="5360.819"><span>executed is the body </span></span><span class="transcription-time-part" data-time-start="5360.819" data-time-end="5362.169"><span>of the destructor gets executed, </span></span><span class="transcription-time-part" data-time-start="5362.169" data-time-end="5366.039"><span>then each data member is somehow destroyed. </span></span><span class="transcription-time-part" data-time-start="5366.039" data-time-end="5367.719"><span>What does that look like? Well, if </span></span><span class="transcription-time-part" data-time-start="5367.719" data-time-end="5369.37"><span>it's a built-in type, do nothing. </span></span><span class="transcription-time-part" data-time-start="5369.37" data-time-end="5372.699"><span>So if a data member as an int or a double, </span></span><span class="transcription-time-part" data-time-start="5372.699" data-time-end="5375.234"><span>a pointer or anything of a built-in type. </span></span><span class="transcription-time-part" data-time-start="5375.234" data-time-end="5376.464"><span>Nothing happens if it's </span></span><span class="transcription-time-part" data-time-start="5376.464" data-time-end="5378.01"><span>a class type that it'll </span></span><span class="transcription-time-part" data-time-start="5378.01" data-time-end="5380.004"><span>call that classes destructor, </span></span><span class="transcription-time-part" data-time-start="5380.004" data-time-end="5382.99"><span>okay, and then step 3 corresponds to step 1, </span></span><span class="transcription-time-part" data-time-start="5382.99" data-time-end="5384.1"><span>which we don't know anything about it. </span></span><span class="transcription-time-part" data-time-start="5384.1" data-time-end="5385.945"><span>So fill that in later. </span></span><span class="transcription-time-part" data-time-start="5385.945" data-time-end="5387.28"><span>Okay, since I did not </span></span><span class="transcription-time-part" data-time-start="5387.28" data-time-end="5388.54"><span>write a destructor for string, </span></span><span class="transcription-time-part" data-time-start="5388.54" data-time-end="5389.589"><span>the compiler rights and for </span></span><span class="transcription-time-part" data-time-start="5389.589" data-time-end="5391.329"><span>me that has an empty body. </span></span><span class="transcription-time-part" data-time-start="5391.329" data-time-end="5394.029"><span>So the way my strings get destroyed, </span></span><span class="transcription-time-part" data-time-start="5394.029" data-time-end="5395.86"><span>as I said, is not very good. </span></span><span class="transcription-time-part" data-time-start="5395.86" data-time-end="5398.77"><span>We do nothing for the body, the distracter. </span></span><span class="transcription-time-part" data-time-start="5398.77" data-time-end="5400.975"><span>And the two data member types </span></span><span class="transcription-time-part" data-time-start="5400.975" data-time-end="5402.789"><span>are built-in types, </span></span><span class="transcription-time-part" data-time-start="5402.789" data-time-end="5404.11"><span>character star, and ends. </span></span><span class="transcription-time-part" data-time-start="5404.11" data-time-end="5406.299"><span>So to start this step </span></span><span class="transcription-time-part" data-time-start="5406.299" data-time-end="5408.4"><span>2 does nothing for them. </span></span><span class="transcription-time-part" data-time-start="5408.4" data-time-end="5409.885"><span>And so we're left where? </span></span><span class="transcription-time-part" data-time-start="5409.885" data-time-end="5411.925"><span>Okay, now the string goes away, </span></span><span class="transcription-time-part" data-time-start="5411.925" data-time-end="5413.5"><span>but the dynamic storage for </span></span><span class="transcription-time-part" data-time-start="5413.5" data-time-end="5415.945"><span>the text to the string, It's still there. </span></span><span class="transcription-time-part" data-time-start="5415.945" data-time-end="5417.549"><span>So we gotta write a destructor for </span></span><span class="transcription-time-part" data-time-start="5417.549" data-time-end="5419.229"><span>the string type to clean that up. </span></span><span class="transcription-time-part" data-time-start="5419.229" data-time-end="5421.764"><span>So my string class will </span></span><span class="transcription-time-part" data-time-start="5421.764" data-time-end="5424.524"><span>have an instructor that I'll declare </span></span><span class="transcription-time-part" data-time-start="5424.524" data-time-end="5426.565"><span>and I will implement it. </span></span><span class="transcription-time-part" data-time-start="5426.565" data-time-end="5429.399"><span>Now the job of the destructor is to </span></span><span class="transcription-time-part" data-time-start="5429.399" data-time-end="5431.259"><span>leave the object in a state </span></span><span class="transcription-time-part" data-time-start="5431.259" data-time-end="5433.36"><span>where step 2 in step 1, </span></span><span class="transcription-time-part" data-time-start="5433.36" data-time-end="5436.315"><span>step 3 of destruction, finished the job. </span></span><span class="transcription-time-part" data-time-start="5436.315" data-time-end="5439.374"><span>Okay, So in my case, </span></span><span class="transcription-time-part" data-time-start="5439.374" data-time-end="5441.819"><span>all I've got is my string has </span></span><span class="transcription-time-part" data-time-start="5441.819" data-time-end="5444.849"><span>a pointer to dynamic storage and an integer. </span></span><span class="transcription-time-part" data-time-start="5444.849" data-time-end="5447.13"><span>The integer, there's nothing special to do. </span></span><span class="transcription-time-part" data-time-start="5447.13" data-time-end="5448.48"><span>The pointer, there'd be nothing special to </span></span><span class="transcription-time-part" data-time-start="5448.48" data-time-end="5449.979"><span>do once I got rid of that storage. </span></span><span class="transcription-time-part" data-time-start="5449.979" data-time-end="5453.189"><span>So all I have to do is get rid </span></span><span class="transcription-time-part" data-time-start="5453.189" data-time-end="5455.784"><span>of the dynamically allocated array </span></span><span class="transcription-time-part" data-time-start="5455.784" data-time-end="5457.18"><span>and that's the wrong way to do it. </span></span><span class="transcription-time-part" data-time-start="5457.18" data-time-end="5459.55"><span>So there's an annoying </span></span><span class="transcription-time-part" data-time-start="5459.55" data-time-end="5461.08"><span>little detail about C plus </span></span><span class="transcription-time-part" data-time-start="5461.08" data-time-end="5462.94"><span>plus when it comes to storage allocation and </span></span><span class="transcription-time-part" data-time-start="5462.94" data-time-end="5465.595"><span>deallocation that we have to deal with. </span></span><span class="transcription-time-part" data-time-start="5465.595" data-time-end="5469.659"><span>If you allocate something as a single object. </span></span><span class="transcription-time-part" data-time-start="5469.659" data-time-end="5470.86"><span>So maybe I have </span></span><span class="transcription-time-part" data-time-start="5470.86" data-time-end="5472.554"><span>some constructor parameters as well. </span></span><span class="transcription-time-part" data-time-start="5472.554" data-time-end="5476.469"><span>If I dynamically allocate one blah, object. </span></span><span class="transcription-time-part" data-time-start="5476.469" data-time-end="5479.35"><span>There it is with some constructor parameters. </span></span><span class="transcription-time-part" data-time-start="5479.35" data-time-end="5480.46"><span>If, if, if I want to </span></span><span class="transcription-time-part" data-time-start="5480.46" data-time-end="5481.719"><span>default construct the blob, </span></span><span class="transcription-time-part" data-time-start="5481.719" data-time-end="5483.07"><span>take this dynamically allocated, </span></span><span class="transcription-time-part" data-time-start="5483.07" data-time-end="5484.929"><span>I can leave off the, the parameters </span></span><span class="transcription-time-part" data-time-start="5484.929" data-time-end="5487.299"><span>Anna and leave off the parentheses if I like. </span></span><span class="transcription-time-part" data-time-start="5487.299" data-time-end="5490.465"><span>In any event, whichever way I do it, </span></span><span class="transcription-time-part" data-time-start="5490.465" data-time-end="5492.174"><span>this will create one blah, </span></span><span class="transcription-time-part" data-time-start="5492.174" data-time-end="5494.844"><span>objects and BP will point to it. </span></span><span class="transcription-time-part" data-time-start="5494.844" data-time-end="5497.305"><span>And when it's time for, to get rid of it, </span></span><span class="transcription-time-part" data-time-start="5497.305" data-time-end="5498.729"><span>you pass the pointer to that Blob </span></span><span class="transcription-time-part" data-time-start="5498.729" data-time-end="5500.785"><span>object, delete this way. </span></span><span class="transcription-time-part" data-time-start="5500.785" data-time-end="5503.739"><span>On the other hand, if </span></span><span class="transcription-time-part" data-time-start="5503.739" data-time-end="5506.635"><span>I declare an array of objects, </span></span><span class="transcription-time-part" data-time-start="5506.635" data-time-end="5508.479"><span>dynamically allocate an array of objects. </span></span><span class="transcription-time-part" data-time-start="5508.479" data-time-end="5510.129"><span>So let's say I dynamically allocate </span></span><span class="transcription-time-part" data-time-start="5510.129" data-time-end="5512.184"><span>an array of a 100 foo objects. </span></span><span class="transcription-time-part" data-time-start="5512.184" data-time-end="5513.67"><span>Now in order to have an array of </span></span><span class="transcription-time-part" data-time-start="5513.67" data-time-end="5515.47"><span>objects that have some type, </span></span><span class="transcription-time-part" data-time-start="5515.47" data-time-end="5517.09"><span>that type has to have a default constructor. </span></span><span class="transcription-time-part" data-time-start="5517.09" data-time-end="5519.639"><span>So, so foo, I'm assuming Foo has </span></span><span class="transcription-time-part" data-time-start="5519.639" data-time-end="5520.9"><span>a default constructor that </span></span><span class="transcription-time-part" data-time-start="5520.9" data-time-end="5523.45"><span>properly initializes a full object. </span></span><span class="transcription-time-part" data-time-start="5523.45" data-time-end="5524.59"><span>So that default constructor </span></span><span class="transcription-time-part" data-time-start="5524.59" data-time-end="5525.309"><span>will be called a 100 </span></span><span class="transcription-time-part" data-time-start="5525.309" data-time-end="5526.45"><span>times one for each </span></span><span class="transcription-time-part" data-time-start="5526.45" data-time-end="5527.934"><span>of the four objects in the array. </span></span><span class="transcription-time-part" data-time-start="5527.934" data-time-end="5529.735"><span>So this will dynamically allocate </span></span><span class="transcription-time-part" data-time-start="5529.735" data-time-end="5530.86"><span>an array of a 100 items. </span></span><span class="transcription-time-part" data-time-start="5530.86" data-time-end="5534.079"><span>Nfp will point to element 0 of that array. </span></span><span class="transcription-time-part" data-time-start="5534.12" data-time-end="5536.964"><span>When it comes time to get rid of it, </span></span><span class="transcription-time-part" data-time-start="5536.964" data-time-end="5541.374"><span>you must use the array form of delete. </span></span><span class="transcription-time-part" data-time-start="5541.374" data-time-end="5543.55"><span>Let's delete an empty pair of </span></span><span class="transcription-time-part" data-time-start="5543.55" data-time-end="5546.439"><span>square brackets and the pointer. </span></span><span class="transcription-time-part" data-time-start="5546.75" data-time-end="5548.62"><span>Why? </span></span><span class="transcription-time-part" data-time-start="5548.62" data-time-end="5550.644"><span>There is a long reason for that. </span></span><span class="transcription-time-part" data-time-start="5550.644" data-time-end="5552.594"><span>But that's the role of the language. </span></span><span class="transcription-time-part" data-time-start="5552.594" data-time-end="5555.91"><span>If you allocate a single item, then with new, </span></span><span class="transcription-time-part" data-time-start="5555.91" data-time-end="5557.11"><span>then you delete it with </span></span><span class="transcription-time-part" data-time-start="5557.11" data-time-end="5558.85"><span>a single object form of nu, </span></span><span class="transcription-time-part" data-time-start="5558.85" data-time-end="5560.559"><span>which has no square brackets. </span></span><span class="transcription-time-part" data-time-start="5560.559" data-time-end="5564.024"><span>If you allocate an array of items with new, </span></span><span class="transcription-time-part" data-time-start="5564.024" data-time-end="5565.959"><span>when you delete it, you've gotta use </span></span><span class="transcription-time-part" data-time-start="5565.959" data-time-end="5568.729"><span>the delete square bracket form. </span></span><span class="transcription-time-part" data-time-start="5568.98" data-time-end="5572.149"><span>You pass appointed element 0, that array, </span></span><span class="transcription-time-part" data-time-start="5572.149" data-time-end="5574.81"><span>and two to delete square bracket, </span></span><span class="transcription-time-part" data-time-start="5574.81" data-time-end="5575.289"><span>and that'll, </span></span><span class="transcription-time-part" data-time-start="5575.289" data-time-end="5577.045"><span>that'll clean up the array properly. </span></span><span class="transcription-time-part" data-time-start="5577.045" data-time-end="5579.865"><span>Other restrictions are, if you </span></span><span class="transcription-time-part" data-time-start="5579.865" data-time-end="5583.03"><span>dynamically allocated an array. </span></span><span class="transcription-time-part" data-time-start="5583.03" data-time-end="5585.97"><span>The only pointer related to that array, </span></span><span class="transcription-time-part" data-time-start="5585.97" data-time-end="5587.5"><span>this legal to pass to delete </span></span><span class="transcription-time-part" data-time-start="5587.5" data-time-end="5589.029"><span>square brackets is a pointer </span></span><span class="transcription-time-part" data-time-start="5589.029" data-time-end="5590.709"><span>to element 0 of the array. </span></span><span class="transcription-time-part" data-time-start="5590.709" data-time-end="5592.435"><span>You can't, for example, </span></span><span class="transcription-time-part" data-time-start="5592.435" data-time-end="5595.555"><span>allocate a 100 element array, </span></span><span class="transcription-time-part" data-time-start="5595.555" data-time-end="5597.49"><span>get back a pointer to the beginning of </span></span><span class="transcription-time-part" data-time-start="5597.49" data-time-end="5599.214"><span>that array and decide, </span></span><span class="transcription-time-part" data-time-start="5599.214" data-time-end="5600.609"><span>you know, what, I want to get </span></span><span class="transcription-time-part" data-time-start="5600.609" data-time-end="5602.515"><span>rid of the last 20 elements. </span></span><span class="transcription-time-part" data-time-start="5602.515" data-time-end="5604.599"><span>So I will call delete </span></span><span class="transcription-time-part" data-time-start="5604.599" data-time-end="5607.705"><span>passing in a pointer to say FP plus 8. </span></span><span class="transcription-time-part" data-time-start="5607.705" data-time-end="5610"><span>So FP plus 80 would be </span></span><span class="transcription-time-part" data-time-start="5610" data-time-end="5613.225"><span>a pointer value that points two element, </span></span><span class="transcription-time-part" data-time-start="5613.225" data-time-end="5614.964"><span>element 80 of the array. </span></span><span class="transcription-time-part" data-time-start="5614.964" data-time-end="5616.24"><span>And you're hoping maybe </span></span><span class="transcription-time-part" data-time-start="5616.24" data-time-end="5617.169"><span>to get rid of elements </span></span><span class="transcription-time-part" data-time-start="5617.169" data-time-end="5618.699"><span>8399 to the array by </span></span><span class="transcription-time-part" data-time-start="5618.699" data-time-end="5620.485"><span>calling delete with that value. </span></span><span class="transcription-time-part" data-time-start="5620.485" data-time-end="5622.675"><span>Not allow undefined behavior. </span></span><span class="transcription-time-part" data-time-start="5622.675" data-time-end="5624.67"><span>The only pointer you can pass </span></span><span class="transcription-time-part" data-time-start="5624.67" data-time-end="5626.83"><span>to delete square bracket is, </span></span><span class="transcription-time-part" data-time-start="5626.83" data-time-end="5628.179"><span>is the same pointer value </span></span><span class="transcription-time-part" data-time-start="5628.179" data-time-end="5629.139"><span>that was given to you by now. </span></span><span class="transcription-time-part" data-time-start="5629.139" data-time-end="5630.34"><span>It could be in a different variable, </span></span><span class="transcription-time-part" data-time-start="5630.34" data-time-end="5630.714"><span>but it's a lot. </span></span><span class="transcription-time-part" data-time-start="5630.714" data-time-end="5631.749"><span>It's gotta be, it's gotta be </span></span><span class="transcription-time-part" data-time-start="5631.749" data-time-end="5634.76"><span>the address of element 0 of that array. </span></span><span class="transcription-time-part" data-time-start="5634.89" data-time-end="5639.44"><span>So, so there's, there's a limitation here. </span></span><span class="transcription-time-part" data-time-start="5639.72" data-time-end="5642.265"><span>Briefly. </span></span><span class="transcription-time-part" data-time-start="5642.265" data-time-end="5645.399"><span>The reason for having two different forms of </span></span><span class="transcription-time-part" data-time-start="5645.399" data-time-end="5648.594"><span>delete is basically an optimization, </span></span><span class="transcription-time-part" data-time-start="5648.594" data-time-end="5651.4"><span>a storage optimization decision by </span></span><span class="transcription-time-part" data-time-start="5651.4" data-time-end="5654.789"><span>Stroustrup in designing C plus plus, that, </span></span><span class="transcription-time-part" data-time-start="5654.789" data-time-end="5657.01"><span>if you have a pointer to a single object, </span></span><span class="transcription-time-part" data-time-start="5657.01" data-time-end="5659.259"><span>the only bookkeeping information you really, </span></span><span class="transcription-time-part" data-time-start="5659.259" data-time-end="5660.94"><span>the storage allocator really needs </span></span><span class="transcription-time-part" data-time-start="5660.94" data-time-end="5663.4"><span>is where is that object and how big is it? </span></span><span class="transcription-time-part" data-time-start="5663.4" data-time-end="5665.455"><span>So, so basically how big is that? </span></span><span class="transcription-time-part" data-time-start="5665.455" data-time-end="5666.73"><span>And obviously there's one </span></span><span class="transcription-time-part" data-time-start="5666.73" data-time-end="5668.02"><span>object if it's a class type, </span></span><span class="transcription-time-part" data-time-start="5668.02" data-time-end="5669.189"><span>I've got to call the destructor for </span></span><span class="transcription-time-part" data-time-start="5669.189" data-time-end="5671.349"><span>that class and get rid of the one object. </span></span><span class="transcription-time-part" data-time-start="5671.349" data-time-end="5674.35"><span>If you're dynamically allocating an array, </span></span><span class="transcription-time-part" data-time-start="5674.35" data-time-end="5676.675"><span>then the bookkeeping information </span></span><span class="transcription-time-part" data-time-start="5676.675" data-time-end="5678.01"><span>has to be a little more than that. </span></span><span class="transcription-time-part" data-time-start="5678.01" data-time-end="5681.055"><span>It can't just be how big is the array? </span></span><span class="transcription-time-part" data-time-start="5681.055" data-time-end="5682.72"><span>You know, I know, I know, </span></span><span class="transcription-time-part" data-time-start="5682.72" data-time-end="5684.179"><span>I know the type of object and, </span></span><span class="transcription-time-part" data-time-start="5684.179" data-time-end="5686.544"><span>and there's an end, and here's the array. </span></span><span class="transcription-time-part" data-time-start="5686.544" data-time-end="5688.54"><span>Because it needs to </span></span><span class="transcription-time-part" data-time-start="5688.54" data-time-end="5689.86"><span>know more than for a single object. </span></span><span class="transcription-time-part" data-time-start="5689.86" data-time-end="5691.509"><span>For single object, There's only one, </span></span><span class="transcription-time-part" data-time-start="5691.509" data-time-end="5693.504"><span>an array, there's a bunch. </span></span><span class="transcription-time-part" data-time-start="5693.504" data-time-end="5695.05"><span>And because there's a bunch, </span></span><span class="transcription-time-part" data-time-start="5695.05" data-time-end="5696.579"><span>that means the destructor </span></span><span class="transcription-time-part" data-time-start="5696.579" data-time-end="5698.109"><span>has to be called a bunch of times. </span></span><span class="transcription-time-part" data-time-start="5698.109" data-time-end="5701.44"><span>So there's more work to get rid of </span></span><span class="transcription-time-part" data-time-start="5701.44" data-time-end="5703.089"><span>an array because the destructor </span></span><span class="transcription-time-part" data-time-start="5703.089" data-time-end="5704.59"><span>is being called a certain number of times, </span></span><span class="transcription-time-part" data-time-start="5704.59" data-time-end="5705.01"><span>then there has to </span></span><span class="transcription-time-part" data-time-start="5705.01" data-time-end="5706.089"><span>be some bookkeeping information, </span></span><span class="transcription-time-part" data-time-start="5706.089" data-time-end="5707.469"><span>the records that there's </span></span><span class="transcription-time-part" data-time-start="5707.469" data-time-end="5708.64"><span>some number of times. </span></span><span class="transcription-time-part" data-time-start="5708.64" data-time-end="5711.939"><span>So the bookkeeping and information needed </span></span><span class="transcription-time-part" data-time-start="5711.939" data-time-end="5713.56"><span>for an array is more </span></span><span class="transcription-time-part" data-time-start="5713.56" data-time-end="5716.005"><span>than that for a single object. </span></span><span class="transcription-time-part" data-time-start="5716.005" data-time-end="5719.229"><span>And so, because there's like </span></span><span class="transcription-time-part" data-time-start="5719.229" data-time-end="5721.614"><span>two different ways or </span></span><span class="transcription-time-part" data-time-start="5721.614" data-time-end="5723.129"><span>two different things that we have to keep. </span></span><span class="transcription-time-part" data-time-start="5723.129" data-time-end="5724.18"><span>One is information for </span></span><span class="transcription-time-part" data-time-start="5724.18" data-time-end="5725.139"><span>a single object versus </span></span><span class="transcription-time-part" data-time-start="5725.139" data-time-end="5726.4"><span>information for an array. </span></span><span class="transcription-time-part" data-time-start="5726.4" data-time-end="5728.529"><span>You've gotta help the compiler a lot though </span></span><span class="transcription-time-part" data-time-start="5728.529" data-time-end="5731.304"><span>the runtime system along by indicating which, </span></span><span class="transcription-time-part" data-time-start="5731.304" data-time-end="5733.27"><span>which version is using. </span></span><span class="transcription-time-part" data-time-start="5733.27" data-time-end="5735.719"><span>There are some thoughts about well, </span></span><span class="transcription-time-part" data-time-start="5735.719" data-time-end="5737.319"><span>I started I went through the thought of well, </span></span><span class="transcription-time-part" data-time-start="5737.319" data-time-end="5739.06"><span>why not just have 11 form </span></span><span class="transcription-time-part" data-time-start="5739.06" data-time-end="5740.664"><span>for the booking information? </span></span><span class="transcription-time-part" data-time-start="5740.664" data-time-end="5741.91"><span>If there's only one form for </span></span><span class="transcription-time-part" data-time-start="5741.91" data-time-end="5743.169"><span>the bookkeeping information and there's </span></span><span class="transcription-time-part" data-time-start="5743.169" data-time-end="5745.72"><span>only one form of delete we need. </span></span><span class="transcription-time-part" data-time-start="5745.72" data-time-end="5748.39"><span>So why don't we just have </span></span><span class="transcription-time-part" data-time-start="5748.39" data-time-end="5749.679"><span>the storage allocator </span></span><span class="transcription-time-part" data-time-start="5749.679" data-time-end="5752.184"><span>treat a single object </span></span><span class="transcription-time-part" data-time-start="5752.184" data-time-end="5753.969"><span>as an array of one object. </span></span><span class="transcription-time-part" data-time-start="5753.969" data-time-end="5756.145"><span>So I'm saying it looks like the same thing. </span></span><span class="transcription-time-part" data-time-start="5756.145" data-time-end="5758.439"><span>Then everything is conceptually to the, </span></span><span class="transcription-time-part" data-time-start="5758.439" data-time-end="5760.93"><span>to the storage allocator, an array. </span></span><span class="transcription-time-part" data-time-start="5760.93" data-time-end="5761.77"><span>And so we can just </span></span><span class="transcription-time-part" data-time-start="5761.77" data-time-end="5762.954"><span>use the same algorithm there. </span></span><span class="transcription-time-part" data-time-start="5762.954" data-time-end="5764.439"><span>Well, the problem is if you have </span></span><span class="transcription-time-part" data-time-start="5764.439" data-time-end="5765.984"><span>a million single objects, </span></span><span class="transcription-time-part" data-time-start="5765.984" data-time-end="5767.469"><span>then since </span></span><span class="transcription-time-part" data-time-start="5767.469" data-time-end="5770.244"><span>the bookkeeping information for an array, </span></span><span class="transcription-time-part" data-time-start="5770.244" data-time-end="5771.61"><span>if we're treating each one of </span></span><span class="transcription-time-part" data-time-start="5771.61" data-time-end="5773.064"><span>them is an array of one object, </span></span><span class="transcription-time-part" data-time-start="5773.064" data-time-end="5774.339"><span>takes up more room than </span></span><span class="transcription-time-part" data-time-start="5774.339" data-time-end="5775.36"><span>a bookkeeping information for </span></span><span class="transcription-time-part" data-time-start="5775.36" data-time-end="5777.879"><span>just a single object in the normal sense, </span></span><span class="transcription-time-part" data-time-start="5777.879" data-time-end="5781.059"><span>then it's a lot of extra storage. </span></span><span class="transcription-time-part" data-time-start="5781.059" data-time-end="5782.409"><span>So blah, blah, blah. </span></span><span class="transcription-time-part" data-time-start="5782.409" data-time-end="5783.13"><span>You don't have to understand </span></span><span class="transcription-time-part" data-time-start="5783.13" data-time-end="5783.94"><span>that explanation at all. </span></span><span class="transcription-time-part" data-time-start="5783.94" data-time-end="5785.425"><span>I didn't give it very well. </span></span><span class="transcription-time-part" data-time-start="5785.425" data-time-end="5786.849"><span>The basic problem is </span></span><span class="transcription-time-part" data-time-start="5786.849" data-time-end="5788.53"><span>that the choice was either </span></span><span class="transcription-time-part" data-time-start="5788.53" data-time-end="5790.029"><span>simplify the language by </span></span><span class="transcription-time-part" data-time-start="5790.029" data-time-end="5792.175"><span>having one short one form of delete, </span></span><span class="transcription-time-part" data-time-start="5792.175" data-time-end="5794.649"><span>at the expense of taking up </span></span><span class="transcription-time-part" data-time-start="5794.649" data-time-end="5796.45"><span>more storage for lots and lots of </span></span><span class="transcription-time-part" data-time-start="5796.45" data-time-end="5798.505"><span>dynamically allocated single objects. </span></span><span class="transcription-time-part" data-time-start="5798.505" data-time-end="5802.104"><span>Or optimize the storage performance. </span></span><span class="transcription-time-part" data-time-start="5802.104" data-time-end="5805.359"><span>And just put the burden on the programmer to, </span></span><span class="transcription-time-part" data-time-start="5805.359" data-time-end="5807.22"><span>to distinguish between deleting </span></span><span class="transcription-time-part" data-time-start="5807.22" data-time-end="5809.515"><span>a single item or distinguishing an array. </span></span><span class="transcription-time-part" data-time-start="5809.515" data-time-end="5811.014"><span>He chose the latter. </span></span><span class="transcription-time-part" data-time-start="5811.014" data-time-end="5812.979"><span>One of the design goals of C plus plus </span></span><span class="transcription-time-part" data-time-start="5812.979" data-time-end="5814.779"><span>is for high-performance applications. </span></span><span class="transcription-time-part" data-time-start="5814.779" data-time-end="5817.719"><span>That also means not needlessly. </span></span><span class="transcription-time-part" data-time-start="5817.719" data-time-end="5818.709"><span>Using storage. </span></span><span class="transcription-time-part" data-time-start="5818.709" data-time-end="5820"><span>If you can come up with a way where, </span></span><span class="transcription-time-part" data-time-start="5820" data-time-end="5820.299"><span>where there's </span></span><span class="transcription-time-part" data-time-start="5820.299" data-time-end="5822.1"><span>a more efficient representation. </span></span><span class="transcription-time-part" data-time-start="5822.1" data-time-end="5824.695"><span>So the bird was passed on to us. </span></span><span class="transcription-time-part" data-time-start="5824.695" data-time-end="5828.984"><span>And so that means we have to keep track of </span></span><span class="transcription-time-part" data-time-start="5828.984" data-time-end="5830.47"><span>our pointers if we're dynamically </span></span><span class="transcription-time-part" data-time-start="5830.47" data-time-end="5831.639"><span>allocating something and </span></span><span class="transcription-time-part" data-time-start="5831.639" data-time-end="5832.869"><span>storing the result in a pointer </span></span><span class="transcription-time-part" data-time-start="5832.869" data-time-end="5834.4"><span>when it comes time to get rid of it, </span></span><span class="transcription-time-part" data-time-start="5834.4" data-time-end="5836.96"><span>you have to know how it was allocated. </span></span><span class="transcription-time-part" data-time-start="5837.09" data-time-end="5839.559"><span>Now in our case that simple </span></span><span class="transcription-time-part" data-time-start="5839.559" data-time-end="5842.665"><span>because we're always allocating an array. </span></span><span class="transcription-time-part" data-time-start="5842.665" data-time-end="5843.879"><span>So we know we're going </span></span><span class="transcription-time-part" data-time-start="5843.879" data-time-end="5845.004"><span>to be deleting an array. </span></span><span class="transcription-time-part" data-time-start="5845.004" data-time-end="5847.36"><span>And therefore, the correct implementation of </span></span><span class="transcription-time-part" data-time-start="5847.36" data-time-end="5848.875"><span>our destructor would be </span></span><span class="transcription-time-part" data-time-start="5848.875" data-time-end="5850.81"><span>to use the re-form the Delete. </span></span><span class="transcription-time-part" data-time-start="5850.81" data-time-end="5852.264"><span>Now that is correct. </span></span><span class="transcription-time-part" data-time-start="5852.264" data-time-end="5854.41"><span>Delete the stories that I'm texts 0.2, </span></span><span class="transcription-time-part" data-time-start="5854.41" data-time-end="5855.939"><span>which was allocated as an array. </span></span><span class="transcription-time-part" data-time-start="5855.939" data-time-end="5857.905"><span>So we use the array form of delete. </span></span><span class="transcription-time-part" data-time-start="5857.905" data-time-end="5859.539"><span>So now we have </span></span><span class="transcription-time-part" data-time-start="5859.539" data-time-end="5861.849"><span>our destructor correctly implemented </span></span><span class="transcription-time-part" data-time-start="5861.849" data-time-end="5865.57"><span>and that should solve </span></span><span class="transcription-time-part" data-time-start="5865.57" data-time-end="5867.069"><span>our resource management problems. </span></span><span class="transcription-time-part" data-time-start="5867.069" data-time-end="5868.165"><span>Australia. </span></span><span class="transcription-time-part" data-time-start="5868.165" data-time-end="5870.279"><span>Oh no, it does not. </span></span><span class="transcription-time-part" data-time-start="5870.279" data-time-end="5871.764"><span>There's still more. </span></span><span class="transcription-time-part" data-time-start="5871.764" data-time-end="5873.925"><span>We have the string class has some, </span></span><span class="transcription-time-part" data-time-start="5873.925" data-time-end="5875.829"><span>some serious problems that, </span></span><span class="transcription-time-part" data-time-start="5875.829" data-time-end="5877.554"><span>that we need to fix. </span></span><span class="transcription-time-part" data-time-start="5877.554" data-time-end="5879.759"><span>So I mean this part's fine. </span></span><span class="transcription-time-part" data-time-start="5879.759" data-time-end="5880.719"><span>They construct is find </span></span><span class="transcription-time-part" data-time-start="5880.719" data-time-end="5881.904"><span>the destructor is fine. </span></span><span class="transcription-time-part" data-time-start="5881.904" data-time-end="5883.539"><span>But there's more we need to </span></span><span class="transcription-time-part" data-time-start="5883.539" data-time-end="5886.014"><span>do to get correct behavior. </span></span><span class="transcription-time-part" data-time-start="5886.014" data-time-end="5888.76"><span>Let me just note that the steps of </span></span><span class="transcription-time-part" data-time-start="5888.76" data-time-end="5895.42"><span>destruction explain why we're okay. </span></span><span class="transcription-time-part" data-time-start="5895.42" data-time-end="5897.85"><span>Again, I had this employee type at some point </span></span><span class="transcription-time-part" data-time-start="5897.85" data-time-end="5901.129"><span>where let me go back. </span></span><span class="transcription-time-part" data-time-start="5902.03" data-time-end="5904.709"><span>We had this employee type and </span></span><span class="transcription-time-part" data-time-start="5904.709" data-time-end="5906.629"><span>this employee type it </span></span><span class="transcription-time-part" data-time-start="5906.629" data-time-end="5909.375"><span>back and see us 31 before I even saw classes. </span></span><span class="transcription-time-part" data-time-start="5909.375" data-time-end="5911.07"><span>We had this employee type that a </span></span><span class="transcription-time-part" data-time-start="5911.07" data-time-end="5913.274"><span>string, a double-ended end. </span></span><span class="transcription-time-part" data-time-start="5913.274" data-time-end="5916.14"><span>Now, if you create an employee, </span></span><span class="transcription-time-part" data-time-start="5916.14" data-time-end="5918.21"><span>that means each employee objects going to </span></span><span class="transcription-time-part" data-time-start="5918.21" data-time-end="5920.205"><span>have a data member of type string, </span></span><span class="transcription-time-part" data-time-start="5920.205" data-time-end="5922.26"><span>which probably has a pointer to </span></span><span class="transcription-time-part" data-time-start="5922.26" data-time-end="5923.489"><span>a dynamically allocated </span></span><span class="transcription-time-part" data-time-start="5923.489" data-time-end="5924.539"><span>array of characters for </span></span><span class="transcription-time-part" data-time-start="5924.539" data-time-end="5925.98"><span>the persons name is </span></span><span class="transcription-time-part" data-time-start="5925.98" data-time-end="5927.149"><span>strings generally will have </span></span><span class="transcription-time-part" data-time-start="5927.149" data-time-end="5928.769"><span>a pointer to the dynamically allocated array </span></span><span class="transcription-time-part" data-time-start="5928.769" data-time-end="5930.24"><span>of characters for the text. </span></span><span class="transcription-time-part" data-time-start="5930.24" data-time-end="5932.07"><span>At a double Internet. </span></span><span class="transcription-time-part" data-time-start="5932.07" data-time-end="5935.28"><span>We did not write a destructor for this type. </span></span><span class="transcription-time-part" data-time-start="5935.28" data-time-end="5937.32"><span>So if I have </span></span><span class="transcription-time-part" data-time-start="5937.32" data-time-end="5939.089"><span>an employee variable and later </span></span><span class="transcription-time-part" data-time-start="5939.089" data-time-end="5941.129"><span>on we leave the scope of that variable. </span></span><span class="transcription-time-part" data-time-start="5941.129" data-time-end="5942"><span>We leave the function where </span></span><span class="transcription-time-part" data-time-start="5942" data-time-end="5943.655"><span>that variable is declared. </span></span><span class="transcription-time-part" data-time-start="5943.655" data-time-end="5946.614"><span>The destructor for E gets called. </span></span><span class="transcription-time-part" data-time-start="5946.614" data-time-end="5949.36"><span>So we didn't write </span></span><span class="transcription-time-part" data-time-start="5949.36" data-time-end="5950.889"><span>a destructor for the employee types, </span></span><span class="transcription-time-part" data-time-start="5950.889" data-time-end="5952.029"><span>so the compiler writes one for </span></span><span class="transcription-time-part" data-time-start="5952.029" data-time-end="5953.334"><span>us that has an empty body. </span></span><span class="transcription-time-part" data-time-start="5953.334" data-time-end="5954.73"><span>Now why did we not have </span></span><span class="transcription-time-part" data-time-start="5954.73" data-time-end="5956.68"><span>a problem here with a memory leak? </span></span><span class="transcription-time-part" data-time-start="5956.68" data-time-end="5959.859"><span>Well, when the destructor </span></span><span class="transcription-time-part" data-time-start="5959.859" data-time-end="5962.274"><span>for this employee is called, </span></span><span class="transcription-time-part" data-time-start="5962.274" data-time-end="5964.899"><span>step one does nothing </span></span><span class="transcription-time-part" data-time-start="5964.899" data-time-end="5966.4"><span>because the compiler generate </span></span><span class="transcription-time-part" data-time-start="5966.4" data-time-end="5968.26"><span>the destructor has an empty body. </span></span><span class="transcription-time-part" data-time-start="5968.26" data-time-end="5971.229"><span>Step 2 says Destroy each data member. </span></span><span class="transcription-time-part" data-time-start="5971.229" data-time-end="5973.72"><span>So those of a built-in type, we do nothing. </span></span><span class="transcription-time-part" data-time-start="5973.72" data-time-end="5975.429"><span>So nothing happens regarding </span></span><span class="transcription-time-part" data-time-start="5975.429" data-time-end="5977.57"><span>the salary and the age. </span></span><span class="transcription-time-part" data-time-start="5977.82" data-time-end="5980.049"><span>But the name is </span></span><span class="transcription-time-part" data-time-start="5980.049" data-time-end="5982.33"><span>a string, that's a class type. </span></span><span class="transcription-time-part" data-time-start="5982.33" data-time-end="5984.309"><span>Name is a string. </span></span><span class="transcription-time-part" data-time-start="5984.309" data-time-end="5986.395"><span>String has a pointer to dynamic storage </span></span><span class="transcription-time-part" data-time-start="5986.395" data-time-end="5988.93"><span>0 should or we can have a memory leak? </span></span><span class="transcription-time-part" data-time-start="5988.93" data-time-end="5991.779"><span>No, because if the data members of </span></span><span class="transcription-time-part" data-time-start="5991.779" data-time-end="5994.149"><span>a class type that classes </span></span><span class="transcription-time-part" data-time-start="5994.149" data-time-end="5995.769"><span>destructor gets called, </span></span><span class="transcription-time-part" data-time-start="5995.769" data-time-end="5997.015"><span>destructor gets called. </span></span><span class="transcription-time-part" data-time-start="5997.015" data-time-end="5998.74"><span>So the string destructor will take </span></span><span class="transcription-time-part" data-time-start="5998.74" data-time-end="6001.035"><span>care of cleaning up this data member, </span></span><span class="transcription-time-part" data-time-start="6001.035" data-time-end="6003.795"><span>which is good and makes sense because, </span></span><span class="transcription-time-part" data-time-start="6003.795" data-time-end="6005.279"><span>why should we have to </span></span><span class="transcription-time-part" data-time-start="6005.279" data-time-end="6006.959"><span>know the details of how string is </span></span><span class="transcription-time-part" data-time-start="6006.959" data-time-end="6008.94"><span>implemented in order to </span></span><span class="transcription-time-part" data-time-start="6008.94" data-time-end="6010.994"><span>write an employee destructor. </span></span><span class="transcription-time-part" data-time-start="6010.994" data-time-end="6013.53"><span>If string chooses to dynamically </span></span><span class="transcription-time-part" data-time-start="6013.53" data-time-end="6014.67"><span>allocate storage as </span></span><span class="transcription-time-part" data-time-start="6014.67" data-time-end="6016.484"><span>part of this representation, </span></span><span class="transcription-time-part" data-time-start="6016.484" data-time-end="6018.24"><span>string is presumably </span></span><span class="transcription-time-part" data-time-start="6018.24" data-time-end="6020.024"><span>responsible for cleaning it up. </span></span><span class="transcription-time-part" data-time-start="6020.024" data-time-end="6021.959"><span>We, the designer or the employee </span></span><span class="transcription-time-part" data-time-start="6021.959" data-time-end="6023.835"><span>type should not have to worry about that. </span></span><span class="transcription-time-part" data-time-start="6023.835" data-time-end="6025.139"><span>And I don't care how strings </span></span><span class="transcription-time-part" data-time-start="6025.139" data-time-end="6026.19"><span>are implemented as long as </span></span><span class="transcription-time-part" data-time-start="6026.19" data-time-end="6028.589"><span>I know that strings a reasonable type, </span></span><span class="transcription-time-part" data-time-start="6028.589" data-time-end="6029.79"><span>the cleans up after itself. </span></span><span class="transcription-time-part" data-time-start="6029.79" data-time-end="6031.005"><span>When strings go away. </span></span><span class="transcription-time-part" data-time-start="6031.005" data-time-end="6032.849"><span>Then I'll just use strings </span></span><span class="transcription-time-part" data-time-start="6032.849" data-time-end="6033.9"><span>and it'll take care </span></span><span class="transcription-time-part" data-time-start="6033.9" data-time-end="6035.895"><span>that the dynamic storage form. </span></span><span class="transcription-time-part" data-time-start="6035.895" data-time-end="6038.4"><span>So that's why this, this employee type </span></span><span class="transcription-time-part" data-time-start="6038.4" data-time-end="6039.794"><span>worked out fine without a memory leak, </span></span><span class="transcription-time-part" data-time-start="6039.794" data-time-end="6041.369"><span>even though the string for the name </span></span><span class="transcription-time-part" data-time-start="6041.369" data-time-end="6043.334"><span>might have had pointer dynamic storage. </span></span><span class="transcription-time-part" data-time-start="6043.334" data-time-end="6044.97"><span>The strain destructor took care of </span></span><span class="transcription-time-part" data-time-start="6044.97" data-time-end="6046.32"><span>that and the rules of destruction, </span></span><span class="transcription-time-part" data-time-start="6046.32" data-time-end="6048.209"><span>make sure the string destructor got called. </span></span><span class="transcription-time-part" data-time-start="6048.209" data-time-end="6049.38"><span>Even though we didn't mentioned </span></span><span class="transcription-time-part" data-time-start="6049.38" data-time-end="6051.015"><span>a destructor for employee at all. </span></span><span class="transcription-time-part" data-time-start="6051.015" data-time-end="6052.799"><span>Okay, So we have a destructor for </span></span><span class="transcription-time-part" data-time-start="6052.799" data-time-end="6054.21"><span>our string class, which is good. </span></span><span class="transcription-time-part" data-time-start="6054.21" data-time-end="6055.649"><span>But as I said before, </span></span><span class="transcription-time-part" data-time-start="6055.649" data-time-end="6056.849"><span>we still have some resource </span></span><span class="transcription-time-part" data-time-start="6056.849" data-time-end="6058.215"><span>management problems here. </span></span><span class="transcription-time-part" data-time-start="6058.215" data-time-end="6060.405"><span>And we'll take a look at that next time. </span></span><span class="transcription-time-part" data-time-start="6060.405" data-time-end="6063.61"><span>So let me end the recording here. </span></span></div>
