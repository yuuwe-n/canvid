<div class="transcript-box" style="display: block;">
    <div class="transcript-body" style="height: 206px;"><span class="transcription-time-part" data-time-start="3.11" data-time-end="5.699"><span>All right, so today what I want to </span></span><span class="transcription-time-part" data-time-start="5.699" data-time-end="7.9190000000000005"><span>do is wrap up some issues </span></span><span class="transcription-time-part" data-time-start="7.9190000000000005" data-time-end="10.23"><span>involving hash tables and </span></span><span class="transcription-time-part" data-time-start="10.23" data-time-end="13.17"><span>then go off on to one last data structure. </span></span><span class="transcription-time-part" data-time-start="13.17" data-time-end="14.609"><span>So we saw the basic </span></span><span class="transcription-time-part" data-time-start="14.609" data-time-end="15.779"><span>idea of hash tables, right? </span></span><span class="transcription-time-part" data-time-start="15.779" data-time-end="17.144"><span>You have a number of buckets. </span></span><span class="transcription-time-part" data-time-start="17.144" data-time-end="19.229"><span>The important thing is that </span></span><span class="transcription-time-part" data-time-start="19.229" data-time-end="20.52"><span>this is some kind of the </span></span><span class="transcription-time-part" data-time-start="20.52" data-time-end="21.779"><span>number in the bucket, sorry Anna, </span></span><span class="transcription-time-part" data-time-start="21.779" data-time-end="23.19"><span>in some kind of container </span></span><span class="transcription-time-part" data-time-start="23.19" data-time-end="24.825"><span>that allows random access, </span></span><span class="transcription-time-part" data-time-start="24.825" data-time-end="27.3"><span>it's equally fast to get element 0, </span></span><span class="transcription-time-part" data-time-start="27.3" data-time-end="29.159"><span>element 47, et cetera. </span></span><span class="transcription-time-part" data-time-start="29.159" data-time-end="31.38"><span>And that means that the buckets are contained </span></span><span class="transcription-time-part" data-time-start="31.38" data-time-end="33.719"><span>either in an array or a vector. </span></span><span class="transcription-time-part active" data-time-start="33.719" data-time-end="36.12"><span>Let's say each bucket has </span></span><span class="transcription-time-part" data-time-start="36.12" data-time-end="38.565"><span>a presumably small collection </span></span><span class="transcription-time-part" data-time-start="38.565" data-time-end="41.615"><span>of the items that belong in that bucket. </span></span><span class="transcription-time-part" data-time-start="41.615" data-time-end="44.03"><span>And because </span></span><span class="transcription-time-part" data-time-start="44.03" data-time-end="45.994"><span>it's a presumably small collection, </span></span><span class="transcription-time-part" data-time-start="45.994" data-time-end="47.39"><span>we could use something simple </span></span><span class="transcription-time-part" data-time-start="47.39" data-time-end="48.679"><span>like a vector or a list. </span></span><span class="transcription-time-part" data-time-start="48.679" data-time-end="50.404"><span>A list turns out to be often, </span></span><span class="transcription-time-part" data-time-start="50.404" data-time-end="52.459"><span>often the best, the better choice. </span></span><span class="transcription-time-part" data-time-start="52.459" data-time-end="53.78"><span>But either one cycle, </span></span><span class="transcription-time-part" data-time-start="53.78" data-time-end="55.544"><span>let's add 10 thousand bug is there? </span></span><span class="transcription-time-part" data-time-start="55.544" data-time-end="56.884"><span>We need some way, </span></span><span class="transcription-time-part" data-time-start="56.884" data-time-end="59.209"><span>given a key, if our table is organized, </span></span><span class="transcription-time-part" data-time-start="59.209" data-time-end="61.069"><span>say by student ID numbers or by </span></span><span class="transcription-time-part" data-time-start="61.069" data-time-end="62.135"><span>people's names or </span></span><span class="transcription-time-part" data-time-start="62.135" data-time-end="63.439"><span>whatever the key is that we're going to, </span></span><span class="transcription-time-part" data-time-start="63.439" data-time-end="65.209"><span>this is going to be efficient for looking up. </span></span><span class="transcription-time-part" data-time-start="65.209" data-time-end="67.7"><span>We need a function that </span></span><span class="transcription-time-part" data-time-start="67.7" data-time-end="70.744"><span>gets us from a key to some value that, </span></span><span class="transcription-time-part" data-time-start="70.744" data-time-end="71.75"><span>that we can, we can </span></span><span class="transcription-time-part" data-time-start="71.75" data-time-end="74.179"><span>produce a bucket number from. </span></span><span class="transcription-time-part" data-time-start="74.179" data-time-end="76.22"><span>So basically we need a function to get from </span></span><span class="transcription-time-part" data-time-start="76.22" data-time-end="78.395"><span>a key to an integer as our hash function. </span></span><span class="transcription-time-part" data-time-start="78.395" data-time-end="80.089"><span>And so we talked about that. </span></span><span class="transcription-time-part" data-time-start="80.089" data-time-end="82.264"><span>And so if I have, </span></span><span class="transcription-time-part" data-time-start="82.264" data-time-end="84.53"><span>It's going to be keyed by student ID numbers </span></span><span class="transcription-time-part" data-time-start="84.53" data-time-end="88.219"><span>via student number 304729635. </span></span><span class="transcription-time-part" data-time-start="88.219" data-time-end="90.829"><span>My hash function could </span></span><span class="transcription-time-part" data-time-start="90.829" data-time-end="92.33"><span>just be the identity function gives me </span></span><span class="transcription-time-part" data-time-start="92.33" data-time-end="93.89"><span>back the same integer and then I </span></span><span class="transcription-time-part" data-time-start="93.89" data-time-end="97.474"><span>reduce it down to the range 0 to 99, 99. </span></span><span class="transcription-time-part" data-time-start="97.474" data-time-end="100.64"><span>As I said, with hash functions that </span></span><span class="transcription-time-part" data-time-start="100.64" data-time-end="102.5"><span>the distribution of student ID numbers </span></span><span class="transcription-time-part" data-time-start="102.5" data-time-end="103.76"><span>is that the last four digits, </span></span><span class="transcription-time-part" data-time-start="103.76" data-time-end="105.784"><span>the last five digits, four digits, </span></span><span class="transcription-time-part" data-time-start="105.784" data-time-end="107.704"><span>last four digits are </span></span><span class="transcription-time-part" data-time-start="107.704" data-time-end="109.909"><span>pretty uniformly distributed. </span></span><span class="transcription-time-part" data-time-start="109.909" data-time-end="112.625"><span>So taking the result mod </span></span><span class="transcription-time-part" data-time-start="112.625" data-time-end="114.26"><span>10 thousand is going </span></span><span class="transcription-time-part" data-time-start="114.26" data-time-end="116.254"><span>to be good for student ID numbers. </span></span><span class="transcription-time-part" data-time-start="116.254" data-time-end="118.534"><span>Are keys might be strings. </span></span><span class="transcription-time-part" data-time-start="118.534" data-time-end="119.39"><span>Well then we need </span></span><span class="transcription-time-part" data-time-start="119.39" data-time-end="120.62"><span>a hash function that gets us from </span></span><span class="transcription-time-part" data-time-start="120.62" data-time-end="123.959"><span>strings to two integers. </span></span><span class="transcription-time-part" data-time-start="124.42" data-time-end="126.859"><span>And I mentioned some last time </span></span><span class="transcription-time-part" data-time-start="126.859" data-time-end="129.049"><span>that the FMV one algorithm, </span></span><span class="transcription-time-part" data-time-start="129.049" data-time-end="131.549"><span>it does a pretty good job. </span></span><span class="transcription-time-part" data-time-start="131.71" data-time-end="134.69"><span>In the C standard library. </span></span><span class="transcription-time-part" data-time-start="134.69" data-time-end="135.74"><span>There's this, this hash </span></span><span class="transcription-time-part" data-time-start="135.74" data-time-end="137.239"><span>clashed class template </span></span><span class="transcription-time-part" data-time-start="137.239" data-time-end="139.34"><span>that has </span></span><span class="transcription-time-part" data-time-start="139.34" data-time-end="141.77"><span>this overloaded operator parentheses that, </span></span><span class="transcription-time-part" data-time-start="141.77" data-time-end="143.06"><span>that acts like a </span></span><span class="transcription-time-part" data-time-start="143.06" data-time-end="144.919"><span>reasonable hash function for strings. </span></span><span class="transcription-time-part" data-time-start="144.919" data-time-end="147.56"><span>In any event, the properties we need </span></span><span class="transcription-time-part" data-time-start="147.56" data-time-end="150.409"><span>for a hash function are as follows. </span></span><span class="transcription-time-part" data-time-start="150.409" data-time-end="152.209"><span>So our hash function, </span></span><span class="transcription-time-part" data-time-start="152.209" data-time-end="154.58"><span>it was going to be to us it had </span></span><span class="transcription-time-part" data-time-start="154.58" data-time-end="157.669"><span>better produce a uniformly distributed. </span></span><span class="transcription-time-part" data-time-start="157.669" data-time-end="160.34"><span>That is, if our hash table </span></span><span class="transcription-time-part" data-time-start="160.34" data-time-end="162.289"><span>has some number of buckets, </span></span><span class="transcription-time-part" data-time-start="162.289" data-time-end="163.939"><span>has b number of buckets, </span></span><span class="transcription-time-part" data-time-start="163.939" data-time-end="166.879"><span>then the probability that </span></span><span class="transcription-time-part" data-time-start="166.879" data-time-end="169.115"><span>the hash function for the data we're giving, </span></span><span class="transcription-time-part" data-time-start="169.115" data-time-end="171.23"><span>the probability that something ends up in </span></span><span class="transcription-time-part" data-time-start="171.23" data-time-end="172.655"><span>a particular bucket is </span></span><span class="transcription-time-part" data-time-start="172.655" data-time-end="174.439"><span>approximately one over b for all the buckets. </span></span><span class="transcription-time-part" data-time-start="174.439" data-time-end="176.255"><span>In other words, we should get </span></span><span class="transcription-time-part" data-time-start="176.255" data-time-end="177.38"><span>for the data we're </span></span><span class="transcription-time-part" data-time-start="177.38" data-time-end="178.55"><span>processing that we feed it to. </span></span><span class="transcription-time-part" data-time-start="178.55" data-time-end="180.32"><span>I hat feed him the keys </span></span><span class="transcription-time-part" data-time-start="180.32" data-time-end="181.939"><span>to our hash function that puts, </span></span><span class="transcription-time-part" data-time-start="181.939" data-time-end="183.364"><span>assigns them to buckets. </span></span><span class="transcription-time-part" data-time-start="183.364" data-time-end="185.75"><span>We'd better have a nice approximately even </span></span><span class="transcription-time-part" data-time-start="185.75" data-time-end="188.18"><span>spread over all the buckets, right? </span></span><span class="transcription-time-part" data-time-start="188.18" data-time-end="189.86"><span>If our halfway extreme case </span></span><span class="transcription-time-part" data-time-start="189.86" data-time-end="191.209"><span>of our hash function always </span></span><span class="transcription-time-part" data-time-start="191.209" data-time-end="195.629"><span>returns 0 or always returned three, </span></span><span class="transcription-time-part" data-time-start="195.629" data-time-end="198.969"><span>then every key would have to bucket number 3. </span></span><span class="transcription-time-part" data-time-start="198.969" data-time-end="199.72"><span>Let's say it was </span></span><span class="transcription-time-part" data-time-start="199.72" data-time-end="201.16"><span>already always returns three. </span></span><span class="transcription-time-part" data-time-start="201.16" data-time-end="203.934"><span>And thus for n items, </span></span><span class="transcription-time-part" data-time-start="203.934" data-time-end="205.87"><span>all the buckets would be empty </span></span><span class="transcription-time-part" data-time-start="205.87" data-time-end="207.204"><span>except bucket number 3, </span></span><span class="transcription-time-part" data-time-start="207.204" data-time-end="208.914"><span>and that would have all n items. </span></span><span class="transcription-time-part" data-time-start="208.914" data-time-end="211.93"><span>And because we, we assume that we </span></span><span class="transcription-time-part" data-time-start="211.93" data-time-end="212.86"><span>usually assume we have </span></span><span class="transcription-time-part" data-time-start="212.86" data-time-end="213.85"><span>a reasonable hash function </span></span><span class="transcription-time-part" data-time-start="213.85" data-time-end="216.054"><span>that's distributing things reasonably. </span></span><span class="transcription-time-part" data-time-start="216.054" data-time-end="218.094"><span>We're going to have this, this, </span></span><span class="transcription-time-part" data-time-start="218.094" data-time-end="220.179"><span>this order n lookup </span></span><span class="transcription-time-part" data-time-start="220.179" data-time-end="221.259"><span>because we're going to be traversing </span></span><span class="transcription-time-part" data-time-start="221.259" data-time-end="223.21"><span>a really long linked list in bucket </span></span><span class="transcription-time-part" data-time-start="223.21" data-time-end="224.26"><span>three because we're always </span></span><span class="transcription-time-part" data-time-start="224.26" data-time-end="225.865"><span>looking in bucket three. </span></span><span class="transcription-time-part" data-time-start="225.865" data-time-end="230.484"><span>So our assumptions are generally going to be </span></span><span class="transcription-time-part" data-time-start="230.484" data-time-end="232.36"><span>any reasonable hash function is going </span></span><span class="transcription-time-part" data-time-start="232.36" data-time-end="236.079"><span>to produce a uniformly distributed values. </span></span><span class="transcription-time-part" data-time-start="236.079" data-time-end="240.924"><span>Now, we also, of course, </span></span><span class="transcription-time-part" data-time-start="240.924" data-time-end="242.694"><span>want the hash function </span></span><span class="transcription-time-part" data-time-start="242.694" data-time-end="246.249"><span>to compute its integer value cheaply. </span></span><span class="transcription-time-part" data-time-start="246.249" data-time-end="248.994"><span>So the hash function should also be </span></span><span class="transcription-time-part" data-time-start="248.994" data-time-end="253.57"><span>changing, right? </span></span><span class="transcription-time-part" data-time-start="253.57" data-time-end="257.38"><span>If it takes the hash function a long time to, </span></span><span class="transcription-time-part" data-time-start="257.38" data-time-end="260.799"><span>to compute what bucket something belongs in, </span></span><span class="transcription-time-part" data-time-start="260.799" data-time-end="263.17"><span>then you start losing the benefits </span></span><span class="transcription-time-part" data-time-start="263.17" data-time-end="265.51"><span>of a hash function over say, a, </span></span><span class="transcription-time-part" data-time-start="265.51" data-time-end="267.43"><span>just an unsorted vector, </span></span><span class="transcription-time-part" data-time-start="267.43" data-time-end="269.2"><span>or maybe even a binary search tree </span></span><span class="transcription-time-part" data-time-start="269.2" data-time-end="270.745"><span>or wherever a certain case. </span></span><span class="transcription-time-part" data-time-start="270.745" data-time-end="272.724"><span>So, so basically, </span></span><span class="transcription-time-part" data-time-start="272.724" data-time-end="274.239"><span>the longer it takes the hash </span></span><span class="transcription-time-part" data-time-start="274.239" data-time-end="275.305"><span>function to copy things, </span></span><span class="transcription-time-part" data-time-start="275.305" data-time-end="277.149"><span>well then maybe you're not going to be in </span></span><span class="transcription-time-part" data-time-start="277.149" data-time-end="281.039"><span>a great advantage anymore in producing. </span></span><span class="transcription-time-part" data-time-start="281.039" data-time-end="283.16"><span>And being able to insert, delete </span></span><span class="transcription-time-part" data-time-start="283.16" data-time-end="284.3"><span>and look up your items quickly </span></span><span class="transcription-time-part" data-time-start="284.3" data-time-end="285.44"><span>because it's taking too </span></span><span class="transcription-time-part" data-time-start="285.44" data-time-end="286.97"><span>long to figure out what bucket a set. </span></span><span class="transcription-time-part" data-time-start="286.97" data-time-end="289.114"><span>Yeah, the bucket might be might be small, </span></span><span class="transcription-time-part" data-time-start="289.114" data-time-end="289.789"><span>but if it takes you </span></span><span class="transcription-time-part" data-time-start="289.789" data-time-end="290.929"><span>a really long time to find </span></span><span class="transcription-time-part" data-time-start="290.929" data-time-end="292.939"><span>it for the number of items you have. </span></span><span class="transcription-time-part" data-time-start="292.939" data-time-end="293.209"><span>Maybe </span></span><span class="transcription-time-part" data-time-start="293.209" data-time-end="295.46"><span>some other data structure would be faster. </span></span><span class="transcription-time-part" data-time-start="295.46" data-time-end="299.584"><span>Now some people started thinking, well, </span></span><span class="transcription-time-part" data-time-start="299.584" data-time-end="301.999"><span>if I want something cheap that, </span></span><span class="transcription-time-part" data-time-start="301.999" data-time-end="303.32"><span>that distributes things </span></span><span class="transcription-time-part" data-time-start="303.32" data-time-end="305.105"><span>evenly over the buckets, </span></span><span class="transcription-time-part" data-time-start="305.105" data-time-end="306.41"><span>why don't we just use </span></span><span class="transcription-time-part" data-time-start="306.41" data-time-end="308.224"><span>the random number generator and, </span></span><span class="transcription-time-part" data-time-start="308.224" data-time-end="310.159"><span>and, and, you know, </span></span><span class="transcription-time-part" data-time-start="310.159" data-time-end="311.75"><span>libraries have random number </span></span><span class="transcription-time-part" data-time-start="311.75" data-time-end="312.859"><span>generators that can give us </span></span><span class="transcription-time-part" data-time-start="312.859" data-time-end="315.41"><span>a uniformly distributed random numbers I will </span></span><span class="transcription-time-part" data-time-start="315.41" data-time-end="316.73"><span>get me are uniform distribution </span></span><span class="transcription-time-part" data-time-start="316.73" data-time-end="318.56"><span>that they're relatively cheap to call. </span></span><span class="transcription-time-part" data-time-start="318.56" data-time-end="321.26"><span>Well, of course, that's kinda useless, right? </span></span><span class="transcription-time-part" data-time-start="321.26" data-time-end="322.835"><span>If, if. </span></span><span class="transcription-time-part" data-time-start="322.835" data-time-end="324.59"><span>We want to store a record </span></span><span class="transcription-time-part" data-time-start="324.59" data-time-end="326.42"><span>for student numbers three or </span></span><span class="transcription-time-part" data-time-start="326.42" data-time-end="331.009"><span>492684731 or whatever it is. </span></span><span class="transcription-time-part" data-time-start="331.009" data-time-end="333.169"><span>And we say, Okay, </span></span><span class="transcription-time-part" data-time-start="333.169" data-time-end="335.135"><span>we'll take that key. </span></span><span class="transcription-time-part" data-time-start="335.135" data-time-end="337.249"><span>We'll call our hash function, </span></span><span class="transcription-time-part" data-time-start="337.249" data-time-end="339.079"><span>which will have some randomness </span></span><span class="transcription-time-part" data-time-start="339.079" data-time-end="340.099"><span>to make sure </span></span><span class="transcription-time-part" data-time-start="340.099" data-time-end="341.464"><span>things are uniformly distributed. </span></span><span class="transcription-time-part" data-time-start="341.464" data-time-end="343.099"><span>And that tells us putting in </span></span><span class="transcription-time-part" data-time-start="343.099" data-time-end="345.334"><span>bucket number say 475. </span></span><span class="transcription-time-part" data-time-start="345.334" data-time-end="347.689"><span>So you couldn't put bucket number 475. </span></span><span class="transcription-time-part" data-time-start="347.689" data-time-end="351.74"><span>Now later on when we look it up and we, </span></span><span class="transcription-time-part" data-time-start="351.74" data-time-end="354.14"><span>we say, well, we've got this key. </span></span><span class="transcription-time-part" data-time-start="354.14" data-time-end="356.36"><span>What bucket should we look at? </span></span><span class="transcription-time-part" data-time-start="356.36" data-time-end="358.504"><span>If you give it to the hash function? </span></span><span class="transcription-time-part" data-time-start="358.504" data-time-end="361.505"><span>And it comes up with another random number </span></span><span class="transcription-time-part" data-time-start="361.505" data-time-end="364.64"><span>and works that into the computation and says, </span></span><span class="transcription-time-part" data-time-start="364.64" data-time-end="367.82"><span>Oh, here's, here's the, here's my result. </span></span><span class="transcription-time-part" data-time-start="367.82" data-time-end="370.234"><span>1479. </span></span><span class="transcription-time-part" data-time-start="370.234" data-time-end="374.33"><span>So we're going to go look in bucket 1479, </span></span><span class="transcription-time-part" data-time-start="374.33" data-time-end="375.86"><span>but that's not where we put the item. </span></span><span class="transcription-time-part" data-time-start="375.86" data-time-end="378.185"><span>So you've gotta get </span></span><span class="transcription-time-part" data-time-start="378.185" data-time-end="380.63"><span>the same result from the hash function. </span></span><span class="transcription-time-part" data-time-start="380.63" data-time-end="382.774"><span>And it almost seems kind of obvious, but, </span></span><span class="transcription-time-part" data-time-start="382.774" data-time-end="384.38"><span>but sometimes people get distracted by </span></span><span class="transcription-time-part" data-time-start="384.38" data-time-end="386.33"><span>this and thinking randomness comes into play. </span></span><span class="transcription-time-part" data-time-start="386.33" data-time-end="388.009"><span>Now, you've gotta get </span></span><span class="transcription-time-part" data-time-start="388.009" data-time-end="389.6"><span>the same value from </span></span><span class="transcription-time-part" data-time-start="389.6" data-time-end="391.579"><span>the hash function for the same, </span></span><span class="transcription-time-part" data-time-start="391.579" data-time-end="393.095"><span>if you give it the same key, </span></span><span class="transcription-time-part" data-time-start="393.095" data-time-end="395.105"><span>you'd better get the same value every time. </span></span><span class="transcription-time-part" data-time-start="395.105" data-time-end="397.61"><span>So that the value you got when you, </span></span><span class="transcription-time-part" data-time-start="397.61" data-time-end="399.559"><span>when you found out what bucket to </span></span><span class="transcription-time-part" data-time-start="399.559" data-time-end="401"><span>insert something in is </span></span><span class="transcription-time-part" data-time-start="401" data-time-end="402.289"><span>going to be the same value. </span></span><span class="transcription-time-part" data-time-start="402.289" data-time-end="403.49"><span>You're gonna get to tell you </span></span><span class="transcription-time-part" data-time-start="403.49" data-time-end="405.29"><span>where to look to find it later. </span></span><span class="transcription-time-part" data-time-start="405.29" data-time-end="408.239"><span>So it has to be deterministic. </span></span><span class="transcription-time-part" data-time-start="408.99" data-time-end="411.71"><span>In that sense. </span></span><span class="transcription-time-part" data-time-start="412.71" data-time-end="415.675"><span>For a particular key value, </span></span><span class="transcription-time-part" data-time-start="415.675" data-time-end="418.159"><span>you're always gonna get the same answer. </span></span><span class="transcription-time-part" data-time-start="418.86" data-time-end="420.549"><span>All right, and so </span></span><span class="transcription-time-part" data-time-start="420.549" data-time-end="421.809"><span>the hash functions we looked at have </span></span><span class="transcription-time-part" data-time-start="421.809" data-time-end="425.409"><span>that property, the, the, the, </span></span><span class="transcription-time-part" data-time-start="425.409" data-time-end="426.729"><span>the FN and F&amp;B one </span></span><span class="transcription-time-part" data-time-start="426.729" data-time-end="428.77"><span>algorithm for a given key is going to go </span></span><span class="transcription-time-part" data-time-start="428.77" data-time-end="429.49"><span>through a series of </span></span><span class="transcription-time-part" data-time-start="429.49" data-time-end="431.08"><span>computation on every character that </span></span><span class="transcription-time-part" data-time-start="431.08" data-time-end="432.159"><span>was the one that takes strings and </span></span><span class="transcription-time-part" data-time-start="432.159" data-time-end="433.675"><span>it gives you an int, </span></span><span class="transcription-time-part" data-time-start="433.675" data-time-end="434.379"><span>is going to go through </span></span><span class="transcription-time-part" data-time-start="434.379" data-time-end="436.419"><span>the same computation on it, on a string. </span></span><span class="transcription-time-part" data-time-start="436.419" data-time-end="437.709"><span>So if you give it the same string </span></span><span class="transcription-time-part" data-time-start="437.709" data-time-end="439.464"><span>later on to look something up later, </span></span><span class="transcription-time-part" data-time-start="439.464" data-time-end="441.295"><span>it's going to give the same results. </span></span><span class="transcription-time-part" data-time-start="441.295" data-time-end="443.964"><span>So there's no randomness there and, and, </span></span><span class="transcription-time-part" data-time-start="443.964" data-time-end="445.12"><span>and it's reasonably cheap </span></span><span class="transcription-time-part" data-time-start="445.12" data-time-end="447.62"><span>and that would make a good hash function. </span></span><span class="transcription-time-part" data-time-start="448.05" data-time-end="454.219"><span>Okay? So what I've kind of been put off, </span></span><span class="transcription-time-part" data-time-start="454.219" data-time-end="456.755"><span>putting off talking about is, </span></span><span class="transcription-time-part" data-time-start="456.755" data-time-end="461.18"><span>so what's the big O of these insert, </span></span><span class="transcription-time-part" data-time-start="461.18" data-time-end="462.964"><span>delete and lookup operations </span></span><span class="transcription-time-part" data-time-start="462.964" data-time-end="464.939"><span>for a hash function. </span></span><span class="transcription-time-part" data-time-start="465.64" data-time-end="470.885"><span>And let's see. </span></span><span class="transcription-time-part" data-time-start="470.885" data-time-end="474.289"><span>So again, if, </span></span><span class="transcription-time-part" data-time-start="474.289" data-time-end="476.449"><span>if I've inserted n items </span></span><span class="transcription-time-part" data-time-start="476.449" data-time-end="478.955"><span>into my hash, hash table, </span></span><span class="transcription-time-part" data-time-start="478.955" data-time-end="482.119"><span>so maybe here's an item here and here, </span></span><span class="transcription-time-part" data-time-start="482.119" data-time-end="486.2"><span>then I have here, one here, </span></span><span class="transcription-time-part" data-time-start="486.2" data-time-end="487.58"><span>and another item in this bucket </span></span><span class="transcription-time-part" data-time-start="487.58" data-time-end="489.604"><span>has three things. </span></span><span class="transcription-time-part" data-time-start="489.604" data-time-end="491.435"><span>In this bucket is empty. </span></span><span class="transcription-time-part" data-time-start="491.435" data-time-end="493.425"><span>Bucket has one thing in it. </span></span><span class="transcription-time-part" data-time-start="493.425" data-time-end="495.04"><span>I mean, it is bugging us a few things. </span></span><span class="transcription-time-part" data-time-start="495.04" data-time-end="498.625"><span>And again, </span></span><span class="transcription-time-part" data-time-start="498.625" data-time-end="500.559"><span>let me just take this opportunity to, </span></span><span class="transcription-time-part" data-time-start="500.559" data-time-end="503.019"><span>to, to say again, </span></span><span class="transcription-time-part" data-time-start="503.019" data-time-end="507.175"><span>always, always, always expect collisions. </span></span><span class="transcription-time-part" data-time-start="507.175" data-time-end="510.699"><span>It, it's almost invariable that </span></span><span class="transcription-time-part" data-time-start="510.699" data-time-end="513.865"><span>there will be two different keys that </span></span><span class="transcription-time-part" data-time-start="513.865" data-time-end="517.389"><span>the hash function will either produce </span></span><span class="transcription-time-part" data-time-start="517.389" data-time-end="519.085"><span>the same value for </span></span><span class="transcription-time-part" data-time-start="519.085" data-time-end="521.65"><span>or might produce different values. </span></span><span class="transcription-time-part" data-time-start="521.65" data-time-end="522.88"><span>But when you reduce them to </span></span><span class="transcription-time-part" data-time-start="522.88" data-time-end="524.454"><span>the number of buckets you have, </span></span><span class="transcription-time-part" data-time-start="524.454" data-time-end="526.765"><span>you end up in the same bucket. </span></span><span class="transcription-time-part" data-time-start="526.765" data-time-end="529.06"><span>And that's true even if </span></span><span class="transcription-time-part" data-time-start="529.06" data-time-end="531.909"><span>your load factor is less than one. </span></span><span class="transcription-time-part" data-time-start="531.909" data-time-end="534.23"><span>Remember the load factor </span></span><span class="transcription-time-part" data-time-start="536.49" data-time-end="538.6"><span>as the number of </span></span><span class="transcription-time-part" data-time-start="538.6" data-time-end="543.859"><span>items divided by the number of buckets. </span></span><span class="transcription-time-part" data-time-start="545.55" data-time-end="548.575"><span>So even if your load factor is very small, </span></span><span class="transcription-time-part" data-time-start="548.575" data-time-end="551.545"><span>let's say a load factor is 0.110%. </span></span><span class="transcription-time-part" data-time-start="551.545" data-time-end="554.05"><span>In other words, you have </span></span><span class="transcription-time-part" data-time-start="554.05" data-time-end="555.429"><span>ten times as many buckets as </span></span><span class="transcription-time-part" data-time-start="555.429" data-time-end="557.274"><span>you're ever going to put items in the table. </span></span><span class="transcription-time-part" data-time-start="557.274" data-time-end="558.85"><span>I already have items the table right now. </span></span><span class="transcription-time-part" data-time-start="558.85" data-time-end="561.07"><span>So if, if that's the case, </span></span><span class="transcription-time-part" data-time-start="561.07" data-time-end="563.11"><span>then, then at least 90 percent </span></span><span class="transcription-time-part" data-time-start="563.11" data-time-end="564.535"><span>of the buckets are empty. </span></span><span class="transcription-time-part" data-time-start="564.535" data-time-end="567.535"><span>And with a good uniform hash function, </span></span><span class="transcription-time-part" data-time-start="567.535" data-time-end="569.679"><span>you know, almost all </span></span><span class="transcription-time-part" data-time-start="569.679" data-time-end="570.489"><span>of the rest of them have </span></span><span class="transcription-time-part" data-time-start="570.489" data-time-end="572.154"><span>only one item and them. </span></span><span class="transcription-time-part" data-time-start="572.154" data-time-end="575.184"><span>But maybe just half </span></span><span class="transcription-time-part" data-time-start="575.184" data-time-end="576.879"><span>of the values and got in there, </span></span><span class="transcription-time-part" data-time-start="576.879" data-time-end="579.874"><span>two of them ended up hashing to this, </span></span><span class="transcription-time-part" data-time-start="579.874" data-time-end="581.24"><span>ending up being put in </span></span><span class="transcription-time-part" data-time-start="581.24" data-time-end="583.159"><span>the same bucket, that can still happen. </span></span><span class="transcription-time-part" data-time-start="583.159" data-time-end="585.304"><span>So never, never, never </span></span><span class="transcription-time-part" data-time-start="585.304" data-time-end="587.644"><span>assume that collisions won't happen. </span></span><span class="transcription-time-part" data-time-start="587.644" data-time-end="591.154"><span>Once you've found the right pocket. </span></span><span class="transcription-time-part" data-time-start="591.154" data-time-end="593.945"><span>If that book it's not empty. </span></span><span class="transcription-time-part" data-time-start="593.945" data-time-end="596.12"><span>You still have to say, well, </span></span><span class="transcription-time-part" data-time-start="596.12" data-time-end="597.95"><span>which of the items in that bucket is </span></span><span class="transcription-time-part" data-time-start="597.95" data-time-end="598.909"><span>the one I'm looking for is </span></span><span class="transcription-time-part" data-time-start="598.909" data-time-end="600.394"><span>actually the one I'm looking for. </span></span><span class="transcription-time-part" data-time-start="600.394" data-time-end="602.6"><span>Now if there's only one item, the bucket, </span></span><span class="transcription-time-part" data-time-start="602.6" data-time-end="604.609"><span>you still have to check because maybe you've </span></span><span class="transcription-time-part" data-time-start="604.609" data-time-end="606.815"><span>got a bad key value that happened to, </span></span><span class="transcription-time-part" data-time-start="606.815" data-time-end="609.08"><span>you know, it's not in the table, </span></span><span class="transcription-time-part" data-time-start="609.08" data-time-end="610.789"><span>but it does have to that bucket, </span></span><span class="transcription-time-part" data-time-start="610.789" data-time-end="612.229"><span>but it's not this value. </span></span><span class="transcription-time-part" data-time-start="612.229" data-time-end="613.999"><span>So you still need to check </span></span><span class="transcription-time-part" data-time-start="613.999" data-time-end="615.47"><span>and you might need to check more than one </span></span><span class="transcription-time-part" data-time-start="615.47" data-time-end="616.279"><span>because the bucket might </span></span><span class="transcription-time-part" data-time-start="616.279" data-time-end="617.18"><span>have more than one item </span></span><span class="transcription-time-part" data-time-start="617.18" data-time-end="619.1"><span>it okay, </span></span><span class="transcription-time-part" data-time-start="619.1" data-time-end="623.81"><span>anyway, so let's see. </span></span><span class="transcription-time-part" data-time-start="623.81" data-time-end="625.414"><span>So what's the growth pattern </span></span><span class="transcription-time-part" data-time-start="625.414" data-time-end="626.6"><span>as the number of </span></span><span class="transcription-time-part" data-time-start="626.6" data-time-end="629.219"><span>items in the hash table grows. </span></span><span class="transcription-time-part" data-time-start="629.86" data-time-end="632.36"><span>Now remember the load factor is the number </span></span><span class="transcription-time-part" data-time-start="632.36" data-time-end="634.024"><span>of items divided by the number of buckets, </span></span><span class="transcription-time-part" data-time-start="634.024" data-time-end="635.449"><span>assuming things are reasonably </span></span><span class="transcription-time-part" data-time-start="635.449" data-time-end="637.519"><span>uniformly distributed. </span></span><span class="transcription-time-part" data-time-start="637.519" data-time-end="639.77"><span>Now, the lists are </span></span><span class="transcription-time-part" data-time-start="639.77" data-time-end="641.96"><span>somewhat similar in length. </span></span><span class="transcription-time-part" data-time-start="641.96" data-time-end="644.24"><span>And certainly this will be the average </span></span><span class="transcription-time-part" data-time-start="644.24" data-time-end="645.74"><span>of all the lists less. </span></span><span class="transcription-time-part" data-time-start="645.74" data-time-end="648.844"><span>So the average number of items to look at, </span></span><span class="transcription-time-part" data-time-start="648.844" data-time-end="651.11"><span>we'd have to look at would </span></span><span class="transcription-time-part" data-time-start="651.11" data-time-end="653.765"><span>be essentially what the load factors. </span></span><span class="transcription-time-part" data-time-start="653.765" data-time-end="658.52"><span>Now, if we double the number of items. </span></span><span class="transcription-time-part" data-time-start="658.52" data-time-end="660.26"><span>So let's say in </span></span><span class="transcription-time-part" data-time-start="660.26" data-time-end="661.669"><span>our student database we </span></span><span class="transcription-time-part" data-time-start="661.669" data-time-end="663.379"><span>serve 40 thousand students. </span></span><span class="transcription-time-part" data-time-start="663.379" data-time-end="665.239"><span>We put 40 thousand students, </span></span><span class="transcription-time-part" data-time-start="665.239" data-time-end="666.41"><span>let's say in a bucket, in </span></span><span class="transcription-time-part" data-time-start="666.41" data-time-end="668"><span>a hash table with 10 thousand buckets. </span></span><span class="transcription-time-part" data-time-start="668" data-time-end="669.349"><span>So the load factors for </span></span><span class="transcription-time-part" data-time-start="669.349" data-time-end="670.909"><span>40 thousand divided by 10. </span></span><span class="transcription-time-part" data-time-start="670.909" data-time-end="672.979"><span>The average linked list, linked list is, </span></span><span class="transcription-time-part" data-time-start="672.979" data-time-end="676.055"><span>is, is, is for. </span></span><span class="transcription-time-part" data-time-start="676.055" data-time-end="678.769"><span>Let's say our program is popular enough </span></span><span class="transcription-time-part" data-time-start="678.769" data-time-end="681.32"><span>that Berkeley wants to get in the game. </span></span><span class="transcription-time-part" data-time-start="681.32" data-time-end="683.645"><span>So he said, Okay, fine, we can handle you to. </span></span><span class="transcription-time-part" data-time-start="683.645" data-time-end="685.055"><span>So we're going to add, </span></span><span class="transcription-time-part" data-time-start="685.055" data-time-end="687.155"><span>we're going to have 80 thousand students now </span></span><span class="transcription-time-part" data-time-start="687.155" data-time-end="689.569"><span>in our hash table, UCL ambergris. </span></span><span class="transcription-time-part" data-time-start="689.569" data-time-end="693.17"><span>Okay, so what women it, </span></span><span class="transcription-time-part" data-time-start="693.17" data-time-end="695.375"><span>we still have 10 thousand buckets </span></span><span class="transcription-time-part" data-time-start="695.375" data-time-end="697.31"><span>and now we have 80 thousand items, </span></span><span class="transcription-time-part" data-time-start="697.31" data-time-end="699.529"><span>twice as many items are. </span></span><span class="transcription-time-part" data-time-start="699.529" data-time-end="702.004"><span>Load factor is going to be twice as big. </span></span><span class="transcription-time-part" data-time-start="702.004" data-time-end="704.959"><span>If you keep the number of buckets fixed, </span></span><span class="transcription-time-part" data-time-start="704.959" data-time-end="707.974"><span>double the number of items. </span></span><span class="transcription-time-part" data-time-start="707.974" data-time-end="711.575"><span>Then our average linked lists blank doubles. </span></span><span class="transcription-time-part" data-time-start="711.575" data-time-end="714.41"><span>And so while the time to </span></span><span class="transcription-time-part" data-time-start="714.41" data-time-end="718.324"><span>compute the hash value is the same, </span></span><span class="transcription-time-part" data-time-start="718.324" data-time-end="720.44"><span>the number of elements in </span></span><span class="transcription-time-part" data-time-start="720.44" data-time-end="723.304"><span>the LinkedList we have to look at is doubled. </span></span><span class="transcription-time-part" data-time-start="723.304" data-time-end="725.509"><span>If we add ten times as many </span></span><span class="transcription-time-part" data-time-start="725.509" data-time-end="729.049"><span>items in the hash table, </span></span><span class="transcription-time-part" data-time-start="729.049" data-time-end="730.7"><span>the load fat and keep the </span></span><span class="transcription-time-part" data-time-start="730.7" data-time-end="731.93"><span>number of buckets fixed. </span></span><span class="transcription-time-part" data-time-start="731.93" data-time-end="735.08"><span>The number of goes up by a factor of 10. </span></span><span class="transcription-time-part" data-time-start="735.08" data-time-end="736.07"><span>So the load factor, </span></span><span class="transcription-time-part" data-time-start="736.07" data-time-end="737.315"><span>the average LinkedLists last, </span></span><span class="transcription-time-part" data-time-start="737.315" data-time-end="739.13"><span>LET linked list length </span></span><span class="transcription-time-part" data-time-start="739.13" data-time-end="741.514"><span>goes up by a factor of 10. </span></span><span class="transcription-time-part" data-time-start="741.514" data-time-end="744.53"><span>So that's order n. </span></span><span class="transcription-time-part" data-time-start="744.53" data-time-end="745.49"><span>That's it. </span></span><span class="transcription-time-part" data-time-start="745.49" data-time-end="746.374"><span>That's a linear related, </span></span><span class="transcription-time-part" data-time-start="746.374" data-time-end="747.995"><span>direct linear relationship. </span></span><span class="transcription-time-part" data-time-start="747.995" data-time-end="750.559"><span>So in fact, </span></span><span class="transcription-time-part" data-time-start="750.559" data-time-end="754.325"><span>a hash table with a fixed number of buckets. </span></span><span class="transcription-time-part" data-time-start="754.325" data-time-end="755.36"><span>For hash table with </span></span><span class="transcription-time-part" data-time-start="755.36" data-time-end="756.68"><span>a fixed number of buckets. </span></span><span class="transcription-time-part" data-time-start="756.68" data-time-end="758.36"><span>The big go for </span></span><span class="transcription-time-part" data-time-start="758.36" data-time-end="763.259"><span>insertion deletion lookups is order n. </span></span><span class="transcription-time-part" data-time-start="763.51" data-time-end="765.335"><span>Say, well, wait a minute. </span></span><span class="transcription-time-part" data-time-start="765.335" data-time-end="767.134"><span>And binary search trees are </span></span><span class="transcription-time-part" data-time-start="767.134" data-time-end="768.38"><span>order log n for those </span></span><span class="transcription-time-part" data-time-start="768.38" data-time-end="769.939"><span>operations if they're reasonably balanced. </span></span><span class="transcription-time-part" data-time-start="769.939" data-time-end="772.699"><span>So, so I'm log </span></span><span class="transcription-time-part" data-time-start="772.699" data-time-end="775.219"><span>n grows much more slowly than n. </span></span><span class="transcription-time-part" data-time-start="775.219" data-time-end="778.61"><span>Why would I even consider a hash table? </span></span><span class="transcription-time-part" data-time-start="778.61" data-time-end="783.209"><span>Well, let's see. </span></span><span class="transcription-time-part" data-time-start="788.89" data-time-end="791.599"><span>So let's say here's </span></span><span class="transcription-time-part" data-time-start="791.599" data-time-end="793.294"><span>the number of items our table, </span></span><span class="transcription-time-part" data-time-start="793.294" data-time-end="796.129"><span>and here's the number of steps, </span></span><span class="transcription-time-part" data-time-start="796.129" data-time-end="797.239"><span>the amount of time it takes </span></span><span class="transcription-time-part" data-time-start="797.239" data-time-end="799.279"><span>to, to do something with this. </span></span><span class="transcription-time-part" data-time-start="799.279" data-time-end="801.814"><span>Now, with a binary search tree, </span></span><span class="transcription-time-part" data-time-start="801.814" data-time-end="803.899"><span>our growth patterns log n. </span></span><span class="transcription-time-part" data-time-start="803.899" data-time-end="811.199"><span>So tenant grows up very, very slowly. </span></span><span class="transcription-time-part" data-time-start="811.54" data-time-end="813.38"><span>Very slowly. </span></span><span class="transcription-time-part" data-time-start="813.38" data-time-end="818.24"><span>It's it's it's, It's </span></span><span class="transcription-time-part" data-time-start="818.24" data-time-end="821.09"><span>much less than a and </span></span><span class="transcription-time-part" data-time-start="821.09" data-time-end="824.465"><span>it's growing very, very, very slowly. </span></span><span class="transcription-time-part" data-time-start="824.465" data-time-end="828.63"><span>Much less than like a straight line. </span></span><span class="transcription-time-part" data-time-start="829.87" data-time-end="831.499"><span>But wait a minute. </span></span><span class="transcription-time-part" data-time-start="831.499" data-time-end="834.56"><span>Now, I'm straight lines </span></span><span class="transcription-time-part" data-time-start="834.56" data-time-end="835.97"><span>come in a lot of slopes. </span></span><span class="transcription-time-part" data-time-start="835.97" data-time-end="839.375"><span>And the constant of proportionality for, for, </span></span><span class="transcription-time-part" data-time-start="839.375" data-time-end="842.375"><span>for the order n determinism </span></span><span class="transcription-time-part" data-time-start="842.375" data-time-end="844.685"><span>is essentially going to be the slope. </span></span><span class="transcription-time-part" data-time-start="844.685" data-time-end="851.224"><span>Now, yes, a hash table, we'll take, </span></span><span class="transcription-time-part" data-time-start="851.224" data-time-end="854.404"><span>take a length of time proportional to N, </span></span><span class="transcription-time-part" data-time-start="854.404" data-time-end="855.68"><span>because our linked lists </span></span><span class="transcription-time-part" data-time-start="855.68" data-time-end="858.469"><span>grow proportional to n. </span></span><span class="transcription-time-part" data-time-start="858.469" data-time-end="860.48"><span>But if I have </span></span><span class="transcription-time-part" data-time-start="860.48" data-time-end="865.46"><span>40 thousand items and 10 thousand buckets, </span></span><span class="transcription-time-part" data-time-start="865.46" data-time-end="867.154"><span>my average linked list, </span></span><span class="transcription-time-part" data-time-start="867.154" data-time-end="869.794"><span>linked list length is four. </span></span><span class="transcription-time-part" data-time-start="869.794" data-time-end="872.42"><span>It's one ten thousandth event. </span></span><span class="transcription-time-part" data-time-start="872.42" data-time-end="876.664"><span>So, so the number of items I look at is not, </span></span><span class="transcription-time-part" data-time-start="876.664" data-time-end="878.794"><span>you know, close to n. </span></span><span class="transcription-time-part" data-time-start="878.794" data-time-end="881.029"><span>It's actually one ten thousandth time. </span></span><span class="transcription-time-part" data-time-start="881.029" data-time-end="883.324"><span>In other words, </span></span><span class="transcription-time-part" data-time-start="883.324" data-time-end="884.839"><span>the slope of the line </span></span><span class="transcription-time-part" data-time-start="884.839" data-time-end="886.985"><span>is really, really shallow. </span></span><span class="transcription-time-part" data-time-start="886.985" data-time-end="894.315"><span>So, so my, my linear probe here is, is, </span></span><span class="transcription-time-part" data-time-start="894.315" data-time-end="899.06"><span>is very, very shallow lines or horizontal, </span></span><span class="transcription-time-part" data-time-start="899.06" data-time-end="900.47"><span>but it's not, it's, it's got a slope </span></span><span class="transcription-time-part" data-time-start="900.47" data-time-end="902.565"><span>of one over 10 thousand per day. </span></span><span class="transcription-time-part" data-time-start="902.565" data-time-end="907.24"><span>And so it grows faster than log n. </span></span><span class="transcription-time-part" data-time-start="907.24" data-time-end="909.61"><span>But n has to be pretty </span></span><span class="transcription-time-part" data-time-start="909.61" data-time-end="912.319"><span>large before it crosses over. </span></span><span class="transcription-time-part" data-time-start="913.08" data-time-end="915.475"><span>So for example, if, </span></span><span class="transcription-time-part" data-time-start="915.475" data-time-end="922.059"><span>if n is, let's say, </span></span><span class="transcription-time-part" data-time-start="922.059" data-time-end="924.249"><span>let's, let's say, let's say our log n, </span></span><span class="transcription-time-part" data-time-start="924.249" data-time-end="926.004"><span>log, log in as log base two of n. </span></span><span class="transcription-time-part" data-time-start="926.004" data-time-end="927.459"><span>If n is about sixty five </span></span><span class="transcription-time-part" data-time-start="927.459" data-time-end="930.939"><span>thousand and ten thousand buckets, </span></span><span class="transcription-time-part" data-time-start="930.939" data-time-end="935.155"><span>one ten thousandth of 65 thousand is 6.5. </span></span><span class="transcription-time-part" data-time-start="935.155" data-time-end="938.829"><span>Log base two of 65 thousand is 16. </span></span><span class="transcription-time-part" data-time-start="938.829" data-time-end="940.78"><span>So our binary search tree </span></span><span class="transcription-time-part" data-time-start="940.78" data-time-end="942.699"><span>still going to look </span></span><span class="transcription-time-part" data-time-start="942.699" data-time-end="945.384"><span>at more nodes than our hash table. </span></span><span class="transcription-time-part" data-time-start="945.384" data-time-end="948.475"><span>On the other hand, if, </span></span><span class="transcription-time-part" data-time-start="948.475" data-time-end="952.705"><span>if we have, say, let's say if we have a, </span></span><span class="transcription-time-part" data-time-start="952.705" data-time-end="956.53"><span>a million items, one ten thousandth of a </span></span><span class="transcription-time-part" data-time-start="956.53" data-time-end="962.094"><span>million is what, a 100. </span></span><span class="transcription-time-part" data-time-start="962.094" data-time-end="967.135"><span>Whereas log base two of a million is 200. </span></span><span class="transcription-time-part" data-time-start="967.135" data-time-end="968.545"><span>So the hash tables worse than </span></span><span class="transcription-time-part" data-time-start="968.545" data-time-end="969.91"><span>about five times as many notes </span></span><span class="transcription-time-part" data-time-start="969.91" data-time-end="970.764"><span>have to be looked at. </span></span><span class="transcription-time-part" data-time-start="970.764" data-time-end="972.699"><span>So there's a crossover point somewhere </span></span><span class="transcription-time-part" data-time-start="972.699" data-time-end="975.624"><span>between, between 65,000 million. </span></span><span class="transcription-time-part" data-time-start="975.624" data-time-end="976.48"><span>You can figure out where </span></span><span class="transcription-time-part" data-time-start="976.48" data-time-end="977.799"><span>the crossover point with big. </span></span><span class="transcription-time-part" data-time-start="977.799" data-time-end="979.239"><span>So the point is that, </span></span><span class="transcription-time-part" data-time-start="979.239" data-time-end="981.265"><span>that while the, the, </span></span><span class="transcription-time-part" data-time-start="981.265" data-time-end="982.599"><span>the login function is growing </span></span><span class="transcription-time-part" data-time-start="982.599" data-time-end="984.054"><span>slower than the line, </span></span><span class="transcription-time-part" data-time-start="984.054" data-time-end="987.179"><span>it might take a really large and before five. </span></span><span class="transcription-time-part" data-time-start="987.179" data-time-end="988.009"><span>See that? </span></span><span class="transcription-time-part" data-time-start="988.009" data-time-end="989.675"><span>Yes, the line is, </span></span><span class="transcription-time-part" data-time-start="989.675" data-time-end="991.4"><span>is the linear term </span></span><span class="transcription-time-part" data-time-start="991.4" data-time-end="993.979"><span>is going to give </span></span><span class="transcription-time-part" data-time-start="993.979" data-time-end="996.245"><span>us a bigger number than this login growth. </span></span><span class="transcription-time-part" data-time-start="996.245" data-time-end="997.459"><span>Growth is going. </span></span><span class="transcription-time-part" data-time-start="997.459" data-time-end="999.214"><span>And from this point on, the, </span></span><span class="transcription-time-part" data-time-start="999.214" data-time-end="1002.364"><span>the, the binary search tree would be better. </span></span><span class="transcription-time-part" data-time-start="1002.364" data-time-end="1004.57"><span>So the reason people use hash tables </span></span><span class="transcription-time-part" data-time-start="1004.57" data-time-end="1007.179"><span>is with an appropriate number </span></span><span class="transcription-time-part" data-time-start="1007.179" data-time-end="1009.979"><span>of buckets for the size of your data. </span></span><span class="transcription-time-part" data-time-start="1010.02" data-time-end="1012.46"><span>You may very well be able </span></span><span class="transcription-time-part" data-time-start="1012.46" data-time-end="1014.275"><span>to beat a binary search tree. </span></span><span class="transcription-time-part" data-time-start="1014.275" data-time-end="1016.165"><span>Now if you had to handle </span></span><span class="transcription-time-part" data-time-start="1016.165" data-time-end="1017.319"><span>much more data with </span></span><span class="transcription-time-part" data-time-start="1017.319" data-time-end="1018.834"><span>the same number of buckets, </span></span><span class="transcription-time-part" data-time-start="1018.834" data-time-end="1020.68"><span>then maybe it's going to end up, </span></span><span class="transcription-time-part" data-time-start="1020.68" data-time-end="1021.369"><span>it's going to be </span></span><span class="transcription-time-part" data-time-start="1021.369" data-time-end="1022.93"><span>worse than the binary search tree. </span></span><span class="transcription-time-part" data-time-start="1022.93" data-time-end="1026.154"><span>So the lesson here is, </span></span><span class="transcription-time-part" data-time-start="1026.154" data-time-end="1027.984"><span>let me just make a note of </span></span><span class="transcription-time-part" data-time-start="1027.984" data-time-end="1029.484"><span>what the bottom line there is. </span></span><span class="transcription-time-part" data-time-start="1029.484" data-time-end="1030.97"><span>So for a fixed number of </span></span><span class="transcription-time-part" data-time-start="1030.97" data-time-end="1032.559"><span>buckets as tables are </span></span><span class="transcription-time-part" data-time-start="1032.559" data-time-end="1033.879"><span>again, although of course, </span></span><span class="transcription-time-part" data-time-start="1033.879" data-time-end="1034.239"><span>assuming </span></span><span class="transcription-time-part" data-time-start="1034.239" data-time-end="1035.529"><span>a reasonably large number in the bucket, </span></span><span class="transcription-time-part" data-time-start="1035.529" data-time-end="1036.595"><span>It's a very small </span></span><span class="transcription-time-part" data-time-start="1036.595" data-time-end="1037.809"><span>constant of proportionality, </span></span><span class="transcription-time-part" data-time-start="1037.809" data-time-end="1039.189"><span>which makes it so attractive. </span></span><span class="transcription-time-part" data-time-start="1039.189" data-time-end="1041.229"><span>Okay, now I've been very careful to </span></span><span class="transcription-time-part" data-time-start="1041.229" data-time-end="1043.3"><span>say for a fixed number of buckets, </span></span><span class="transcription-time-part" data-time-start="1043.3" data-time-end="1044.829"><span>for a fixed number of buckets. </span></span><span class="transcription-time-part" data-time-start="1044.829" data-time-end="1046.99"><span>So, how can I </span></span><span class="transcription-time-part" data-time-start="1046.99" data-time-end="1049.51"><span>do better than this log n behavior? </span></span><span class="transcription-time-part" data-time-start="1049.51" data-time-end="1052.765"><span>And the answer would be, well, let's see. </span></span><span class="transcription-time-part" data-time-start="1052.765" data-time-end="1054.369"><span>The thing is, I want to </span></span><span class="transcription-time-part" data-time-start="1054.369" data-time-end="1057.189"><span>increase the number of items I have. </span></span><span class="transcription-time-part" data-time-start="1057.189" data-time-end="1059.785"><span>But I don't want the lead LinkedLists to </span></span><span class="transcription-time-part" data-time-start="1059.785" data-time-end="1062.89"><span>grow proportional to that. </span></span><span class="transcription-time-part" data-time-start="1062.89" data-time-end="1064.75"><span>So the only way to, </span></span><span class="transcription-time-part" data-time-start="1064.75" data-time-end="1066.34"><span>to keep that from happening is </span></span><span class="transcription-time-part" data-time-start="1066.34" data-time-end="1068.47"><span>also in some way </span></span><span class="transcription-time-part" data-time-start="1068.47" data-time-end="1071.034"><span>to be increasing the number of buckets. </span></span><span class="transcription-time-part" data-time-start="1071.034" data-time-end="1073.6"><span>Then if the number of buckets can increase, </span></span><span class="transcription-time-part" data-time-start="1073.6" data-time-end="1075.609"><span>that reduces the length of the linked list. </span></span><span class="transcription-time-part" data-time-start="1075.609" data-time-end="1076.959"><span>And so that can compensate </span></span><span class="transcription-time-part" data-time-start="1076.959" data-time-end="1078.655"><span>for an increase in the number of items. </span></span><span class="transcription-time-part" data-time-start="1078.655" data-time-end="1081.94"><span>So here's another approach. </span></span><span class="transcription-time-part" data-time-start="1081.94" data-time-end="1083.95"><span>And this is now the one that pretty </span></span><span class="transcription-time-part" data-time-start="1083.95" data-time-end="1087.399"><span>much everybody takes their landing, </span></span><span class="transcription-time-part" data-time-start="1087.399" data-time-end="1089.079"><span>any library is going to take </span></span><span class="transcription-time-part" data-time-start="1089.079" data-time-end="1091.734"><span>because it's generalized, it's really well. </span></span><span class="transcription-time-part" data-time-start="1091.734" data-time-end="1094.93"><span>And that is to </span></span><span class="transcription-time-part" data-time-start="1094.93" data-time-end="1098.77"><span>allow the number buckets to grow. </span></span><span class="transcription-time-part" data-time-start="1098.77" data-time-end="1100.33"><span>And the way we do that </span></span><span class="transcription-time-part" data-time-start="1100.33" data-time-end="1101.949"><span>and to figure out when to do it </span></span><span class="transcription-time-part" data-time-start="1101.949" data-time-end="1102.429"><span>because you don't want to </span></span><span class="transcription-time-part" data-time-start="1102.429" data-time-end="1103.314"><span>grow the number of buckets </span></span><span class="transcription-time-part" data-time-start="1103.314" data-time-end="1104.98"><span>every time because that has, </span></span><span class="transcription-time-part" data-time-start="1104.98" data-time-end="1106.794"><span>that somebody too costly. </span></span><span class="transcription-time-part" data-time-start="1106.794" data-time-end="1110.259"><span>We want that to be kinda rare. </span></span><span class="transcription-time-part" data-time-start="1110.259" data-time-end="1113.365"><span>So the idea is to specify </span></span><span class="transcription-time-part" data-time-start="1113.365" data-time-end="1117.43"><span>a maximum load factor we're going to allow. </span></span><span class="transcription-time-part" data-time-start="1117.43" data-time-end="1120.459"><span>So we'll never, will never allow </span></span><span class="transcription-time-part" data-time-start="1120.459" data-time-end="1123.31"><span>the loadFactor to exceed some maximum. </span></span><span class="transcription-time-part" data-time-start="1123.31" data-time-end="1125.8"><span>So let's say there's a, </span></span><span class="transcription-time-part" data-time-start="1125.8" data-time-end="1129.35"><span>we assume a fixed maximum load factor. </span></span><span class="transcription-time-part" data-time-start="1135.06" data-time-end="1137.74"><span>So let's say we never want </span></span><span class="transcription-time-part" data-time-start="1137.74" data-time-end="1141.099"><span>the load factor to be more than five. </span></span><span class="transcription-time-part" data-time-start="1141.099" data-time-end="1144.565"><span>Although actually what most people do is we, </span></span><span class="transcription-time-part" data-time-start="1144.565" data-time-end="1145.569"><span>on most machines we have </span></span><span class="transcription-time-part" data-time-start="1145.569" data-time-end="1146.62"><span>enough memory to have now, </span></span><span class="transcription-time-part" data-time-start="1146.62" data-time-end="1147.279"><span>so we don't, we have </span></span><span class="transcription-time-part" data-time-start="1147.279" data-time-end="1148.585"><span>some empty bucket is we don't care. </span></span><span class="transcription-time-part" data-time-start="1148.585" data-time-end="1149.98"><span>Let's say we never want the load </span></span><span class="transcription-time-part" data-time-start="1149.98" data-time-end="1151.36"><span>factor to be more than </span></span><span class="transcription-time-part" data-time-start="1151.36" data-time-end="1154.58"><span>0.7 or 0.75, something like that. </span></span><span class="transcription-time-part" data-time-start="1154.58" data-time-end="1157.585"><span>That seems to be a, a common choice. </span></span><span class="transcription-time-part" data-time-start="1157.585" data-time-end="1159.7"><span>So here's the idea. </span></span><span class="transcription-time-part" data-time-start="1159.7" data-time-end="1161.529"><span>We start off with some initial number of </span></span><span class="transcription-time-part" data-time-start="1161.529" data-time-end="1169.81"><span>buckets and we can go ahead and add things. </span></span><span class="transcription-time-part" data-time-start="1169.81" data-time-end="1171.129"><span>Yeah, so, so we have </span></span><span class="transcription-time-part" data-time-start="1171.129" data-time-end="1172.809"><span>a certain number of buckets </span></span><span class="transcription-time-part" data-time-start="1172.809" data-time-end="1176.29"><span>and we have 0 items to begin with. </span></span><span class="transcription-time-part" data-time-start="1176.29" data-time-end="1177.79"><span>So our load factors are, </span></span><span class="transcription-time-part" data-time-start="1177.79" data-time-end="1180.565"><span>as we add items here, </span></span><span class="transcription-time-part" data-time-start="1180.565" data-time-end="1182.889"><span>are load factor increases. </span></span><span class="transcription-time-part" data-time-start="1182.889" data-time-end="1183.939"><span>As we're getting items </span></span><span class="transcription-time-part" data-time-start="1183.939" data-time-end="1186.2"><span>added into the hash table. </span></span><span class="transcription-time-part" data-time-start="1188.31" data-time-end="1189.909"><span>We have another one in </span></span><span class="transcription-time-part" data-time-start="1189.909" data-time-end="1192.099"><span>this bucket, and so on. </span></span><span class="transcription-time-part" data-time-start="1192.099" data-time-end="1197.36"><span>So let's say we were going to, </span></span><span class="transcription-time-part" data-time-start="1198.29" data-time-end="1200.25"><span>I have some more items here </span></span><span class="transcription-time-part" data-time-start="1200.25" data-time-end="1203.71"><span>for but I'm going to show next. </span></span><span class="transcription-time-part" data-time-start="1203.93" data-time-end="1205.229"><span>And so on. </span></span><span class="transcription-time-part" data-time-start="1205.229" data-time-end="1207.119"><span>So we have these various items </span></span><span class="transcription-time-part" data-time-start="1207.119" data-time-end="1208.589"><span>of these buckets are </span></span><span class="transcription-time-part" data-time-start="1208.589" data-time-end="1210.42"><span>getting taller and taller and </span></span><span class="transcription-time-part" data-time-start="1210.42" data-time-end="1212.415"><span>our load factors increasing. </span></span><span class="transcription-time-part" data-time-start="1212.415" data-time-end="1214.32"><span>And let's say we're now </span></span><span class="transcription-time-part" data-time-start="1214.32" data-time-end="1216.404"><span>about to insert something. </span></span><span class="transcription-time-part" data-time-start="1216.404" data-time-end="1219.51"><span>And if we do, the number of items </span></span><span class="transcription-time-part" data-time-start="1219.51" data-time-end="1222.584"><span>will be up raised by one. </span></span><span class="transcription-time-part" data-time-start="1222.584" data-time-end="1225.21"><span>And the, the quotient </span></span><span class="transcription-time-part" data-time-start="1225.21" data-time-end="1226.35"><span>of the number of items over </span></span><span class="transcription-time-part" data-time-start="1226.35" data-time-end="1228.029"><span>the number of buckets would </span></span><span class="transcription-time-part" data-time-start="1228.029" data-time-end="1230.745"><span>exceed our maximum load factor. </span></span><span class="transcription-time-part" data-time-start="1230.745" data-time-end="1237.164"><span>Okay? So, so what we're going to do, </span></span><span class="transcription-time-part" data-time-start="1237.164" data-time-end="1238.29"><span>since we don't want to see </span></span><span class="transcription-time-part" data-time-start="1238.29" data-time-end="1240.15"><span>that maximum load factor </span></span><span class="transcription-time-part" data-time-start="1240.15" data-time-end="1242.439"><span>is Bring it down </span></span><span class="transcription-time-part" data-time-start="1242.439" data-time-end="1244.045"><span>again so we can add more items. </span></span><span class="transcription-time-part" data-time-start="1244.045" data-time-end="1245.334"><span>And to bring it down, </span></span><span class="transcription-time-part" data-time-start="1245.334" data-time-end="1247.419"><span>we'll increase the number of buckets. </span></span><span class="transcription-time-part" data-time-start="1247.419" data-time-end="1252.514"><span>So suppose we do is we, </span></span><span class="transcription-time-part" data-time-start="1252.514" data-time-end="1254.004"><span>we say here's what we're doing. </span></span><span class="transcription-time-part" data-time-start="1254.004" data-time-end="1256.225"><span>This array of buckets. </span></span><span class="transcription-time-part" data-time-start="1256.225" data-time-end="1258.31"><span>Let's say we didn't </span></span><span class="transcription-time-part" data-time-start="1258.31" data-time-end="1259.719"><span>make that a fixed sized array. </span></span><span class="transcription-time-part" data-time-start="1259.719" data-time-end="1261.67"><span>It's a dynamically resizable array </span></span><span class="transcription-time-part" data-time-start="1261.67" data-time-end="1263.394"><span>or maybe some vectors along like that. </span></span><span class="transcription-time-part" data-time-start="1263.394" data-time-end="1266.05"><span>In other words, we </span></span><span class="transcription-time-part" data-time-start="1266.05" data-time-end="1268.78"><span>could allocate a new array and, </span></span><span class="transcription-time-part" data-time-start="1268.78" data-time-end="1270.459"><span>and do that step. </span></span><span class="transcription-time-part" data-time-start="1270.459" data-time-end="1272.619"><span>So here's what we do. If we're about </span></span><span class="transcription-time-part" data-time-start="1272.619" data-time-end="1273.819"><span>data item just going to put us </span></span><span class="transcription-time-part" data-time-start="1273.819" data-time-end="1275.574"><span>over our maximum load factor. </span></span><span class="transcription-time-part" data-time-start="1275.574" data-time-end="1282.619"><span>We allocate a larger number of buckets, </span></span><span class="transcription-time-part" data-time-start="1286.26" data-time-end="1289.329"><span>maybe twice as many </span></span><span class="transcription-time-part" data-time-start="1289.329" data-time-end="1291.834"><span>or 1.6 times as many or whatever. </span></span><span class="transcription-time-part" data-time-start="1291.834" data-time-end="1292.509"><span>Again, </span></span><span class="transcription-time-part" data-time-start="1292.509" data-time-end="1294.069"><span>experimentally determine what seems to be </span></span><span class="transcription-time-part" data-time-start="1294.069" data-time-end="1297.38"><span>reasonable at common choice is twice as many. </span></span><span class="transcription-time-part" data-time-start="1297.57" data-time-end="1300.37"><span>And we transfer the items over into that, </span></span><span class="transcription-time-part" data-time-start="1300.37" data-time-end="1302.439"><span>into the new buckets. </span></span><span class="transcription-time-part" data-time-start="1302.439" data-time-end="1305.094"><span>Now, generally, now of course, </span></span><span class="transcription-time-part" data-time-start="1305.094" data-time-end="1308.334"><span>you can't just simply say, </span></span><span class="transcription-time-part" data-time-start="1308.334" data-time-end="1310.179"><span>let's take all these, </span></span><span class="transcription-time-part" data-time-start="1310.179" data-time-end="1312.549"><span>these pointers and copy them into here. </span></span><span class="transcription-time-part" data-time-start="1312.549" data-time-end="1315.13"><span>So that, so that if </span></span><span class="transcription-time-part" data-time-start="1315.13" data-time-end="1318.22"><span>bucket number 4 contain these items, </span></span><span class="transcription-time-part" data-time-start="1318.22" data-time-end="1319.93"><span>bucket number 4 here </span></span><span class="transcription-time-part" data-time-start="1319.93" data-time-end="1321.624"><span>will contain the same items. </span></span><span class="transcription-time-part" data-time-start="1321.624" data-time-end="1325.899"><span>The reason is that if I take my key, I </span></span><span class="transcription-time-part" data-time-start="1325.899" data-time-end="1328.6"><span>Hash function which produces by integer. </span></span><span class="transcription-time-part" data-time-start="1328.6" data-time-end="1330.55"><span>And then that reduces it </span></span><span class="transcription-time-part" data-time-start="1330.55" data-time-end="1334.374"><span>to a range that's the number of buckets here. </span></span><span class="transcription-time-part" data-time-start="1334.374" data-time-end="1337.405"><span>Well, that same hash function </span></span><span class="transcription-time-part" data-time-start="1337.405" data-time-end="1339.804"><span>giving me an in at the same integer, </span></span><span class="transcription-time-part" data-time-start="1339.804" data-time-end="1343.405"><span>reduced to this many buckets </span></span><span class="transcription-time-part" data-time-start="1343.405" data-time-end="1345.805"><span>might not end up in the same bucket. </span></span><span class="transcription-time-part" data-time-start="1345.805" data-time-end="1347.605"><span>Maybe that item that would, that, </span></span><span class="transcription-time-part" data-time-start="1347.605" data-time-end="1348.699"><span>that wasn't bucket number four </span></span><span class="transcription-time-part" data-time-start="1348.699" data-time-end="1349.9"><span>here would end up in </span></span><span class="transcription-time-part" data-time-start="1349.9" data-time-end="1351.354"><span>some other bucket down here, </span></span><span class="transcription-time-part" data-time-start="1351.354" data-time-end="1352.869"><span>not the number four. </span></span><span class="transcription-time-part" data-time-start="1352.869" data-time-end="1354.79"><span>So you really have to, </span></span><span class="transcription-time-part" data-time-start="1354.79" data-time-end="1355.99"><span>you allocate your, your, </span></span><span class="transcription-time-part" data-time-start="1355.99" data-time-end="1357.879"><span>your, your bigger number of buckets. </span></span><span class="transcription-time-part" data-time-start="1357.879" data-time-end="1359.409"><span>You, you run through </span></span><span class="transcription-time-part" data-time-start="1359.409" data-time-end="1361.285"><span>all the items in the hash table. </span></span><span class="transcription-time-part" data-time-start="1361.285" data-time-end="1364.3"><span>And for each item in the hash table, you, </span></span><span class="transcription-time-part" data-time-start="1364.3" data-time-end="1366.549"><span>you compute the hash function for that, </span></span><span class="transcription-time-part" data-time-start="1366.549" data-time-end="1368.424"><span>reduced it to this many buckets, </span></span><span class="transcription-time-part" data-time-start="1368.424" data-time-end="1371.29"><span>and move the item over into the state, </span></span><span class="transcription-time-part" data-time-start="1371.29" data-time-end="1373.09"><span>into this other table on </span></span><span class="transcription-time-part" data-time-start="1373.09" data-time-end="1375.069"><span>now typically these are some kind of </span></span><span class="transcription-time-part" data-time-start="1375.069" data-time-end="1376.869"><span>late less the operations are really </span></span><span class="transcription-time-part" data-time-start="1376.869" data-time-end="1379.255"><span>just adjusting pointers, etc. </span></span><span class="transcription-time-part" data-time-start="1379.255" data-time-end="1381.205"><span>I will show it has actually </span></span><span class="transcription-time-part" data-time-start="1381.205" data-time-end="1382.765"><span>erasing the picture here </span></span><span class="transcription-time-part" data-time-start="1382.765" data-time-end="1384.325"><span>and putting it over here. </span></span><span class="transcription-time-part" data-time-start="1384.325" data-time-end="1386.199"><span>But what's probably really happening is </span></span><span class="transcription-time-part" data-time-start="1386.199" data-time-end="1387.67"><span>simply some pointers are getting </span></span><span class="transcription-time-part" data-time-start="1387.67" data-time-end="1389.094"><span>adjusted the day </span></span><span class="transcription-time-part" data-time-start="1389.094" data-time-end="1390.339"><span>that the note itself is sitting in </span></span><span class="transcription-time-part" data-time-start="1390.339" data-time-end="1391.99"><span>the same place of memory and how </span></span><span class="transcription-time-part" data-time-start="1391.99" data-time-end="1393.714"><span>it's hooked up is going to be different. </span></span><span class="transcription-time-part" data-time-start="1393.714" data-time-end="1396.714"><span>So, you know, maybe maybe this I am </span></span><span class="transcription-time-part" data-time-start="1396.714" data-time-end="1399.97"><span>rehash is too long over here. </span></span><span class="transcription-time-part" data-time-start="1399.97" data-time-end="1404.334"><span>And this one rehash is and logs over here. </span></span><span class="transcription-time-part" data-time-start="1404.334" data-time-end="1406.015"><span>And this one rehash </span></span><span class="transcription-time-part" data-time-start="1406.015" data-time-end="1407.604"><span>has and belongs over here. </span></span><span class="transcription-time-part" data-time-start="1407.604" data-time-end="1409.72"><span>And maybe this one R3 hashes and </span></span><span class="transcription-time-part" data-time-start="1409.72" data-time-end="1411.61"><span>actually collide once I was </span></span><span class="transcription-time-part" data-time-start="1411.61" data-time-end="1413.409"><span>over here and maybe this library </span></span><span class="transcription-time-part" data-time-start="1413.409" data-time-end="1415.855"><span>hashes and ends up over here and so on. </span></span><span class="transcription-time-part" data-time-start="1415.855" data-time-end="1417.939"><span>So, so essentially we transfer </span></span><span class="transcription-time-part" data-time-start="1417.939" data-time-end="1420.46"><span>all the nodes are here over to the new table. </span></span><span class="transcription-time-part" data-time-start="1420.46" data-time-end="1421.51"><span>So I won't show that, </span></span><span class="transcription-time-part" data-time-start="1421.51" data-time-end="1422.62"><span>I'll just assume happen. </span></span><span class="transcription-time-part" data-time-start="1422.62" data-time-end="1424.495"><span>And then once we got them all here, </span></span><span class="transcription-time-part" data-time-start="1424.495" data-time-end="1427.299"><span>just delete this, this array. </span></span><span class="transcription-time-part" data-time-start="1427.299" data-time-end="1432.354"><span>And here's our new collection of buckets. </span></span><span class="transcription-time-part" data-time-start="1432.354" data-time-end="1434.055"><span>Here's our new collection of buckets them </span></span><span class="transcription-time-part" data-time-start="1434.055" data-time-end="1436.359"><span>and the items have all been moved into there. </span></span><span class="transcription-time-part" data-time-start="1436.359" data-time-end="1437.889"><span>And now we can assert the </span></span><span class="transcription-time-part" data-time-start="1437.889" data-time-end="1439.074"><span>I and we were going to assert. </span></span><span class="transcription-time-part" data-time-start="1439.074" data-time-end="1441.07"><span>So that's basically hidden </span></span><span class="transcription-time-part" data-time-start="1441.07" data-time-end="1442.284"><span>inside the Insert Function. </span></span><span class="transcription-time-part" data-time-start="1442.284" data-time-end="1443.559"><span>The user never notices that </span></span><span class="transcription-time-part" data-time-start="1443.559" data-time-end="1445.645"><span>the from the call you, </span></span><span class="transcription-time-part" data-time-start="1445.645" data-time-end="1446.799"><span>you say insert, insert, </span></span><span class="transcription-time-part" data-time-start="1446.799" data-time-end="1448.509"><span>insert, insert, insert and certain, sir. </span></span><span class="transcription-time-part" data-time-start="1448.509" data-time-end="1449.709"><span>And somewhere along the way </span></span><span class="transcription-time-part" data-time-start="1449.709" data-time-end="1452.155"><span>maybe there was a rehash here. </span></span><span class="transcription-time-part" data-time-start="1452.155" data-time-end="1454.54"><span>So notice the rehash. </span></span><span class="transcription-time-part" data-time-start="1454.54" data-time-end="1456.475"><span>If we double the number of buckets, </span></span><span class="transcription-time-part" data-time-start="1456.475" data-time-end="1457.78"><span>it lets our, our </span></span><span class="transcription-time-part" data-time-start="1457.78" data-time-end="1459.699"><span>maximum load factor would say, </span></span><span class="transcription-time-part" data-time-start="1459.699" data-time-end="1463.78"><span>say for if we </span></span><span class="transcription-time-part" data-time-start="1463.78" data-time-end="1465.565"><span>double the number of buckets and, </span></span><span class="transcription-time-part" data-time-start="1465.565" data-time-end="1467.71"><span>and, and don't get add the new item. </span></span><span class="transcription-time-part" data-time-start="1467.71" data-time-end="1469.239"><span>We cut the, the, </span></span><span class="transcription-time-part" data-time-start="1469.239" data-time-end="1471.175"><span>the, the load factor half. </span></span><span class="transcription-time-part" data-time-start="1471.175" data-time-end="1472.42"><span>So if we had reached </span></span><span class="transcription-time-part" data-time-start="1472.42" data-time-end="1474.25"><span>for adding another item would, </span></span><span class="transcription-time-part" data-time-start="1474.25" data-time-end="1475.569"><span>would put us over the top. </span></span><span class="transcription-time-part" data-time-start="1475.569" data-time-end="1476.83"><span>So the average length, less </span></span><span class="transcription-time-part" data-time-start="1476.83" data-time-end="1478.75"><span>likely to be more, a little more than four. </span></span><span class="transcription-time-part" data-time-start="1478.75" data-time-end="1480.25"><span>We've just reduced the Aboriginals </span></span><span class="transcription-time-part" data-time-start="1480.25" data-time-end="1481.975"><span>liked to two by dividing by, </span></span><span class="transcription-time-part" data-time-start="1481.975" data-time-end="1483.58"><span>by doubling the number of buckets that, </span></span><span class="transcription-time-part" data-time-start="1483.58" data-time-end="1485.184"><span>that PESTLE factor in half. </span></span><span class="transcription-time-part" data-time-start="1485.184" data-time-end="1486.429"><span>And so now we've got plenty </span></span><span class="transcription-time-part" data-time-start="1486.429" data-time-end="1488.499"><span>of opportunity to add many more items. </span></span><span class="transcription-time-part" data-time-start="1488.499" data-time-end="1489.609"><span>Do we get up to four again, </span></span><span class="transcription-time-part" data-time-start="1489.609" data-time-end="1491.455"><span>and then we'll rehash again, et cetera. </span></span><span class="transcription-time-part" data-time-start="1491.455" data-time-end="1494.26"><span>So by hiding the BBB, </span></span><span class="transcription-time-part" data-time-start="1494.26" data-time-end="1496.36"><span>the rehashing, the insert function, </span></span><span class="transcription-time-part" data-time-start="1496.36" data-time-end="1497.979"><span>the user, you know, </span></span><span class="transcription-time-part" data-time-start="1497.979" data-time-end="1499.674"><span>programmatically doesn't see any, </span></span><span class="transcription-time-part" data-time-start="1499.674" data-time-end="1500.829"><span>doesn't see any, any, </span></span><span class="transcription-time-part" data-time-start="1500.829" data-time-end="1501.94"><span>any rehashing going on. </span></span><span class="transcription-time-part" data-time-start="1501.94" data-time-end="1503.41"><span>Just keep inserting and then </span></span><span class="transcription-time-part" data-time-start="1503.41" data-time-end="1505.729"><span>your hash table performs nicely. </span></span><span class="transcription-time-part" data-time-start="1505.95" data-time-end="1511.569"><span>Now, rarely though, while also expect. </span></span><span class="transcription-time-part" data-time-start="1511.569" data-time-end="1512.769"><span>So let me just talk about that from it. </span></span><span class="transcription-time-part" data-time-start="1512.769" data-time-end="1515.575"><span>So what would be the big O? </span></span><span class="transcription-time-part" data-time-start="1515.575" data-time-end="1517.239"><span>If we, instead of </span></span><span class="transcription-time-part" data-time-start="1517.239" data-time-end="1519.325"><span>having a fixed number of buckets, </span></span><span class="transcription-time-part" data-time-start="1519.325" data-time-end="1522.595"><span>we say have a fixed maximum load factor. </span></span><span class="transcription-time-part" data-time-start="1522.595" data-time-end="1528.459"><span>Well, if we have a fixed maximum load factor, </span></span><span class="transcription-time-part" data-time-start="1528.459" data-time-end="1530.304"><span>that's some constant like </span></span><span class="transcription-time-part" data-time-start="1530.304" data-time-end="1532.975"><span>0.7 or four or whatever. </span></span><span class="transcription-time-part" data-time-start="1532.975" data-time-end="1540.505"><span>And and if we, right, </span></span><span class="transcription-time-part" data-time-start="1540.505" data-time-end="1542.2"><span>So, so, so that, </span></span><span class="transcription-time-part" data-time-start="1542.2" data-time-end="1544.825"><span>that's constant and the, </span></span><span class="transcription-time-part" data-time-start="1544.825" data-time-end="1546.789"><span>that's also the average </span></span><span class="transcription-time-part" data-time-start="1546.789" data-time-end="1548.095"><span>list, linked list length. </span></span><span class="transcription-time-part" data-time-start="1548.095" data-time-end="1549.205"><span>So the average length, </span></span><span class="transcription-time-part" data-time-start="1549.205" data-time-end="1552.4"><span>list length is bounded by a constant. </span></span><span class="transcription-time-part" data-time-start="1552.4" data-time-end="1556.029"><span>Which means looking things </span></span><span class="transcription-time-part" data-time-start="1556.029" data-time-end="1559.225"><span>up is a constant time operation. </span></span><span class="transcription-time-part" data-time-start="1559.225" data-time-end="1562.599"><span>Not, not order and order one constant time, </span></span><span class="transcription-time-part" data-time-start="1562.599" data-time-end="1564.76"><span>because it'll always be. </span></span><span class="transcription-time-part" data-time-start="1564.76" data-time-end="1566.904"><span>Calculate the hash function, </span></span><span class="transcription-time-part" data-time-start="1566.904" data-time-end="1569.199"><span>go to that bucket and look in </span></span><span class="transcription-time-part" data-time-start="1569.199" data-time-end="1570.339"><span>a linked list of no </span></span><span class="transcription-time-part" data-time-start="1570.339" data-time-end="1572.44"><span>more than some constant length. </span></span><span class="transcription-time-part" data-time-start="1572.44" data-time-end="1573.939"><span>So, so the number of </span></span><span class="transcription-time-part" data-time-start="1573.939" data-time-end="1576.894"><span>operations is bounded by a, by a constant. </span></span><span class="transcription-time-part" data-time-start="1576.894" data-time-end="1580.464"><span>And that makes the lookups constant time. </span></span><span class="transcription-time-part" data-time-start="1580.464" data-time-end="1587.229"><span>Now, what about insertions? </span></span><span class="transcription-time-part" data-time-start="1587.229" data-time-end="1589.63"><span>Most of the time on </span></span><span class="transcription-time-part" data-time-start="1589.63" data-time-end="1592.78"><span>insert operation will be constant time. </span></span><span class="transcription-time-part" data-time-start="1592.78" data-time-end="1594.76"><span>Most of the time you're </span></span><span class="transcription-time-part" data-time-start="1594.76" data-time-end="1596.05"><span>not close to your load fact, </span></span><span class="transcription-time-part" data-time-start="1596.05" data-time-end="1597.369"><span>you're not at your load factor limit. </span></span><span class="transcription-time-part" data-time-start="1597.369" data-time-end="1599.004"><span>So most of the time there's room, </span></span><span class="transcription-time-part" data-time-start="1599.004" data-time-end="1600.999"><span>we'll just put it put it find </span></span><span class="transcription-time-part" data-time-start="1600.999" data-time-end="1601.93"><span>the right place inserted </span></span><span class="transcription-time-part" data-time-start="1601.93" data-time-end="1603.849"><span>there, that's constant time. </span></span><span class="transcription-time-part" data-time-start="1603.849" data-time-end="1608.365"><span>But every so often </span></span><span class="transcription-time-part" data-time-start="1608.365" data-time-end="1611.199"><span>on insert is going to put you over </span></span><span class="transcription-time-part" data-time-start="1611.199" data-time-end="1612.55"><span>the maximum load factor limit </span></span><span class="transcription-time-part" data-time-start="1612.55" data-time-end="1613.794"><span>if you allow it right now. </span></span><span class="transcription-time-part" data-time-start="1613.794" data-time-end="1616.69"><span>So we have to do a rehash and are, have, </span></span><span class="transcription-time-part" data-time-start="1616.69" data-time-end="1618.37"><span>having to do a rehash means </span></span><span class="transcription-time-part" data-time-start="1618.37" data-time-end="1620.5"><span>every node is being moved over somewhere. </span></span><span class="transcription-time-part" data-time-start="1620.5" data-time-end="1623.229"><span>So, so back rehash </span></span><span class="transcription-time-part" data-time-start="1623.229" data-time-end="1624.91"><span>is going to be an expensive operation, </span></span><span class="transcription-time-part" data-time-start="1624.91" data-time-end="1628"><span>basically a linear time operation, order n. </span></span><span class="transcription-time-part" data-time-start="1628" data-time-end="1631.734"><span>But it doesn't happen very often. </span></span><span class="transcription-time-part" data-time-start="1631.734" data-time-end="1634.51"><span>And in fact, if the new number of buckets is </span></span><span class="transcription-time-part" data-time-start="1634.51" data-time-end="1636.429"><span>some multiplicative factor of </span></span><span class="transcription-time-part" data-time-start="1636.429" data-time-end="1637.944"><span>the old number of buckets. </span></span><span class="transcription-time-part" data-time-start="1637.944" data-time-end="1645.039"><span>Then the you keep adding items and, </span></span><span class="transcription-time-part" data-time-start="1645.039" data-time-end="1647.169"><span>and, and every solve his time to rehash. </span></span><span class="transcription-time-part" data-time-start="1647.169" data-time-end="1649.089"><span>But now you have twice as long before it. </span></span><span class="transcription-time-part" data-time-start="1649.089" data-time-end="1650.544"><span>Let's say you double the number of buckets, </span></span><span class="transcription-time-part" data-time-start="1650.544" data-time-end="1652.21"><span>then you have twice as long, </span></span><span class="transcription-time-part" data-time-start="1652.21" data-time-end="1653.68"><span>more items as many times you could put </span></span><span class="transcription-time-part" data-time-start="1653.68" data-time-end="1655.33"><span>in before you have to rehash again, </span></span><span class="transcription-time-part" data-time-start="1655.33" data-time-end="1656.86"><span>then you have four times as long </span></span><span class="transcription-time-part" data-time-start="1656.86" data-time-end="1658.434"><span>to go before I have to rehash again </span></span><span class="transcription-time-part" data-time-start="1658.434" data-time-end="1659.98"><span>than eight times a so so </span></span><span class="transcription-time-part" data-time-start="1659.98" data-time-end="1661.869"><span>the the the occasions for </span></span><span class="transcription-time-part" data-time-start="1661.869" data-time-end="1664.044"><span>doing a rehash get rarer. </span></span><span class="transcription-time-part" data-time-start="1664.044" data-time-end="1667.219"><span>And error there, less and less frequent. </span></span><span class="transcription-time-part" data-time-start="1667.41" data-time-end="1671.979"><span>And on average, that makes </span></span><span class="transcription-time-part" data-time-start="1671.979" data-time-end="1676.374"><span>your insertion time constant. </span></span><span class="transcription-time-part" data-time-start="1676.374" data-time-end="1677.62"><span>It, as it turns out, you can do </span></span><span class="transcription-time-part" data-time-start="1677.62" data-time-end="1679.029"><span>the math and see that I can </span></span><span class="transcription-time-part" data-time-start="1679.029" data-time-end="1680.619"><span>sort of give a hand-wavy explanation </span></span><span class="transcription-time-part" data-time-start="1680.619" data-time-end="1681.73"><span>of why that is it. </span></span><span class="transcription-time-part" data-time-start="1681.73" data-time-end="1690.16"><span>But so, </span></span><span class="transcription-time-part" data-time-start="1690.16" data-time-end="1694.239"><span>so let's say here's n and here's our time. </span></span><span class="transcription-time-part" data-time-start="1694.239" data-time-end="1697.974"><span>And we go for awhile inserting items. </span></span><span class="transcription-time-part" data-time-start="1697.974" data-time-end="1699.67"><span>And we're, </span></span><span class="transcription-time-part" data-time-start="1699.67" data-time-end="1703.374"><span>we're, we're bounded by a constant here. </span></span><span class="transcription-time-part" data-time-start="1703.374" data-time-end="1708.64"><span>And then once we our maximum load factor, </span></span><span class="transcription-time-part" data-time-start="1708.64" data-time-end="1711.46"><span>the next time we insert something, </span></span><span class="transcription-time-part" data-time-start="1711.46" data-time-end="1713.65"><span>it has to, it has to take </span></span><span class="transcription-time-part" data-time-start="1713.65" data-time-end="1716.275"><span>the n items and move them to the new bucket. </span></span><span class="transcription-time-part" data-time-start="1716.275" data-time-end="1719.62"><span>So they'll be a spike </span></span><span class="transcription-time-part" data-time-start="1719.62" data-time-end="1720.489"><span>here because that's going to </span></span><span class="transcription-time-part" data-time-start="1720.489" data-time-end="1721.839"><span>be an expensive operation. </span></span><span class="transcription-time-part" data-time-start="1721.839" data-time-end="1727.855"><span>But now, I guess we can go for more items. </span></span><span class="transcription-time-part" data-time-start="1727.855" data-time-end="1729.729"><span>And then we have to insert, </span></span><span class="transcription-time-part" data-time-start="1729.729" data-time-end="1732.709"><span>we have to rehash twice as many items. </span></span><span class="transcription-time-part" data-time-start="1732.9" data-time-end="1735.039"><span>But now if you go twice as </span></span><span class="transcription-time-part" data-time-start="1735.039" data-time-end="1737.89"><span>long and then insert </span></span><span class="transcription-time-part" data-time-start="1737.89" data-time-end="1740.99"><span>four times as many items as originally. </span></span><span class="transcription-time-part" data-time-start="1743.13" data-time-end="1745.419"><span>But now if you go four times as </span></span><span class="transcription-time-part" data-time-start="1745.419" data-time-end="1747.19"><span>long and so on, </span></span><span class="transcription-time-part" data-time-start="1747.19" data-time-end="1748.69"><span>people were always fight </span></span><span class="transcription-time-part" data-time-start="1748.69" data-time-end="1751.015"><span>up here for eight times as high. </span></span><span class="transcription-time-part" data-time-start="1751.015" data-time-end="1755.919"><span>Okay, So, so most </span></span><span class="transcription-time-part" data-time-start="1755.919" data-time-end="1757.929"><span>of the operations are constant time, </span></span><span class="transcription-time-part" data-time-start="1757.929" data-time-end="1759.97"><span>but every so often there's an expensive one, </span></span><span class="transcription-time-part" data-time-start="1759.97" data-time-end="1761.815"><span>but it happens more and more rarely. </span></span><span class="transcription-time-part" data-time-start="1761.815" data-time-end="1765.054"><span>So what's the average, </span></span><span class="transcription-time-part" data-time-start="1765.054" data-time-end="1768.769"><span>what's the average insertion time? </span></span><span class="transcription-time-part" data-time-start="1768.84" data-time-end="1773.695"><span>My axis system. </span></span><span class="transcription-time-part" data-time-start="1773.695" data-time-end="1776.275"><span>So, so what's the average assertion top? </span></span><span class="transcription-time-part" data-time-start="1776.275" data-time-end="1779.65"><span>Well, it's essentially the area </span></span><span class="transcription-time-part" data-time-start="1779.65" data-time-end="1782.139"><span>under the curve divided by n. </span></span><span class="transcription-time-part" data-time-start="1782.139" data-time-end="1784.48"><span>There's lots of contributions </span></span><span class="transcription-time-part" data-time-start="1784.48" data-time-end="1785.8"><span>that one and then </span></span><span class="transcription-time-part" data-time-start="1785.8" data-time-end="1787.33"><span>a contribution to ban and </span></span><span class="transcription-time-part" data-time-start="1787.33" data-time-end="1789.445"><span>then more contributions of one. </span></span><span class="transcription-time-part" data-time-start="1789.445" data-time-end="1790.85"><span>I'm sorry. </span></span><span class="transcription-time-part" data-time-start="1793.83" data-time-end="1795.475"><span>I'm sorry. </span></span><span class="transcription-time-part" data-time-start="1795.475" data-time-end="1797.559"><span>Let's say this distance is x, </span></span><span class="transcription-time-part" data-time-start="1797.559" data-time-end="1799.45"><span>lots of contributions of x and </span></span><span class="transcription-time-part" data-time-start="1799.45" data-time-end="1802.269"><span>then x more staff </span></span><span class="transcription-time-part" data-time-start="1802.269" data-time-end="1803.499"><span>love contributions of x </span></span><span class="transcription-time-part" data-time-start="1803.499" data-time-end="1804.519"><span>and then two x steps and </span></span><span class="transcription-time-part" data-time-start="1804.519" data-time-end="1807.92"><span>lots about contributions of x by this 2, </span></span><span class="transcription-time-part" data-time-start="1808.08" data-time-end="1810.924"><span>1, so much contribution one rather. </span></span><span class="transcription-time-part" data-time-start="1810.924" data-time-end="1814.72"><span>And then to work it out, </span></span><span class="transcription-time-part" data-time-start="1814.72" data-time-end="1816.13"><span>this is map the area under </span></span><span class="transcription-time-part" data-time-start="1816.13" data-time-end="1817.54"><span>the curve divided by how </span></span><span class="transcription-time-part" data-time-start="1817.54" data-time-end="1820.465"><span>far you go is going to be big, the average. </span></span><span class="transcription-time-part" data-time-start="1820.465" data-time-end="1822.565"><span>Now how do I find the area under this curve? </span></span><span class="transcription-time-part" data-time-start="1822.565" data-time-end="1824.35"><span>Really easy. </span></span><span class="transcription-time-part" data-time-start="1824.35" data-time-end="1826.93"><span>See this, this tower here. </span></span><span class="transcription-time-part" data-time-start="1826.93" data-time-end="1828.969"><span>It's exactly the same height as this. </span></span><span class="transcription-time-part" data-time-start="1828.969" data-time-end="1831.529"><span>So let's knock over the tower. </span></span><span class="transcription-time-part" data-time-start="1835.71" data-time-end="1838.734"><span>And the area under </span></span><span class="transcription-time-part" data-time-start="1838.734" data-time-end="1840.97"><span>the black curve is </span></span><span class="transcription-time-part" data-time-start="1840.97" data-time-end="1842.574"><span>the same as the area under the blue curve. </span></span><span class="transcription-time-part" data-time-start="1842.574" data-time-end="1844.39"><span>Because I'm just knock this over here, </span></span><span class="transcription-time-part" data-time-start="1844.39" data-time-end="1846.07"><span>must be the same thing here because </span></span><span class="transcription-time-part" data-time-start="1846.07" data-time-end="1847.944"><span>this is just a size that is, </span></span><span class="transcription-time-part" data-time-start="1847.944" data-time-end="1850.224"><span>so knocking this over </span></span><span class="transcription-time-part" data-time-start="1850.224" data-time-end="1852.46"><span>the area under this part. </span></span><span class="transcription-time-part" data-time-start="1852.46" data-time-end="1853.599"><span>And this part is the </span></span><span class="transcription-time-part" data-time-start="1853.599" data-time-end="1854.89"><span>same as they are in this rectangle. </span></span><span class="transcription-time-part" data-time-start="1854.89" data-time-end="1856.99"><span>The area under the curve up to this point, </span></span><span class="transcription-time-part" data-time-start="1856.99" data-time-end="1858.459"><span>the blacker bump up to this point is the </span></span><span class="transcription-time-part" data-time-start="1858.459" data-time-end="1860.17"><span>same as the area under the blue curve. </span></span><span class="transcription-time-part" data-time-start="1860.17" data-time-end="1861.94"><span>In other words, age of the towers </span></span><span class="transcription-time-part" data-time-start="1861.94" data-time-end="1864.264"><span>knocks over it exactly fills the spot here. </span></span><span class="transcription-time-part" data-time-start="1864.264" data-time-end="1868.18"><span>So the area under </span></span><span class="transcription-time-part" data-time-start="1868.18" data-time-end="1870.459"><span>the black curve is </span></span><span class="transcription-time-part" data-time-start="1870.459" data-time-end="1872.529"><span>essentially this blue curve. </span></span><span class="transcription-time-part" data-time-start="1872.529" data-time-end="1874.959"><span>And so the average, </span></span><span class="transcription-time-part" data-time-start="1874.959" data-time-end="1877.78"><span>you have some number of items we </span></span><span class="transcription-time-part" data-time-start="1877.78" data-time-end="1881.244"><span>insert and is taking it out. </span></span><span class="transcription-time-part" data-time-start="1881.244" data-time-end="1884.62"><span>For almost all these two steps. </span></span><span class="transcription-time-part" data-time-start="1884.62" data-time-end="1887.049"><span>They all went, took 12 steps </span></span><span class="transcription-time-part" data-time-start="1887.049" data-time-end="1888.25"><span>here under the blue curve. </span></span><span class="transcription-time-part" data-time-start="1888.25" data-time-end="1890.799"><span>Well then, then that's to do with </span></span><span class="transcription-time-part" data-time-start="1890.799" data-time-end="1893.784"><span>the average is bounded by two. Constant time. </span></span><span class="transcription-time-part" data-time-start="1893.784" data-time-end="1896.049"><span>On average is constant time. </span></span><span class="transcription-time-part" data-time-start="1896.049" data-time-end="1900.02"><span>So, so that's good. </span></span><span class="transcription-time-part" data-time-start="1903.51" data-time-end="1907.659"><span>Now, clever innovation that, </span></span><span class="transcription-time-part" data-time-start="1907.659" data-time-end="1909.73"><span>that I can hash tables </span></span><span class="transcription-time-part" data-time-start="1909.73" data-time-end="1911.739"><span>had been around for quite some time and they </span></span><span class="transcription-time-part" data-time-start="1911.739" data-time-end="1913.239"><span>weren't thoroughly analyzed in </span></span><span class="transcription-time-part" data-time-start="1913.239" data-time-end="1916.134"><span>the sixties and seventies and, </span></span><span class="transcription-time-part" data-time-start="1916.134" data-time-end="1917.874"><span>and, and people started, </span></span><span class="transcription-time-part" data-time-start="1917.874" data-time-end="1920.304"><span>thought the books were closed on hash tables. </span></span><span class="transcription-time-part" data-time-start="1920.304" data-time-end="1922.689"><span>And then there was another clever idea that, </span></span><span class="transcription-time-part" data-time-start="1922.689" data-time-end="1924.159"><span>that people said, you know, </span></span><span class="transcription-time-part" data-time-start="1924.159" data-time-end="1926.11"><span>this idea that yeah, </span></span><span class="transcription-time-part" data-time-start="1926.11" data-time-end="1927.609"><span>on average is constant time but you know, </span></span><span class="transcription-time-part" data-time-start="1927.609" data-time-end="1930.67"><span>every so often you're going to do an insert, </span></span><span class="transcription-time-part" data-time-start="1930.67" data-time-end="1931.749"><span>you have to do a rehash and that's </span></span><span class="transcription-time-part" data-time-start="1931.749" data-time-end="1933.025"><span>going to take a long time. </span></span><span class="transcription-time-part" data-time-start="1933.025" data-time-end="1934.449"><span>You know what if this is sort of </span></span><span class="transcription-time-part" data-time-start="1934.449" data-time-end="1936.025"><span>a critical thing and you </span></span><span class="transcription-time-part" data-time-start="1936.025" data-time-end="1938.2"><span>don't want an insert </span></span><span class="transcription-time-part" data-time-start="1938.2" data-time-end="1940.64"><span>to possibly be really slow. </span></span><span class="transcription-time-part" data-time-start="1941.04" data-time-end="1945.159"><span>Can we somehow make </span></span><span class="transcription-time-part" data-time-start="1945.159" data-time-end="1948.504"><span>the BP average time actually really, </span></span><span class="transcription-time-part" data-time-start="1948.504" data-time-end="1952.24"><span>really pretty much an upper limit. </span></span><span class="transcription-time-part" data-time-start="1952.24" data-time-end="1954.205"><span>And so the clever thing was, </span></span><span class="transcription-time-part" data-time-start="1954.205" data-time-end="1958.255"><span>yeah, if you don't rehash all at once. </span></span><span class="transcription-time-part" data-time-start="1958.255" data-time-end="1962.184"><span>So so the idea here, </span></span><span class="transcription-time-part" data-time-start="1962.184" data-time-end="1964.849"><span>I'll get back to patient later. </span></span><span class="transcription-time-part" data-time-start="1968.4" data-time-end="1971.455"><span>The idea here would be something like this. </span></span><span class="transcription-time-part" data-time-start="1971.455" data-time-end="1974.08"><span>Again, we, we have </span></span><span class="transcription-time-part" data-time-start="1974.08" data-time-end="1977.629"><span>our allocate an array of buckets. </span></span><span class="transcription-time-part" data-time-start="1977.97" data-time-end="1980.26"><span>And each bucket has </span></span><span class="transcription-time-part" data-time-start="1980.26" data-time-end="1982.4"><span>some number of items in it. </span></span><span class="transcription-time-part" data-time-start="1986.07" data-time-end="1987.774"><span>And so on. </span></span><span class="transcription-time-part" data-time-start="1987.774" data-time-end="1990.385"><span>Somewhere empty, somewhere on items. </span></span><span class="transcription-time-part" data-time-start="1990.385" data-time-end="1991.54"><span>Couple. </span></span><span class="transcription-time-part" data-time-start="1991.54" data-time-end="1993.169"><span>Okay. </span></span><span class="transcription-time-part" data-time-start="1993.84" data-time-end="1997.315"><span>So let's say we're </span></span><span class="transcription-time-part" data-time-start="1997.315" data-time-end="1998.74"><span>at our load for our artwork, </span></span><span class="transcription-time-part" data-time-start="1998.74" data-time-end="2000.54"><span>we're just at our maximum load factor. </span></span><span class="transcription-time-part" data-time-start="2000.54" data-time-end="2002.73"><span>If we were to insert one more item, </span></span><span class="transcription-time-part" data-time-start="2002.73" data-time-end="2004.109"><span>it would put us over limit </span></span><span class="transcription-time-part" data-time-start="2004.109" data-time-end="2006"><span>of our maximum load factor. </span></span><span class="transcription-time-part" data-time-start="2006" data-time-end="2008.849"><span>So we're going to have to rehash. </span></span><span class="transcription-time-part" data-time-start="2008.849" data-time-end="2010.17"><span>So we're going to allocate </span></span><span class="transcription-time-part" data-time-start="2010.17" data-time-end="2012.459"><span>a larger number of buckets. </span></span><span class="transcription-time-part" data-time-start="2020.51" data-time-end="2023.265"><span>And the idea here is, </span></span><span class="transcription-time-part" data-time-start="2023.265" data-time-end="2025.815"><span>instead of, you know, </span></span><span class="transcription-time-part" data-time-start="2025.815" data-time-end="2027.959"><span>slowing everything down by now, </span></span><span class="transcription-time-part" data-time-start="2027.959" data-time-end="2029.67"><span>going through all these items </span></span><span class="transcription-time-part" data-time-start="2029.67" data-time-end="2030.719"><span>and rehashing lumen </span></span><span class="transcription-time-part" data-time-start="2030.719" data-time-end="2031.77"><span>here and add our new </span></span><span class="transcription-time-part" data-time-start="2031.77" data-time-end="2034.11"><span>item will do the following. </span></span><span class="transcription-time-part" data-time-start="2034.11" data-time-end="2036.6"><span>We'll add the new item to this, </span></span><span class="transcription-time-part" data-time-start="2036.6" data-time-end="2037.92"><span>this list of buckets. </span></span><span class="transcription-time-part" data-time-start="2037.92" data-time-end="2040.41"><span>So maybe attaches over here. </span></span><span class="transcription-time-part" data-time-start="2040.41" data-time-end="2044.624"><span>And then we will bring in some constant, </span></span><span class="transcription-time-part" data-time-start="2044.624" data-time-end="2046.364"><span>let's say five will bring in </span></span><span class="transcription-time-part" data-time-start="2046.364" data-time-end="2049.53"><span>five items from the old table. </span></span><span class="transcription-time-part" data-time-start="2049.53" data-time-end="2050.699"><span>And we'll rehash them </span></span><span class="transcription-time-part" data-time-start="2050.699" data-time-end="2052.635"><span>over and put them in the new table. </span></span><span class="transcription-time-part" data-time-start="2052.635" data-time-end="2055.77"><span>So we'll take five items, </span></span><span class="transcription-time-part" data-time-start="2055.77" data-time-end="2056.459"><span>maybe the first </span></span><span class="transcription-time-part" data-time-start="2056.459" data-time-end="2057.839"><span>five items when you encounter. </span></span><span class="transcription-time-part" data-time-start="2057.839" data-time-end="2059.7"><span>So maybe this one hashes here, </span></span><span class="transcription-time-part" data-time-start="2059.7" data-time-end="2064.559"><span>here, here, here, here. </span></span><span class="transcription-time-part" data-time-start="2064.559" data-time-end="2066.989"><span>So they've been removed from this list, </span></span><span class="transcription-time-part" data-time-start="2066.989" data-time-end="2068.789"><span>this list, and put </span></span><span class="transcription-time-part" data-time-start="2068.789" data-time-end="2071.02"><span>into the other list of buckets. </span></span><span class="transcription-time-part" data-time-start="2072.17" data-time-end="2074.489"><span>Okay? </span></span><span class="transcription-time-part" data-time-start="2074.489" data-time-end="2077.174"><span>And we leave it like this. </span></span><span class="transcription-time-part" data-time-start="2077.174" data-time-end="2079.95"><span>Now what happens is our, you know, </span></span><span class="transcription-time-part" data-time-start="2079.95" data-time-end="2082.049"><span>our lookup operation is now </span></span><span class="transcription-time-part" data-time-start="2082.049" data-time-end="2085.005"><span>going to have to look in two tables. </span></span><span class="transcription-time-part" data-time-start="2085.005" data-time-end="2088.44"><span>So we add, we asked to look something up. </span></span><span class="transcription-time-part" data-time-start="2088.44" data-time-end="2090.779"><span>You know, it might, well, </span></span><span class="transcription-time-part" data-time-start="2090.779" data-time-end="2092.22"><span>if it's actually keeping track of </span></span><span class="transcription-time-part" data-time-start="2092.22" data-time-end="2093.54"><span>how many items are here </span></span><span class="transcription-time-part" data-time-start="2093.54" data-time-end="2095.235"><span>and how many atoms are here. </span></span><span class="transcription-time-part" data-time-start="2095.235" data-time-end="2096.66"><span>It might say, let me </span></span><span class="transcription-time-part" data-time-start="2096.66" data-time-end="2098.324"><span>look at the bigger 1 first. </span></span><span class="transcription-time-part" data-time-start="2098.324" data-time-end="2100.769"><span>And if I find it that I founded here, </span></span><span class="transcription-time-part" data-time-start="2100.769" data-time-end="2101.939"><span>If not, then I'll look in </span></span><span class="transcription-time-part" data-time-start="2101.939" data-time-end="2103.244"><span>here and see if I find it here. </span></span><span class="transcription-time-part" data-time-start="2103.244" data-time-end="2105.014"><span>And if not, it's not in the table. </span></span><span class="transcription-time-part" data-time-start="2105.014" data-time-end="2107.43"><span>So, so now every time you </span></span><span class="transcription-time-part" data-time-start="2107.43" data-time-end="2109.694"><span>look something up while we're in the state, </span></span><span class="transcription-time-part" data-time-start="2109.694" data-time-end="2112.54"><span>it twice as long. </span></span><span class="transcription-time-part" data-time-start="2113.9" data-time-end="2115.98"><span>But anytime we make it, </span></span><span class="transcription-time-part" data-time-start="2115.98" data-time-end="2118.65"><span>and generally the lookup operations are </span></span><span class="transcription-time-part" data-time-start="2118.65" data-time-end="2120.15"><span>constant member functions so </span></span><span class="transcription-time-part" data-time-start="2120.15" data-time-end="2121.469"><span>they can't change the table. </span></span><span class="transcription-time-part" data-time-start="2121.469" data-time-end="2124.199"><span>But, but let's say </span></span><span class="transcription-time-part" data-time-start="2124.199" data-time-end="2126.809"><span>we do another insertion </span></span><span class="transcription-time-part" data-time-start="2126.809" data-time-end="2128.339"><span>or maybe we do a deletion, whatever. </span></span><span class="transcription-time-part" data-time-start="2128.339" data-time-end="2129.449"><span>But let's say it's an assertion, </span></span><span class="transcription-time-part" data-time-start="2129.449" data-time-end="2130.755"><span>we do another insertion. </span></span><span class="transcription-time-part" data-time-start="2130.755" data-time-end="2132.869"><span>So what we'll do is we'll insert it in </span></span><span class="transcription-time-part" data-time-start="2132.869" data-time-end="2140.17"><span>the new table and bring over five more. </span></span><span class="transcription-time-part" data-time-start="2142.16" data-time-end="2145.11"><span>So we bring over if I mourn </span></span><span class="transcription-time-part" data-time-start="2145.11" data-time-end="2147.405"><span>them here and here, </span></span><span class="transcription-time-part" data-time-start="2147.405" data-time-end="2152.049"><span>here, here, and here. </span></span><span class="transcription-time-part" data-time-start="2153.55" data-time-end="2156.245"><span>So, so the idea </span></span><span class="transcription-time-part" data-time-start="2156.245" data-time-end="2160.534"><span>is we don't rehash the whole table at once. </span></span><span class="transcription-time-part" data-time-start="2160.534" data-time-end="2162.769"><span>We spread the time of rehashing </span></span><span class="transcription-time-part" data-time-start="2162.769" data-time-end="2165.559"><span>the old table to the new table over time, </span></span><span class="transcription-time-part" data-time-start="2165.559" data-time-end="2167.03"><span>bringing over like five items at </span></span><span class="transcription-time-part" data-time-start="2167.03" data-time-end="2169.25"><span>a time anytime we do an insertion. </span></span><span class="transcription-time-part" data-time-start="2169.25" data-time-end="2174.44"><span>So eventually we're down </span></span><span class="transcription-time-part" data-time-start="2174.44" data-time-end="2175.865"><span>to the last function. </span></span><span class="transcription-time-part" data-time-start="2175.865" data-time-end="2177.759"><span>And when we eventually had moved over here, </span></span><span class="transcription-time-part" data-time-start="2177.759" data-time-end="2179.179"><span>next time we do an assert regard </span></span><span class="transcription-time-part" data-time-start="2179.179" data-time-end="2180.845"><span>another five and so on. </span></span><span class="transcription-time-part" data-time-start="2180.845" data-time-end="2184.084"><span>And eventually we do an insertion. </span></span><span class="transcription-time-part" data-time-start="2184.084" data-time-end="2186.35"><span>We bring over optimal </span></span><span class="transcription-time-part" data-time-start="2186.35" data-time-end="2187.91"><span>if there's only five or less rating, </span></span><span class="transcription-time-part" data-time-start="2187.91" data-time-end="2189.274"><span>bring laugh ones over. </span></span><span class="transcription-time-part" data-time-start="2189.274" data-time-end="2190.625"><span>And once we've done that, </span></span><span class="transcription-time-part" data-time-start="2190.625" data-time-end="2193.399"><span>we can replace that, get rid of this tape. </span></span><span class="transcription-time-part" data-time-start="2193.399" data-time-end="2196.449"><span>So, so this approach, </span></span><span class="transcription-time-part" data-time-start="2196.449" data-time-end="2200.919"><span>very clever is called incremental rehashing. </span></span><span class="transcription-time-part" data-time-start="2205.88" data-time-end="2210.434"><span>And the benefit is </span></span><span class="transcription-time-part" data-time-start="2210.434" data-time-end="2212.969"><span>you don't have </span></span><span class="transcription-time-part" data-time-start="2212.969" data-time-end="2216.06"><span>any particular insert operation being really, </span></span><span class="transcription-time-part" data-time-start="2216.06" data-time-end="2217.92"><span>really expensive because it's rehashing </span></span><span class="transcription-time-part" data-time-start="2217.92" data-time-end="2220.185"><span>everything all at once. </span></span><span class="transcription-time-part" data-time-start="2220.185" data-time-end="2223.17"><span>It's only doing five at a time. </span></span><span class="transcription-time-part" data-time-start="2223.17" data-time-end="2224.519"><span>The new one plus 55, more </span></span><span class="transcription-time-part" data-time-start="2224.519" data-time-end="2226.125"><span>than 66, six at a time. </span></span><span class="transcription-time-part" data-time-start="2226.125" data-time-end="2228.51"><span>And eventually has brought them all over. </span></span><span class="transcription-time-part" data-time-start="2228.51" data-time-end="2229.664"><span>So then it's just back to, </span></span><span class="transcription-time-part" data-time-start="2229.664" data-time-end="2231.42"><span>back to just doing the one for y. </span></span><span class="transcription-time-part" data-time-start="2231.42" data-time-end="2235.18"><span>So if you look at the graph there, </span></span><span class="transcription-time-part" data-time-start="2246.98" data-time-end="2249.45"><span>It's rather like this. </span></span><span class="transcription-time-part" data-time-start="2249.45" data-time-end="2251.19"><span>The first N items go into, </span></span><span class="transcription-time-part" data-time-start="2251.19" data-time-end="2253.485"><span>into the table as usual. </span></span><span class="transcription-time-part" data-time-start="2253.485" data-time-end="2256.17"><span>And then when we're </span></span><span class="transcription-time-part" data-time-start="2256.17" data-time-end="2258.554"><span>going to see the load factor, </span></span><span class="transcription-time-part" data-time-start="2258.554" data-time-end="2260.955"><span>will put in the new item </span></span><span class="transcription-time-part" data-time-start="2260.955" data-time-end="2263.174"><span>and bring over five more. </span></span><span class="transcription-time-part" data-time-start="2263.174" data-time-end="2268.11"><span>So we only go </span></span><span class="transcription-time-part" data-time-start="2268.11" data-time-end="2269.549"><span>up by a total of </span></span><span class="transcription-time-part" data-time-start="2269.549" data-time-end="2271.169"><span>six items here where I worked my way, </span></span><span class="transcription-time-part" data-time-start="2271.169" data-time-end="2272.789"><span>or six times the cost of inserting </span></span><span class="transcription-time-part" data-time-start="2272.789" data-time-end="2274.815"><span>one, dealing with one node. </span></span><span class="transcription-time-part" data-time-start="2274.815" data-time-end="2281.489"><span>And so that would cost that much. </span></span><span class="transcription-time-part" data-time-start="2281.489" data-time-end="2284.145"><span>And for awhile, </span></span><span class="transcription-time-part" data-time-start="2284.145" data-time-end="2285.839"><span>every time we do an assertion, </span></span><span class="transcription-time-part" data-time-start="2285.839" data-time-end="2287.565"><span>We're bringing five over more. </span></span><span class="transcription-time-part" data-time-start="2287.565" data-time-end="2290.25"><span>So it's going to be the same cost for awhile. </span></span><span class="transcription-time-part" data-time-start="2290.25" data-time-end="2293.714"><span>But once we've gone </span></span><span class="transcription-time-part" data-time-start="2293.714" data-time-end="2295.62"><span>now and bring it over five at a time, </span></span><span class="transcription-time-part" data-time-start="2295.62" data-time-end="2297.465"><span>then that's 1 fifth of them. </span></span><span class="transcription-time-part" data-time-start="2297.465" data-time-end="2302.895"><span>So, so 1 fifth of n time and more times, </span></span><span class="transcription-time-part" data-time-start="2302.895" data-time-end="2304.17"><span>1 fifth of this initial, </span></span><span class="transcription-time-part" data-time-start="2304.17" data-time-end="2306.78"><span>a number of times where </span></span><span class="transcription-time-part" data-time-start="2306.78" data-time-end="2309.21"><span>we're bringing over a bunch of new items. </span></span><span class="transcription-time-part" data-time-start="2309.21" data-time-end="2310.56"><span>And then after that we </span></span><span class="transcription-time-part" data-time-start="2310.56" data-time-end="2311.52"><span>get rid of the whole table. </span></span><span class="transcription-time-part" data-time-start="2311.52" data-time-end="2313.96"><span>And now our bins cheap again </span></span><span class="transcription-time-part" data-time-start="2314.42" data-time-end="2317.354"><span>until that one fills up. </span></span><span class="transcription-time-part" data-time-start="2317.354" data-time-end="2322.755"><span>So, you know, 1 fifth and 2AM. </span></span><span class="transcription-time-part" data-time-start="2322.755" data-time-end="2325.934"><span>I spawn, we are expensive. </span></span><span class="transcription-time-part" data-time-start="2325.934" data-time-end="2328.77"><span>Expensive, but we're bringing over five items </span></span><span class="transcription-time-part" data-time-start="2328.77" data-time-end="2329.88"><span>at a time plus adding the new </span></span><span class="transcription-time-part" data-time-start="2329.88" data-time-end="2331.2"><span>bar and then new one. </span></span><span class="transcription-time-part" data-time-start="2331.2" data-time-end="2336.929"><span>But then for, oh, actually I should. </span></span><span class="transcription-time-part" data-time-start="2336.929" data-time-end="2342.284"><span>Okay. But then for </span></span><span class="transcription-time-part" data-time-start="2342.284" data-time-end="2346.484"><span>the other forecast of the time is key, </span></span><span class="transcription-time-part" data-time-start="2346.484" data-time-end="2349.709"><span>and then it gets more expensive for awhile. </span></span><span class="transcription-time-part" data-time-start="2349.709" data-time-end="2351.855"><span>This twice than that, </span></span><span class="transcription-time-part" data-time-start="2351.855" data-time-end="2353.775"><span>but then for twice the length, etc. </span></span><span class="transcription-time-part" data-time-start="2353.775" data-time-end="2356.309"><span>So again, </span></span><span class="transcription-time-part" data-time-start="2356.309" data-time-end="2357.78"><span>overall we're inserting the </span></span><span class="transcription-time-part" data-time-start="2357.78" data-time-end="2358.829"><span>same number of items. </span></span><span class="transcription-time-part" data-time-start="2358.829" data-time-end="2361.169"><span>So the area under this curve is the </span></span><span class="transcription-time-part" data-time-start="2361.169" data-time-end="2364.095"><span>same as the area under my original curve. </span></span><span class="transcription-time-part" data-time-start="2364.095" data-time-end="2368.625"><span>But I did draw this to scale very well. </span></span><span class="transcription-time-part" data-time-start="2368.625" data-time-end="2371.279"><span>But the idea then is that, </span></span><span class="transcription-time-part" data-time-start="2371.279" data-time-end="2373.379"><span>oh yeah, No, I didn't draw it to scale. </span></span><span class="transcription-time-part" data-time-start="2373.379" data-time-end="2375.825"><span>You should be five times the size. </span></span><span class="transcription-time-part" data-time-start="2375.825" data-time-end="2377.2"><span>Sorry. </span></span><span class="transcription-time-part" data-time-start="2378.68" data-time-end="2380.399"><span>I was thinking that didn't </span></span><span class="transcription-time-part" data-time-start="2380.399" data-time-end="2381.419"><span>look like it was accounting for </span></span><span class="transcription-time-part" data-time-start="2381.419" data-time-end="2384.759"><span>all the areas, so on. </span></span><span class="transcription-time-part" data-time-start="2385.01" data-time-end="2388.45"><span>So about five times as high. </span></span><span class="transcription-time-part" data-time-start="2392.09" data-time-end="2396.849"><span>So I think if you took my original picture, </span></span><span class="transcription-time-part" data-time-start="2397.82" data-time-end="2403.17"><span>which are the spike on I'm not to scale here. </span></span><span class="transcription-time-part" data-time-start="2403.17" data-time-end="2404.459"><span>Never mind. I can't, I can't, </span></span><span class="transcription-time-part" data-time-start="2404.459" data-time-end="2405.545"><span>I can't compare the study. </span></span><span class="transcription-time-part" data-time-start="2405.545" data-time-end="2407.784"><span>I didn't really draw us to scale. </span></span><span class="transcription-time-part" data-time-start="2407.784" data-time-end="2409.549"><span>Well, my original picture, </span></span><span class="transcription-time-part" data-time-start="2409.549" data-time-end="2410.659"><span>you'd find the area </span></span><span class="transcription-time-part" data-time-start="2410.659" data-time-end="2411.845"><span>under the curves the same. </span></span><span class="transcription-time-part" data-time-start="2411.845" data-time-end="2412.76"><span>It's gotta be because it's </span></span><span class="transcription-time-part" data-time-start="2412.76" data-time-end="2413.93"><span>the same number of nodes. </span></span><span class="transcription-time-part" data-time-start="2413.93" data-time-end="2417.064"><span>We're, we're, we're moving and visiting. </span></span><span class="transcription-time-part" data-time-start="2417.064" data-time-end="2420.59"><span>But there is an upper bound, </span></span><span class="transcription-time-part" data-time-start="2420.59" data-time-end="2422.88"><span>a constant upper bound. </span></span><span class="transcription-time-part" data-time-start="2423.91" data-time-end="2433.4"><span>So, so no, </span></span><span class="transcription-time-part" data-time-start="2433.4" data-time-end="2436.534"><span>no individual insertion operation </span></span><span class="transcription-time-part" data-time-start="2436.534" data-time-end="2438.455"><span>is going to take </span></span><span class="transcription-time-part" data-time-start="2438.455" data-time-end="2440.809"><span>more than a constant amount of time. </span></span><span class="transcription-time-part" data-time-start="2440.809" data-time-end="2442.924"><span>And this will be great </span></span><span class="transcription-time-part" data-time-start="2442.924" data-time-end="2445.145"><span>for say, real-time applications. </span></span><span class="transcription-time-part" data-time-start="2445.145" data-time-end="2446.72"><span>Again, I always use the example </span></span><span class="transcription-time-part" data-time-start="2446.72" data-time-end="2448.355"><span>of the spacecraft that has to, </span></span><span class="transcription-time-part" data-time-start="2448.355" data-time-end="2452.179"><span>to keep track of incoming, incoming debris. </span></span><span class="transcription-time-part" data-time-start="2452.179" data-time-end="2453.47"><span>And maybe it's using </span></span><span class="transcription-time-part" data-time-start="2453.47" data-time-end="2454.7"><span>a hash table and 30-something </span></span><span class="transcription-time-part" data-time-start="2454.7" data-time-end="2457.325"><span>a hash table if you don't want this insert, </span></span><span class="transcription-time-part" data-time-start="2457.325" data-time-end="2458.84"><span>unfortunately right now and </span></span><span class="transcription-time-part" data-time-start="2458.84" data-time-end="2459.59"><span>this things coming at </span></span><span class="transcription-time-part" data-time-start="2459.59" data-time-end="2460.7"><span>me really fast to </span></span><span class="transcription-time-part" data-time-start="2460.7" data-time-end="2461.959"><span>be the one that's going to take, </span></span><span class="transcription-time-part" data-time-start="2461.959" data-time-end="2464.329"><span>you know, move all n items at one time. </span></span><span class="transcription-time-part" data-time-start="2464.329" data-time-end="2466.684"><span>So by having a fixed constant bound, </span></span><span class="transcription-time-part" data-time-start="2466.684" data-time-end="2468.32"><span>I can keep things in </span></span><span class="transcription-time-part" data-time-start="2468.32" data-time-end="2469.37"><span>a particular amount of time </span></span><span class="transcription-time-part" data-time-start="2469.37" data-time-end="2470.599"><span>and thus my algorithm, </span></span><span class="transcription-time-part" data-time-start="2470.599" data-time-end="2472.61"><span>I can test it, make sure I'll react in </span></span><span class="transcription-time-part" data-time-start="2472.61" data-time-end="2473.69"><span>the ten milliseconds I had </span></span><span class="transcription-time-part" data-time-start="2473.69" data-time-end="2474.98"><span>before this, this thing hits me. </span></span><span class="transcription-time-part" data-time-start="2474.98" data-time-end="2476.209"><span>So it has been wonderful </span></span><span class="transcription-time-part" data-time-start="2476.209" data-time-end="2477.439"><span>improvements of hash tables. </span></span><span class="transcription-time-part" data-time-start="2477.439" data-time-end="2479.194"><span>And again, </span></span><span class="transcription-time-part" data-time-start="2479.194" data-time-end="2482.179"><span>this incremental rehashing scheme </span></span><span class="transcription-time-part" data-time-start="2482.179" data-time-end="2484.205"><span>is now sorted. </span></span><span class="transcription-time-part" data-time-start="2484.205" data-time-end="2485.989"><span>The popular way that </span></span><span class="transcription-time-part" data-time-start="2485.989" data-time-end="2487.384"><span>hash tables are </span></span><span class="transcription-time-part" data-time-start="2487.384" data-time-end="2489.17"><span>implemented in many libraries, </span></span><span class="transcription-time-part" data-time-start="2489.17" data-time-end="2490.279"><span>not all, there are some that </span></span><span class="transcription-time-part" data-time-start="2490.279" data-time-end="2491.389"><span>still just, just say, </span></span><span class="transcription-time-part" data-time-start="2491.389" data-time-end="2493.045"><span>you know, when it's time to rehash, </span></span><span class="transcription-time-part" data-time-start="2493.045" data-time-end="2494.265"><span>It's been a slow down. </span></span><span class="transcription-time-part" data-time-start="2494.265" data-time-end="2495.239"><span>Your response times gonna </span></span><span class="transcription-time-part" data-time-start="2495.239" data-time-end="2496.259"><span>get slow because we got to spend </span></span><span class="transcription-time-part" data-time-start="2496.259" data-time-end="2497.1"><span>a lot time rehashing </span></span><span class="transcription-time-part" data-time-start="2497.1" data-time-end="2498.315"><span>before we respond to you. </span></span><span class="transcription-time-part" data-time-start="2498.315" data-time-end="2499.529"><span>But many of them do this </span></span><span class="transcription-time-part" data-time-start="2499.529" data-time-end="2501.404"><span>incrementally hashing scheme. </span></span><span class="transcription-time-part" data-time-start="2501.404" data-time-end="2505.109"><span>Okay? So bottom line here, </span></span><span class="transcription-time-part" data-time-start="2505.109" data-time-end="2508.56"><span>for a fixed maximum load factor, </span></span><span class="transcription-time-part" data-time-start="2508.56" data-time-end="2514.59"><span>the hash table operations are constant time. </span></span><span class="transcription-time-part" data-time-start="2514.59" data-time-end="2517.02"><span>Clarifying that for the original way I </span></span><span class="transcription-time-part" data-time-start="2517.02" data-time-end="2519.974"><span>set it for the non-incremental rehashing, </span></span><span class="transcription-time-part" data-time-start="2519.974" data-time-end="2522.329"><span>or it's order 1 on </span></span><span class="transcription-time-part" data-time-start="2522.329" data-time-end="2525.105"><span>average that is constant time. </span></span><span class="transcription-time-part" data-time-start="2525.105" data-time-end="2526.559"><span>For most rehash is, and </span></span><span class="transcription-time-part" data-time-start="2526.559" data-time-end="2527.895"><span>then once in a great while, </span></span><span class="transcription-time-part" data-time-start="2527.895" data-time-end="2528.929"><span>something that's order n, </span></span><span class="transcription-time-part" data-time-start="2528.929" data-time-end="2530.144"><span>but that's going to, </span></span><span class="transcription-time-part" data-time-start="2530.144" data-time-end="2531.6"><span>that's going to be rarer and rarer. </span></span><span class="transcription-time-part" data-time-start="2531.6" data-time-end="2532.29"><span>So it's going to be on </span></span><span class="transcription-time-part" data-time-start="2532.29" data-time-end="2534.03"><span>average constant time with </span></span><span class="transcription-time-part" data-time-start="2534.03" data-time-end="2536.309"><span>incremental rehash every operations </span></span><span class="transcription-time-part" data-time-start="2536.309" data-time-end="2537.84"><span>always bounded by a constant. </span></span><span class="transcription-time-part" data-time-start="2537.84" data-time-end="2539.43"><span>So you have that guarantee. </span></span><span class="transcription-time-part" data-time-start="2539.43" data-time-end="2541.47"><span>Let's see, have I said what I </span></span><span class="transcription-time-part" data-time-start="2541.47" data-time-end="2543.78"><span>wanted to say about hash tables. </span></span><span class="transcription-time-part" data-time-start="2543.78" data-time-end="2545.339"><span>Yes, I have. </span></span><span class="transcription-time-part" data-time-start="2545.339" data-time-end="2546.404"><span>Okay. </span></span><span class="transcription-time-part" data-time-start="2546.404" data-time-end="2550.004"><span>So again, summarizing the key takeaways. </span></span><span class="transcription-time-part" data-time-start="2550.004" data-time-end="2551.61"><span>Binary search trees </span></span><span class="transcription-time-part" data-time-start="2551.61" data-time-end="2554.024"><span>using reasonable algorithms </span></span><span class="transcription-time-part" data-time-start="2554.024" data-time-end="2556.26"><span>are order log n for </span></span><span class="transcription-time-part" data-time-start="2556.26" data-time-end="2559.139"><span>the operations. Hash tables. </span></span><span class="transcription-time-part" data-time-start="2559.139" data-time-end="2563.04"><span>Using reasonable algorithms and </span></span><span class="transcription-time-part" data-time-start="2563.04" data-time-end="2564.36"><span>everything are going to </span></span><span class="transcription-time-part" data-time-start="2564.36" data-time-end="2569.4"><span>be essentially allowing rehash is, </span></span><span class="transcription-time-part" data-time-start="2569.4" data-time-end="2570.059"><span>which is what </span></span><span class="transcription-time-part" data-time-start="2570.059" data-time-end="2571.59"><span>professionally done hash tables are going </span></span><span class="transcription-time-part" data-time-start="2571.59" data-time-end="2574.365"><span>to do is going to be a constant time. </span></span><span class="transcription-time-part" data-time-start="2574.365" data-time-end="2576.66"><span>So what's the reason for </span></span><span class="transcription-time-part" data-time-start="2576.66" data-time-end="2578.55"><span>not using hash tables all the time? </span></span><span class="transcription-time-part" data-time-start="2578.55" data-time-end="2580.71"><span>We'll look at that when I take a look at what </span></span><span class="transcription-time-part" data-time-start="2580.71" data-time-end="2582.329"><span>the C Plus Plus interface </span></span><span class="transcription-time-part" data-time-start="2582.329" data-time-end="2583.875"><span>towards these types are. </span></span><span class="transcription-time-part" data-time-start="2583.875" data-time-end="2585.479"><span>What I want to do now is </span></span><span class="transcription-time-part" data-time-start="2585.479" data-time-end="2587.399"><span>look at the C plus plus </span></span><span class="transcription-time-part" data-time-start="2587.399" data-time-end="2589.199"><span>libraries types that it makes </span></span><span class="transcription-time-part" data-time-start="2589.199" data-time-end="2590.909"><span>available to us and </span></span><span class="transcription-time-part" data-time-start="2590.909" data-time-end="2592.32"><span>that are related to these, </span></span><span class="transcription-time-part" data-time-start="2592.32" data-time-end="2594.885"><span>these data structures that offer us </span></span><span class="transcription-time-part" data-time-start="2594.885" data-time-end="2596.654"><span>reasonably quick look-ups, </span></span><span class="transcription-time-part" data-time-start="2596.654" data-time-end="2598.35"><span>insertions and deletions. </span></span><span class="transcription-time-part" data-time-start="2598.35" data-time-end="2600.09"><span>Let me see what we got. So just </span></span><span class="transcription-time-part" data-time-start="2600.09" data-time-end="2601.619"><span>before we started on hash table, </span></span><span class="transcription-time-part" data-time-start="2601.619" data-time-end="2602.94"><span>if I look at two types based </span></span><span class="transcription-time-part" data-time-start="2602.94" data-time-end="2604.32"><span>on binary search trees, </span></span><span class="transcription-time-part" data-time-start="2604.32" data-time-end="2605.85"><span>sets which are a collection of </span></span><span class="transcription-time-part" data-time-start="2605.85" data-time-end="2608.024"><span>items that doesn't allow duplicates. </span></span><span class="transcription-time-part" data-time-start="2608.024" data-time-end="2609.84"><span>And multiset, which is </span></span><span class="transcription-time-part" data-time-start="2609.84" data-time-end="2610.709"><span>a collection of items </span></span><span class="transcription-time-part" data-time-start="2610.709" data-time-end="2612.239"><span>that does allow duplicates. </span></span><span class="transcription-time-part" data-time-start="2612.239" data-time-end="2613.56"><span>Both of them are intended for </span></span><span class="transcription-time-part" data-time-start="2613.56" data-time-end="2615.149"><span>relatively quick insertions, </span></span><span class="transcription-time-part" data-time-start="2615.149" data-time-end="2616.754"><span>deletions and look-ups. </span></span><span class="transcription-time-part" data-time-start="2616.754" data-time-end="2618.389"><span>Now I want to continue with </span></span><span class="transcription-time-part" data-time-start="2618.389" data-time-end="2620.639"><span>two more tree-based pipe and then </span></span><span class="transcription-time-part" data-time-start="2620.639" data-time-end="2622.11"><span>we'll take a look at some </span></span><span class="transcription-time-part" data-time-start="2622.11" data-time-end="2623.414"><span>hash table based type. </span></span><span class="transcription-time-part" data-time-start="2623.414" data-time-end="2625.695"><span>Another useful type is a map. </span></span><span class="transcription-time-part" data-time-start="2625.695" data-time-end="2627.06"><span>So the map defines it. </span></span><span class="transcription-time-part" data-time-start="2627.06" data-time-end="2628.979"><span>Now a map is an association </span></span><span class="transcription-time-part" data-time-start="2628.979" data-time-end="2632.46"><span>between keys and values. </span></span><span class="transcription-time-part" data-time-start="2632.46" data-time-end="2634.44"><span>For example, we might have a map that maps </span></span><span class="transcription-time-part" data-time-start="2634.44" data-time-end="2637.214"><span>a person's name to their phone, </span></span><span class="transcription-time-part" data-time-start="2637.214" data-time-end="2638.745"><span>to a phone number. </span></span><span class="transcription-time-part" data-time-start="2638.745" data-time-end="2639.629"><span>Or it might absolutely. </span></span><span class="transcription-time-part" data-time-start="2639.629" data-time-end="2640.889"><span>It maps a person's name </span></span><span class="transcription-time-part" data-time-start="2640.889" data-time-end="2642.63"><span>to a list of </span></span><span class="transcription-time-part" data-time-start="2642.63" data-time-end="2645.12"><span>their phone numbers. Yeah, mobile phones. </span></span><span class="transcription-time-part" data-time-start="2645.12" data-time-end="2648.105"><span>Mobile phone numbers or something that maps, </span></span><span class="transcription-time-part" data-time-start="2648.105" data-time-end="2652.604"><span>say, a student ID number to a student record. </span></span><span class="transcription-time-part" data-time-start="2652.604" data-time-end="2654.449"><span>Or that Matt. </span></span><span class="transcription-time-part" data-time-start="2654.449" data-time-end="2657.54"><span>So again, there's a key </span></span><span class="transcription-time-part" data-time-start="2657.54" data-time-end="2659.52"><span>and an associated value with </span></span><span class="transcription-time-part" data-time-start="2659.52" data-time-end="2663.539"><span>And so for a map, </span></span><span class="transcription-time-part" data-time-start="2663.539" data-time-end="2666.269"><span>let's have a map, for example, 0. </span></span><span class="transcription-time-part" data-time-start="2666.269" data-time-end="2668.204"><span>So let me, let me pose this problem. </span></span><span class="transcription-time-part" data-time-start="2668.204" data-time-end="2670.779"><span>Let's say that. </span></span><span class="transcription-time-part" data-time-start="2672.41" data-time-end="2675.27"><span>Let's say I'm a generous fellow and I </span></span><span class="transcription-time-part" data-time-start="2675.27" data-time-end="2677.324"><span>lend people money, but I'm no fool. </span></span><span class="transcription-time-part" data-time-start="2677.324" data-time-end="2678.27"><span>I'm going to keep track of </span></span><span class="transcription-time-part" data-time-start="2678.27" data-time-end="2679.349"><span>how much money I've lent to </span></span><span class="transcription-time-part" data-time-start="2679.349" data-time-end="2680.879"><span>various people and so </span></span><span class="transcription-time-part" data-time-start="2680.879" data-time-end="2682.319"><span>I can get an accounting, </span></span><span class="transcription-time-part" data-time-start="2682.319" data-time-end="2683.744"><span>get them to pay me back later. </span></span><span class="transcription-time-part" data-time-start="2683.744" data-time-end="2686.519"><span>So so if I </span></span><span class="transcription-time-part" data-time-start="2686.519" data-time-end="2688.59"><span>were keeping track things on on paper, </span></span><span class="transcription-time-part" data-time-start="2688.59" data-time-end="2689.894"><span>I would do something like this. </span></span><span class="transcription-time-part" data-time-start="2689.894" data-time-end="2693.375"><span>If say, Fred borrows $10 for me, </span></span><span class="transcription-time-part" data-time-start="2693.375" data-time-end="2694.74"><span>I'll make a notation that </span></span><span class="transcription-time-part" data-time-start="2694.74" data-time-end="2696.869"><span>Fred is borrowed $10. </span></span><span class="transcription-time-part" data-time-start="2696.869" data-time-end="2700.08"><span>If ethyl ethyl come by and borrowed $5, </span></span><span class="transcription-time-part" data-time-start="2700.08" data-time-end="2701.34"><span>I'll make a notation that </span></span><span class="transcription-time-part" data-time-start="2701.34" data-time-end="2703.2"><span>ethyl has borrowed five gods. </span></span><span class="transcription-time-part" data-time-start="2703.2" data-time-end="2704.67"><span>She wasn't on the list already. </span></span><span class="transcription-time-part" data-time-start="2704.67" data-time-end="2706.71"><span>Now, if if Fred comes </span></span><span class="transcription-time-part" data-time-start="2706.71" data-time-end="2708.569"><span>by later and wants </span></span><span class="transcription-time-part" data-time-start="2708.569" data-time-end="2710.339"><span>to borrow three more dollars, </span></span><span class="transcription-time-part" data-time-start="2710.339" data-time-end="2712.259"><span>then I'll say I already </span></span><span class="transcription-time-part" data-time-start="2712.259" data-time-end="2714.315"><span>have an entry for Fred in my table. </span></span><span class="transcription-time-part" data-time-start="2714.315" data-time-end="2715.89"><span>So what I'll do is I'll, </span></span><span class="transcription-time-part" data-time-start="2715.89" data-time-end="2718.815"><span>I'll update the 10 and add three to it. </span></span><span class="transcription-time-part" data-time-start="2718.815" data-time-end="2720.45"><span>And now Fred owes me $13, </span></span><span class="transcription-time-part" data-time-start="2720.45" data-time-end="2721.319"><span>so I'm keeping track of how </span></span><span class="transcription-time-part" data-time-start="2721.319" data-time-end="2722.85"><span>much everybody owes me. </span></span><span class="transcription-time-part" data-time-start="2722.85" data-time-end="2727.98"><span>If if Lucy comes by and borrows $7, </span></span><span class="transcription-time-part" data-time-start="2727.98" data-time-end="2729.54"><span>then she's not in the table right now. </span></span><span class="transcription-time-part" data-time-start="2729.54" data-time-end="2733.139"><span>I'll make a new entry for Lucy and seven. </span></span><span class="transcription-time-part" data-time-start="2733.139" data-time-end="2735.87"><span>Okay, So, so basically I have </span></span><span class="transcription-time-part" data-time-start="2735.87" data-time-end="2736.89"><span>an association between </span></span><span class="transcription-time-part" data-time-start="2736.89" data-time-end="2739.094"><span>somebody's name and how much they owe me. </span></span><span class="transcription-time-part" data-time-start="2739.094" data-time-end="2744.07"><span>So let me maintain my IOU, IOU table. </span></span><span class="transcription-time-part" data-time-start="2744.26" data-time-end="2746.67"><span>In a map. </span></span><span class="transcription-time-part" data-time-start="2746.67" data-time-end="2750.539"><span>Let's say what I'm going to do is write </span></span><span class="transcription-time-part" data-time-start="2750.539" data-time-end="2751.919"><span>some code that is going to </span></span><span class="transcription-time-part" data-time-start="2751.919" data-time-end="2754.604"><span>take from the standard input. </span></span><span class="transcription-time-part" data-time-start="2754.604" data-time-end="2756.72"><span>I'm going to type somebody's name and how </span></span><span class="transcription-time-part" data-time-start="2756.72" data-time-end="2758.655"><span>much they borrowed for this transaction, </span></span><span class="transcription-time-part" data-time-start="2758.655" data-time-end="2759.959"><span>and how much somebody's name </span></span><span class="transcription-time-part" data-time-start="2759.959" data-time-end="2761.25"><span>and how much they borrowed, et cetera. </span></span><span class="transcription-time-part" data-time-start="2761.25" data-time-end="2763.455"><span>So I might say Fred, 10, </span></span><span class="transcription-time-part" data-time-start="2763.455" data-time-end="2767.834"><span>ethyl 5, Fred three, Lucy seven. </span></span><span class="transcription-time-part" data-time-start="2767.834" data-time-end="2770.445"><span>And when I'm done, </span></span><span class="transcription-time-part" data-time-start="2770.445" data-time-end="2771.6"><span>the program will, will </span></span><span class="transcription-time-part" data-time-start="2771.6" data-time-end="2773.399"><span>print out how much each person knows me. </span></span><span class="transcription-time-part" data-time-start="2773.399" data-time-end="2775.05"><span>So I list each individual </span></span><span class="transcription-time-part" data-time-start="2775.05" data-time-end="2776.58"><span>transaction on the input. </span></span><span class="transcription-time-part" data-time-start="2776.58" data-time-end="2780.585"><span>So let's do this. </span></span><span class="transcription-time-part" data-time-start="2780.585" data-time-end="2785.414"><span>I'm going to map somebody's name too. </span></span><span class="transcription-time-part" data-time-start="2785.414" data-time-end="2786.929"><span>How much they owe me. </span></span><span class="transcription-time-part" data-time-start="2786.929" data-time-end="2788.609"><span>This will be my IOUs map. </span></span><span class="transcription-time-part" data-time-start="2788.609" data-time-end="2789.839"><span>Okay, so that's less than any of </span></span><span class="transcription-time-part" data-time-start="2789.839" data-time-end="2791.64"><span>the map there, starts off empty. </span></span><span class="transcription-time-part" data-time-start="2791.64" data-time-end="2794.4"><span>So now let's read in the input. </span></span><span class="transcription-time-part" data-time-start="2794.4" data-time-end="2797.175"><span>So I'm going to repeatedly to things. </span></span><span class="transcription-time-part" data-time-start="2797.175" data-time-end="2798.945"><span>So, so this loop structure, </span></span><span class="transcription-time-part" data-time-start="2798.945" data-time-end="2800.76"><span>the condition of the loops, kinda funny. </span></span><span class="transcription-time-part" data-time-start="2800.76" data-time-end="2802.169"><span>It's going to read from </span></span><span class="transcription-time-part" data-time-start="2802.169" data-time-end="2804.765"><span>the standard input 1 words </span></span><span class="transcription-time-part" data-time-start="2804.765" data-time-end="2807.089"><span>separated by white spaces and Anna and </span></span><span class="transcription-time-part" data-time-start="2807.089" data-time-end="2809.82"><span>a number, skipping any whitespace. </span></span><span class="transcription-time-part" data-time-start="2809.82" data-time-end="2811.379"><span>So, so each iteration of this, </span></span><span class="transcription-time-part" data-time-start="2811.379" data-time-end="2812.189"><span>it's going to skip past </span></span><span class="transcription-time-part" data-time-start="2812.189" data-time-end="2813.869"><span>new lines and get the next word. </span></span><span class="transcription-time-part" data-time-start="2813.869" data-time-end="2815.399"><span>So I'm assuming all the person's name, </span></span><span class="transcription-time-part" data-time-start="2815.399" data-time-end="2816.434"><span>so just one word. </span></span><span class="transcription-time-part" data-time-start="2816.434" data-time-end="2821.04"><span>And if I successfully get these two items, </span></span><span class="transcription-time-part" data-time-start="2821.04" data-time-end="2824.114"><span>this expression will test true. </span></span><span class="transcription-time-part" data-time-start="2824.114" data-time-end="2826.14"><span>And if I don't successfully </span></span><span class="transcription-time-part" data-time-start="2826.14" data-time-end="2828.119"><span>get the two items because I, you know, </span></span><span class="transcription-time-part" data-time-start="2828.119" data-time-end="2831.149"><span>the end of my input, then </span></span><span class="transcription-time-part" data-time-start="2831.149" data-time-end="2833.31"><span>it will return false. </span></span><span class="transcription-time-part" data-time-start="2833.31" data-time-end="2835.275"><span>So on each iteration of the loop, </span></span><span class="transcription-time-part" data-time-start="2835.275" data-time-end="2836.894"><span>I've got a new name and an amount. </span></span><span class="transcription-time-part" data-time-start="2836.894" data-time-end="2838.049"><span>Now how do I stop this? </span></span><span class="transcription-time-part" data-time-start="2838.049" data-time-end="2838.949"><span>How do I indicate from </span></span><span class="transcription-time-part" data-time-start="2838.949" data-time-end="2842.115"><span>keyboard input that I'm done entering input? </span></span><span class="transcription-time-part" data-time-start="2842.115" data-time-end="2844.08"><span>Depends on your operating system. </span></span><span class="transcription-time-part" data-time-start="2844.08" data-time-end="2845.669"><span>The convention on Unix-based </span></span><span class="transcription-time-part" data-time-start="2845.669" data-time-end="2847.02"><span>systems like Mac OS and </span></span><span class="transcription-time-part" data-time-start="2847.02" data-time-end="2851.25"><span>Linux are that if you type a Control D, </span></span><span class="transcription-time-part" data-time-start="2851.25" data-time-end="2855.18"><span>Letter D, Control D on a line by itself, </span></span><span class="transcription-time-part" data-time-start="2855.18" data-time-end="2857.88"><span>that says, okay, no more input. </span></span><span class="transcription-time-part" data-time-start="2857.88" data-time-end="2859.619"><span>And then this will fail. </span></span><span class="transcription-time-part" data-time-start="2859.619" data-time-end="2861.345"><span>On a Windows system. </span></span><span class="transcription-time-part" data-time-start="2861.345" data-time-end="2864.105"><span>It's a Control Z and you hit Enter, </span></span><span class="transcription-time-part" data-time-start="2864.105" data-time-end="2867.165"><span>Control Z on a line by itself and hit enter. </span></span><span class="transcription-time-part" data-time-start="2867.165" data-time-end="2868.799"><span>And that's and a file </span></span><span class="transcription-time-part" data-time-start="2868.799" data-time-end="2870.99"><span>for keyboard input. Anyway. </span></span><span class="transcription-time-part" data-time-start="2870.99" data-time-end="2872.37"><span>So what do I want to do now? </span></span><span class="transcription-time-part" data-time-start="2872.37" data-time-end="2876.105"><span>What I want to do now is I want to, </span></span><span class="transcription-time-part" data-time-start="2876.105" data-time-end="2878.82"><span>if a name is already in the map, </span></span><span class="transcription-time-part" data-time-start="2878.82" data-time-end="2880.68"><span>I want to add the amount to </span></span><span class="transcription-time-part" data-time-start="2880.68" data-time-end="2882.809"><span>the associated amount with that name. </span></span><span class="transcription-time-part" data-time-start="2882.809" data-time-end="2884.685"><span>If it's not already in the map, </span></span><span class="transcription-time-part" data-time-start="2884.685" data-time-end="2886.289"><span>I want to make a new entry </span></span><span class="transcription-time-part" data-time-start="2886.289" data-time-end="2888.404"><span>that'll end up with that amount in it. </span></span><span class="transcription-time-part" data-time-start="2888.404" data-time-end="2892.049"><span>So there we go. That'll do it. </span></span><span class="transcription-time-part" data-time-start="2892.049" data-time-end="2893.729"><span>That's the code that builds up </span></span><span class="transcription-time-part" data-time-start="2893.729" data-time-end="2896.535"><span>my map and go, wow, what's going on here? </span></span><span class="transcription-time-part" data-time-start="2896.535" data-time-end="2898.769"><span>So the map type has </span></span><span class="transcription-time-part" data-time-start="2898.769" data-time-end="2901.53"><span>overloaded the square bracket operator. </span></span><span class="transcription-time-part" data-time-start="2901.53" data-time-end="2903.375"><span>So these square brackets </span></span><span class="transcription-time-part" data-time-start="2903.375" data-time-end="2905.504"><span>are not array subscripting. </span></span><span class="transcription-time-part" data-time-start="2905.504" data-time-end="2907.455"><span>These square brackets are </span></span><span class="transcription-time-part" data-time-start="2907.455" data-time-end="2910.019"><span>basically a member function </span></span><span class="transcription-time-part" data-time-start="2910.019" data-time-end="2912.3"><span>called operators, operator square brackets. </span></span><span class="transcription-time-part" data-time-start="2912.3" data-time-end="2913.919"><span>And what goes in </span></span><span class="transcription-time-part" data-time-start="2913.919" data-time-end="2915.06"><span>the square brackets is </span></span><span class="transcription-time-part" data-time-start="2915.06" data-time-end="2916.739"><span>a value of the key type. </span></span><span class="transcription-time-part" data-time-start="2916.739" data-time-end="2917.879"><span>In this case, the key is </span></span><span class="transcription-time-part" data-time-start="2917.879" data-time-end="2919.665"><span>the string, the person's name. </span></span><span class="transcription-time-part" data-time-start="2919.665" data-time-end="2923.714"><span>And what the IOUs square bracket name does </span></span><span class="transcription-time-part" data-time-start="2923.714" data-time-end="2926.789"><span>is if the name </span></span><span class="transcription-time-part" data-time-start="2926.789" data-time-end="2927.72"><span>it looks up the name in the, </span></span><span class="transcription-time-part" data-time-start="2927.72" data-time-end="2928.575"><span>in the, in the map. </span></span><span class="transcription-time-part" data-time-start="2928.575" data-time-end="2931.154"><span>If the name is already in the map, </span></span><span class="transcription-time-part" data-time-start="2931.154" data-time-end="2933.09"><span>then you get back a reference </span></span><span class="transcription-time-part" data-time-start="2933.09" data-time-end="2936.13"><span>to the associated double. </span></span><span class="transcription-time-part" data-time-start="2936.53" data-time-end="2938.999"><span>If the names not in ounces, </span></span><span class="transcription-time-part" data-time-start="2938.999" data-time-end="2940.379"><span>I'll say that again in a minute. </span></span><span class="transcription-time-part" data-time-start="2940.379" data-time-end="2942.164"><span>If the name is not in the map, </span></span><span class="transcription-time-part" data-time-start="2942.164" data-time-end="2943.724"><span>it makes a brand new entry </span></span><span class="transcription-time-part" data-time-start="2943.724" data-time-end="2946.064"><span>that associates that name </span></span><span class="transcription-time-part" data-time-start="2946.064" data-time-end="2951.659"><span>with a default value for the, </span></span><span class="transcription-time-part" data-time-start="2951.659" data-time-end="2954.599"><span>the, the, the corresponding value type. </span></span><span class="transcription-time-part" data-time-start="2954.599" data-time-end="2956.879"><span>For built-in types, that's going to be </span></span><span class="transcription-time-part" data-time-start="2956.879" data-time-end="2959.79"><span>0 for numbers or false for Booleans, </span></span><span class="transcription-time-part" data-time-start="2959.79" data-time-end="2961.589"><span>or null for pointers. </span></span><span class="transcription-time-part" data-time-start="2961.589" data-time-end="2963.179"><span>For class types, it'll </span></span><span class="transcription-time-part" data-time-start="2963.179" data-time-end="2965.054"><span>be a default constructed object. </span></span><span class="transcription-time-part" data-time-start="2965.054" data-time-end="2969.12"><span>So what happens the very first time is, </span></span><span class="transcription-time-part" data-time-start="2969.12" data-time-end="2970.859"><span>let me show you what's in my map here. </span></span><span class="transcription-time-part" data-time-start="2970.859" data-time-end="2973.269"><span>My map is empty right now. </span></span><span class="transcription-time-part" data-time-start="2973.64" data-time-end="2975.449"><span>So what happens the very </span></span><span class="transcription-time-part" data-time-start="2975.449" data-time-end="2976.47"><span>first time when I read in </span></span><span class="transcription-time-part" data-time-start="2976.47" data-time-end="2979.469"><span>Fred and 10 is </span></span><span class="transcription-time-part" data-time-start="2979.469" data-time-end="2983.685"><span>that IOUs square bracket name </span></span><span class="transcription-time-part" data-time-start="2983.685" data-time-end="2985.62"><span>is going to call the maps </span></span><span class="transcription-time-part" data-time-start="2985.62" data-time-end="2986.94"><span>operator square bracket function </span></span><span class="transcription-time-part" data-time-start="2986.94" data-time-end="2988.184"><span>passing it Fred. </span></span><span class="transcription-time-part" data-time-start="2988.184" data-time-end="2990.63"><span>And that's going to say is Fred in the map? </span></span><span class="transcription-time-part" data-time-start="2990.63" data-time-end="2993.239"><span>No. So I'm going to create a new entry in </span></span><span class="transcription-time-part" data-time-start="2993.239" data-time-end="2996.96"><span>the map that maps Fred to the </span></span><span class="transcription-time-part" data-time-start="2996.96" data-time-end="2998.49"><span>Default initial value that it's </span></span><span class="transcription-time-part" data-time-start="2998.49" data-time-end="2999.929"><span>going to use for built-in types, </span></span><span class="transcription-time-part" data-time-start="2999.929" data-time-end="3000.71"><span>which will be 0 for </span></span><span class="transcription-time-part" data-time-start="3000.71" data-time-end="3002.435"><span>a number then met Fred to 0. </span></span><span class="transcription-time-part" data-time-start="3002.435" data-time-end="3005.059"><span>And that returns a reference </span></span><span class="transcription-time-part" data-time-start="3005.059" data-time-end="3008.134"><span>to this double here. </span></span><span class="transcription-time-part" data-time-start="3008.134" data-time-end="3010.279"><span>So the storage of the map </span></span><span class="transcription-time-part" data-time-start="3010.279" data-time-end="3011.795"><span>that holds the name and the value, </span></span><span class="transcription-time-part" data-time-start="3011.795" data-time-end="3013.115"><span>you get a reference to that value, </span></span><span class="transcription-time-part" data-time-start="3013.115" data-time-end="3014.18"><span>a reference to that double, </span></span><span class="transcription-time-part" data-time-start="3014.18" data-time-end="3015.499"><span>another name for that double. </span></span><span class="transcription-time-part" data-time-start="3015.499" data-time-end="3017.24"><span>So I can do stuff with that double. </span></span><span class="transcription-time-part" data-time-start="3017.24" data-time-end="3019.129"><span>I can, I can store something into it. </span></span><span class="transcription-time-part" data-time-start="3019.129" data-time-end="3020.209"><span>I can look at its value. </span></span><span class="transcription-time-part" data-time-start="3020.209" data-time-end="3021.575"><span>If I look at its value, it will be 0. </span></span><span class="transcription-time-part" data-time-start="3021.575" data-time-end="3024.454"><span>But what I'm doing is doing both plus equals. </span></span><span class="transcription-time-part" data-time-start="3024.454" data-time-end="3025.955"><span>I'm going to look at the value in there, </span></span><span class="transcription-time-part" data-time-start="3025.955" data-time-end="3027.499"><span>add the amount, store it back. </span></span><span class="transcription-time-part" data-time-start="3027.499" data-time-end="3030.049"><span>So 0 plus it was Fred and </span></span><span class="transcription-time-part" data-time-start="3030.049" data-time-end="3033.949"><span>100 plus ten is ten. </span></span><span class="transcription-time-part" data-time-start="3033.949" data-time-end="3036.619"><span>Store that back and that double and we end </span></span><span class="transcription-time-part" data-time-start="3036.619" data-time-end="3042.299"><span>up with a new entry mapping Fred to 10. </span></span><span class="transcription-time-part" data-time-start="3043.24" data-time-end="3047.509"><span>Similarly, if we read ethyl and 5, </span></span><span class="transcription-time-part" data-time-start="3047.509" data-time-end="3049.1"><span>ethyl is not on the map, </span></span><span class="transcription-time-part" data-time-start="3049.1" data-time-end="3051.11"><span>so it'll be a new entry </span></span><span class="transcription-time-part" data-time-start="3051.11" data-time-end="3054.724"><span>that starts out this way. </span></span><span class="transcription-time-part" data-time-start="3054.724" data-time-end="3056.525"><span>But that returns a reference to the, </span></span><span class="transcription-time-part" data-time-start="3056.525" data-time-end="3058.55"><span>to the, to the storage that holds the 0. </span></span><span class="transcription-time-part" data-time-start="3058.55" data-time-end="3060.304"><span>We'll add five to it. </span></span><span class="transcription-time-part" data-time-start="3060.304" data-time-end="3062.884"><span>And Ethel was fine. </span></span><span class="transcription-time-part" data-time-start="3062.884" data-time-end="3067.355"><span>When we get Fred and 3. </span></span><span class="transcription-time-part" data-time-start="3067.355" data-time-end="3072.755"><span>Then IOUs sub fread is going to say, </span></span><span class="transcription-time-part" data-time-start="3072.755" data-time-end="3074.24"><span>Oh friends already in the table. </span></span><span class="transcription-time-part" data-time-start="3074.24" data-time-end="3077.045"><span>So I'll return a reference to that double. </span></span><span class="transcription-time-part" data-time-start="3077.045" data-time-end="3079.43"><span>And what are we gonna do with that double? </span></span><span class="transcription-time-part" data-time-start="3079.43" data-time-end="3081.649"><span>We're going to add three to it. </span></span><span class="transcription-time-part" data-time-start="3081.649" data-time-end="3084.634"><span>So it has the three and makes that 13. </span></span><span class="transcription-time-part" data-time-start="3084.634" data-time-end="3085.789"><span>And then Lucy was </span></span><span class="transcription-time-part" data-time-start="3085.789" data-time-end="3087.109"><span>another, another new person. </span></span><span class="transcription-time-part" data-time-start="3087.109" data-time-end="3089.675"><span>So, so it created Lucy, </span></span><span class="transcription-time-part" data-time-start="3089.675" data-time-end="3093.754"><span>map that to 0 and then added the 72. </span></span><span class="transcription-time-part" data-time-start="3093.754" data-time-end="3096.63"><span>So when we're all done here, </span></span><span class="transcription-time-part" data-time-start="3096.79" data-time-end="3099.5"><span>this one little loop has read </span></span><span class="transcription-time-part" data-time-start="3099.5" data-time-end="3103.039"><span>in lines of input and build up the table. </span></span><span class="transcription-time-part" data-time-start="3103.039" data-time-end="3107.699"><span>So if we want to, </span></span><span class="transcription-time-part" data-time-start="3107.95" data-time-end="3111.079"><span>we want to visit all the items in the table. </span></span><span class="transcription-time-part" data-time-start="3111.079" data-time-end="3113.225"><span>We can say. </span></span><span class="transcription-time-part" data-time-start="3113.225" data-time-end="3115.609"><span>Let's create an iterator </span></span><span class="transcription-time-part" data-time-start="3115.609" data-time-end="3117.829"><span>back and point into this kind of map. </span></span><span class="transcription-time-part" data-time-start="3117.829" data-time-end="3119.359"><span>Start at the beginning, </span></span><span class="transcription-time-part" data-time-start="3119.359" data-time-end="3120.379"><span>stand the loop as long as </span></span><span class="transcription-time-part" data-time-start="3120.379" data-time-end="3123.335"><span>we're not at the end, et cetera. </span></span><span class="transcription-time-part" data-time-start="3123.335" data-time-end="3125.494"><span>Now, here's the thing. </span></span><span class="transcription-time-part" data-time-start="3125.494" data-time-end="3127.324"><span>How's the map actually stored? </span></span><span class="transcription-time-part" data-time-start="3127.324" data-time-end="3130.07"><span>The map is going to be a collection of items. </span></span><span class="transcription-time-part" data-time-start="3130.07" data-time-end="3133.009"><span>And the collection of </span></span><span class="transcription-time-part" data-time-start="3133.009" data-time-end="3137.34"><span>items is actually of a type, </span></span><span class="transcription-time-part" data-time-start="3137.74" data-time-end="3141.289"><span>library type called pair. </span></span><span class="transcription-time-part" data-time-start="3141.289" data-time-end="3143.539"><span>I'll simplify it and just call it a </span></span><span class="transcription-time-part" data-time-start="3143.539" data-time-end="3145.849"><span>pair consisting of a string and an int. </span></span><span class="transcription-time-part" data-time-start="3145.849" data-time-end="3147.38"><span>Now, a pair is </span></span><span class="transcription-time-part" data-time-start="3147.38" data-time-end="3150.17"><span>a standard library datatype that is nothing </span></span><span class="transcription-time-part" data-time-start="3150.17" data-time-end="3152.57"><span>more than a structure that has </span></span><span class="transcription-time-part" data-time-start="3152.57" data-time-end="3155.54"><span>two public data members called first, </span></span><span class="transcription-time-part" data-time-start="3155.54" data-time-end="3161.36"><span>second, first is of the key type here. </span></span><span class="transcription-time-part" data-time-start="3161.36" data-time-end="3165.395"><span>Second is of the values, </span></span><span class="transcription-time-part" data-time-start="3165.395" data-time-end="3168.304"><span>I'm sorry, sorry, pair of string and double. </span></span><span class="transcription-time-part" data-time-start="3168.304" data-time-end="3170.21"><span>My map, it contains </span></span><span class="transcription-time-part" data-time-start="3170.21" data-time-end="3171.815"><span>strings mapping to doubles. </span></span><span class="transcription-time-part" data-time-start="3171.815" data-time-end="3175.279"><span>And second is of that, that value type there. </span></span><span class="transcription-time-part" data-time-start="3175.279" data-time-end="3177.289"><span>So, okay, so the map </span></span><span class="transcription-time-part" data-time-start="3177.289" data-time-end="3178.744"><span>is a bunch of these pairs, </span></span><span class="transcription-time-part" data-time-start="3178.744" data-time-end="3180.14"><span>these little structures that have </span></span><span class="transcription-time-part" data-time-start="3180.14" data-time-end="3181.595"><span>a first, second component, </span></span><span class="transcription-time-part" data-time-start="3181.595" data-time-end="3185.179"><span>Fred and 13, or ethyl and five, et cetera. </span></span><span class="transcription-time-part" data-time-start="3185.179" data-time-end="3187.46"><span>And if you want </span></span><span class="transcription-time-part" data-time-start="3187.46" data-time-end="3190.295"><span>to get it the values in the pair, </span></span><span class="transcription-time-part" data-time-start="3190.295" data-time-end="3191.749"><span>you have to, you access </span></span><span class="transcription-time-part" data-time-start="3191.749" data-time-end="3193.159"><span>those public data members </span></span><span class="transcription-time-part" data-time-start="3193.159" data-time-end="3194.84"><span>called first, second. </span></span><span class="transcription-time-part" data-time-start="3194.84" data-time-end="3200.66"><span>So for example, if p is pointing to two, </span></span><span class="transcription-time-part" data-time-start="3200.66" data-time-end="3202.055"><span>to one of the items in the pair, </span></span><span class="transcription-time-part" data-time-start="3202.055" data-time-end="3203.66"><span>what I like to do is say </span></span><span class="transcription-time-part" data-time-start="3203.66" data-time-end="3205.804"><span>ran out that person's name. </span></span><span class="transcription-time-part" data-time-start="3205.804" data-time-end="3207.374"><span>Again. </span></span><span class="transcription-time-part" data-time-start="3207.374" data-time-end="3209.964"><span>To remember is called first. </span></span><span class="transcription-time-part" data-time-start="3209.964" data-time-end="3212.869"><span>And it's a data member, non-member function. </span></span><span class="transcription-time-part" data-time-start="3215.58" data-time-end="3218.169"><span>And then I'll write out some string. </span></span><span class="transcription-time-part" data-time-start="3218.169" data-time-end="3222.189"><span>And then I'll write out how </span></span><span class="transcription-time-part" data-time-start="3222.189" data-time-end="3223.03"><span>much they owe me, </span></span><span class="transcription-time-part" data-time-start="3223.03" data-time-end="3225.289"><span>which is the second component. </span></span><span class="transcription-time-part" data-time-start="3225.57" data-time-end="3228.714"><span>And the output here is </span></span><span class="transcription-time-part" data-time-start="3228.714" data-time-end="3233.529"><span>guaranteed to be ethyl owes me $5. </span></span><span class="transcription-time-part" data-time-start="3233.529" data-time-end="3239.095"><span>Fred owes me $13. </span></span><span class="transcription-time-part" data-time-start="3239.095" data-time-end="3245.74"><span>And we see me seven dots. </span></span><span class="transcription-time-part" data-time-start="3245.74" data-time-end="3248.319"><span>Because the iterator through </span></span><span class="transcription-time-part" data-time-start="3248.319" data-time-end="3250.059"><span>a map is going to </span></span><span class="transcription-time-part" data-time-start="3250.059" data-time-end="3253.24"><span>visit all of the pairs </span></span><span class="transcription-time-part" data-time-start="3253.24" data-time-end="3256.645"><span>in increasing order of the key. </span></span><span class="transcription-time-part" data-time-start="3256.645" data-time-end="3263.539"><span>So a requirement for map is the, </span></span><span class="transcription-time-part" data-time-start="3269.16" data-time-end="3273.17"><span>the key type requires </span></span><span class="transcription-time-part" data-time-start="3273.17" data-time-end="3275.545"><span>less than offering which string, </span></span><span class="transcription-time-part" data-time-start="3275.545" data-time-end="3283.879"><span>which string has, of course. Okay? </span></span><span class="transcription-time-part" data-time-start="3283.92" data-time-end="3287.049"><span>So are guaranteed the pairs in the map </span></span><span class="transcription-time-part" data-time-start="3287.049" data-time-end="3288.759"><span>we visited in alphabetical order, </span></span><span class="transcription-time-part" data-time-start="3288.759" data-time-end="3289.39"><span>the strengths. </span></span><span class="transcription-time-part" data-time-start="3289.39" data-time-end="3293.06"><span>So ethyl before Fred, Fred before Lucy. </span></span><span class="transcription-time-part" data-time-start="3295.41" data-time-end="3297.94"><span>Now there's more you can do with a map and, </span></span><span class="transcription-time-part" data-time-start="3297.94" data-time-end="3299.665"><span>and you know, </span></span><span class="transcription-time-part" data-time-start="3299.665" data-time-end="3300.984"><span>that don't really wanna get there. </span></span><span class="transcription-time-part" data-time-start="3300.984" data-time-end="3302.169"><span>I'm just, I just mostly pointing </span></span><span class="transcription-time-part" data-time-start="3302.169" data-time-end="3304.45"><span>out these types are available in library. </span></span><span class="transcription-time-part" data-time-start="3304.45" data-time-end="3305.439"><span>But what does that have to do with </span></span><span class="transcription-time-part" data-time-start="3305.439" data-time-end="3306.714"><span>what we're talking about here? </span></span><span class="transcription-time-part" data-time-start="3306.714" data-time-end="3308.919"><span>Oh, and maps, let you look up things by key. </span></span><span class="transcription-time-part" data-time-start="3308.919" data-time-end="3311.229"><span>There's a find function given a key, </span></span><span class="transcription-time-part" data-time-start="3311.229" data-time-end="3313.09"><span>you call find on the map </span></span><span class="transcription-time-part" data-time-start="3313.09" data-time-end="3314.71"><span>and it gives you back a iterator </span></span><span class="transcription-time-part" data-time-start="3314.71" data-time-end="3316.659"><span>pointing to the pair that has that key or </span></span><span class="transcription-time-part" data-time-start="3316.659" data-time-end="3319.479"><span>the end iterator if it doesn't, and so on. </span></span><span class="transcription-time-part" data-time-start="3319.479" data-time-end="3323.889"><span>Well, the requirements and standards </span></span><span class="transcription-time-part" data-time-start="3323.889" data-time-end="3326.185"><span>are that if you </span></span><span class="transcription-time-part" data-time-start="3326.185" data-time-end="3327.46"><span>iterate through a set and </span></span><span class="transcription-time-part" data-time-start="3327.46" data-time-end="3329.124"><span>there's multimap that allows multiple keys. </span></span><span class="transcription-time-part" data-time-start="3329.124" data-time-end="3330.729"><span>If you visit, if you iterate </span></span><span class="transcription-time-part" data-time-start="3330.729" data-time-end="3332.439"><span>through a set or a map, </span></span><span class="transcription-time-part" data-time-start="3332.439" data-time-end="3334.39"><span>from beginning to end, </span></span><span class="transcription-time-part" data-time-start="3334.39" data-time-end="3338.54"><span>you will visit the keys in increasing order. </span></span><span class="transcription-time-part" data-time-start="3338.8" data-time-end="3342.484"><span>There's also a guarantee that the, </span></span><span class="transcription-time-part" data-time-start="3342.484" data-time-end="3344.135"><span>the bounds on the BP, </span></span><span class="transcription-time-part" data-time-start="3344.135" data-time-end="3345.665"><span>the time it takes to insert </span></span><span class="transcription-time-part" data-time-start="3345.665" data-time-end="3347.119"><span>or look things up or remove </span></span><span class="transcription-time-part" data-time-start="3347.119" data-time-end="3350.825"><span>things is order log n. That pretty much says, </span></span><span class="transcription-time-part" data-time-start="3350.825" data-time-end="3352.07"><span>Okay, I can, so I can implement </span></span><span class="transcription-time-part" data-time-start="3352.07" data-time-end="3353.09"><span>a set by that performance, </span></span><span class="transcription-time-part" data-time-start="3353.09" data-time-end="3355.174"><span>I can implement a set with any data structure </span></span><span class="transcription-time-part" data-time-start="3355.174" data-time-end="3357.62"><span>that makes those operations log n. </span></span><span class="transcription-time-part" data-time-start="3357.62" data-time-end="3359.959"><span>Or significantly better if I can come up </span></span><span class="transcription-time-part" data-time-start="3359.959" data-time-end="3362.089"><span>with on, hey, how about a hash table? </span></span><span class="transcription-time-part" data-time-start="3362.089" data-time-end="3363.29"><span>I see that's better than log n is </span></span><span class="transcription-time-part" data-time-start="3363.29" data-time-end="3364.819"><span>order one right up. </span></span><span class="transcription-time-part" data-time-start="3364.819" data-time-end="3366.529"><span>But there's this requirement that you </span></span><span class="transcription-time-part" data-time-start="3366.529" data-time-end="3368.765"><span>visit items in sorted order. </span></span><span class="transcription-time-part" data-time-start="3368.765" data-time-end="3370.07"><span>And that kind of rules out </span></span><span class="transcription-time-part" data-time-start="3370.07" data-time-end="3371.059"><span>the hash table because items </span></span><span class="transcription-time-part" data-time-start="3371.059" data-time-end="3371.749"><span>are scattered all over </span></span><span class="transcription-time-part" data-time-start="3371.749" data-time-end="3372.32"><span>the bucket so you don't </span></span><span class="transcription-time-part" data-time-start="3372.32" data-time-end="3373.204"><span>know what order they're in. </span></span><span class="transcription-time-part" data-time-start="3373.204" data-time-end="3375.559"><span>So, so basically the implication </span></span><span class="transcription-time-part" data-time-start="3375.559" data-time-end="3378.064"><span>is they're thinking of </span></span><span class="transcription-time-part" data-time-start="3378.064" data-time-end="3379.95"><span>a binary search tree implementation. </span></span><span class="transcription-time-part" data-time-start="3379.95" data-time-end="3381.324"><span>And indeed, in </span></span><span class="transcription-time-part" data-time-start="3381.324" data-time-end="3382.599"><span>pretty much every SCC Blanco </span></span><span class="transcription-time-part" data-time-start="3382.599" data-time-end="3383.859"><span>standard libraries is of </span></span><span class="transcription-time-part" data-time-start="3383.859" data-time-end="3386.004"><span>course going to use a red black tree </span></span><span class="transcription-time-part" data-time-start="3386.004" data-time-end="3388.509"><span>to implement sets and maps. </span></span><span class="transcription-time-part" data-time-start="3388.509" data-time-end="3392.005"><span>Now, there are hash table implementations </span></span><span class="transcription-time-part" data-time-start="3392.005" data-time-end="3396.1"><span>and those are called unordered set. </span></span><span class="transcription-time-part" data-time-start="3396.1" data-time-end="3399.97"><span>So I can have unordered set. </span></span><span class="transcription-time-part" data-time-start="3399.97" data-time-end="3401.86"><span>And I'll fix the other ones in a minute, </span></span><span class="transcription-time-part" data-time-start="3401.86" data-time-end="3403.45"><span>but I have to correct a few things. </span></span><span class="transcription-time-part" data-time-start="3403.45" data-time-end="3405.04"><span>Now that does not require </span></span><span class="transcription-time-part" data-time-start="3405.04" data-time-end="3406.48"><span>a less than operator. </span></span><span class="transcription-time-part" data-time-start="3406.48" data-time-end="3408.19"><span>It does require </span></span><span class="transcription-time-part" data-time-start="3408.19" data-time-end="3410.515"><span>an equality comparison operator </span></span><span class="transcription-time-part" data-time-start="3410.515" data-time-end="3411.849"><span>and a half function. </span></span><span class="transcription-time-part" data-time-start="3411.849" data-time-end="3415.464"><span>Now, the standard library provides </span></span><span class="transcription-time-part" data-time-start="3415.464" data-time-end="3417.73"><span>the hashed class template </span></span><span class="transcription-time-part" data-time-start="3417.73" data-time-end="3419.2"><span>that I had mentioned before for </span></span><span class="transcription-time-part" data-time-start="3419.2" data-time-end="3420.79"><span>all the built-in types and </span></span><span class="transcription-time-part" data-time-start="3420.79" data-time-end="3423.035"><span>the string type and types. </span></span><span class="transcription-time-part" data-time-start="3423.035" data-time-end="3426.26"><span>So generally, almost always, </span></span><span class="transcription-time-part" data-time-start="3426.26" data-time-end="3428.119"><span>certainly when we're using a map sets </span></span><span class="transcription-time-part" data-time-start="3428.119" data-time-end="3429.755"><span>are much less commonly used in maps. </span></span><span class="transcription-time-part" data-time-start="3429.755" data-time-end="3432.844"><span>The key types are pretty universally, </span></span><span class="transcription-time-part" data-time-start="3432.844" data-time-end="3434.69"><span>almost always answer or strings, </span></span><span class="transcription-time-part" data-time-start="3434.69" data-time-end="3435.56"><span>and we have hash functions </span></span><span class="transcription-time-part" data-time-start="3435.56" data-time-end="3436.64"><span>from the standard library for that. </span></span><span class="transcription-time-part" data-time-start="3436.64" data-time-end="3438.335"><span>So we don't say anything about that. </span></span><span class="transcription-time-part" data-time-start="3438.335" data-time-end="3441.02"><span>The one thing we don't get anymore </span></span><span class="transcription-time-part" data-time-start="3441.02" data-time-end="3444.41"><span>isn't a guarantee of any particular order. </span></span><span class="transcription-time-part" data-time-start="3444.41" data-time-end="3447.29"><span>So if you visit the items in </span></span><span class="transcription-time-part" data-time-start="3447.29" data-time-end="3450.395"><span>an unordered set from beginning to end, </span></span><span class="transcription-time-part" data-time-start="3450.395" data-time-end="3451.79"><span>you have no guarantee </span></span><span class="transcription-time-part" data-time-start="3451.79" data-time-end="3452.659"><span>what order they're going to be. </span></span><span class="transcription-time-part" data-time-start="3452.659" data-time-end="3454.309"><span>And it's basically going to be going through </span></span><span class="transcription-time-part" data-time-start="3454.309" data-time-end="3456.169"><span>the items in the hash table and you know, </span></span><span class="transcription-time-part" data-time-start="3456.169" data-time-end="3458.18"><span>probably say like bucket by bucket </span></span><span class="transcription-time-part" data-time-start="3458.18" data-time-end="3460.34"><span>or by some other, some other scheme. </span></span><span class="transcription-time-part" data-time-start="3460.34" data-time-end="3461.99"><span>Certainly not based on </span></span><span class="transcription-time-part" data-time-start="3461.99" data-time-end="3463.28"><span>the less than operator </span></span><span class="transcription-time-part" data-time-start="3463.28" data-time-end="3464.685"><span>comparison to the values. </span></span><span class="transcription-time-part" data-time-start="3464.685" data-time-end="3466.269"><span>Hash tables don't work that way. </span></span><span class="transcription-time-part" data-time-start="3466.269" data-time-end="3467.049"><span>You have a hash function to </span></span><span class="transcription-time-part" data-time-start="3467.049" data-time-end="3468.505"><span>scatters things among buckets. </span></span><span class="transcription-time-part" data-time-start="3468.505" data-time-end="3470.739"><span>You know, if, if, </span></span><span class="transcription-time-part" data-time-start="3470.739" data-time-end="3472.15"><span>if I go in this bucket, </span></span><span class="transcription-time-part" data-time-start="3472.15" data-time-end="3474.204"><span>the next consecutive item that, </span></span><span class="transcription-time-part" data-time-start="3474.204" data-time-end="3475.66"><span>that would be in my traversal </span></span><span class="transcription-time-part" data-time-start="3475.66" data-time-end="3477.37"><span>if I were doing, you know, </span></span><span class="transcription-time-part" data-time-start="3477.37" data-time-end="3478.75"><span>doing things in order, might be </span></span><span class="transcription-time-part" data-time-start="3478.75" data-time-end="3480.16"><span>in a bucket far away, </span></span><span class="transcription-time-part" data-time-start="3480.16" data-time-end="3480.88"><span>totally different </span></span><span class="transcription-time-part" data-time-start="3480.88" data-time-end="3481.929"><span>inserted at a different time. </span></span><span class="transcription-time-part" data-time-start="3481.929" data-time-end="3483.519"><span>So, so you don't, </span></span><span class="transcription-time-part" data-time-start="3483.519" data-time-end="3484.884"><span>You lose the guarantee </span></span><span class="transcription-time-part" data-time-start="3484.884" data-time-end="3486.924"><span>of visiting items in order. </span></span><span class="transcription-time-part" data-time-start="3486.924" data-time-end="3488.649"><span>And that's going to be true for, </span></span><span class="transcription-time-part" data-time-start="3488.649" data-time-end="3491.935"><span>for, for, for all of these. </span></span><span class="transcription-time-part" data-time-start="3491.935" data-time-end="3496.899"><span>So, so for unordered multiset, </span></span><span class="transcription-time-part" data-time-start="3496.899" data-time-end="3502.569"><span>unordered, unordered map, unordered multimap. </span></span><span class="transcription-time-part" data-time-start="3502.569" data-time-end="3506.259"><span>We, we lose the guarantee </span></span><span class="transcription-time-part" data-time-start="3506.259" data-time-end="3509.809"><span>of a visiting things in order. </span></span><span class="transcription-time-part" data-time-start="3509.809" data-time-end="3511.22"><span>So again, the requirements are the </span></span><span class="transcription-time-part" data-time-start="3511.22" data-time-end="3512.374"><span>same for the key type. </span></span><span class="transcription-time-part" data-time-start="3512.374" data-time-end="3513.994"><span>Key type requires </span></span><span class="transcription-time-part" data-time-start="3513.994" data-time-end="3519.785"><span>equality comparison and a hash function. </span></span><span class="transcription-time-part" data-time-start="3519.785" data-time-end="3522.829"><span>So given that the performance requirements </span></span><span class="transcription-time-part" data-time-start="3522.829" data-time-end="3526.069"><span>for unordered set, unordered Map, etc. </span></span><span class="transcription-time-part" data-time-start="3526.069" data-time-end="3529.159"><span>Are that insertion deletion and </span></span><span class="transcription-time-part" data-time-start="3529.159" data-time-end="3530.81"><span>lookup have to be </span></span><span class="transcription-time-part" data-time-start="3530.81" data-time-end="3532.984"><span>constant time bounded by </span></span><span class="transcription-time-part" data-time-start="3532.984" data-time-end="3534.83"><span>time compounded by constant. </span></span><span class="transcription-time-part" data-time-start="3534.83" data-time-end="3537.2"><span>And there's no guarantee </span></span><span class="transcription-time-part" data-time-start="3537.2" data-time-end="3539.45"><span>that you visit items in any particular order. </span></span><span class="transcription-time-part" data-time-start="3539.45" data-time-end="3541.129"><span>And there has to be </span></span><span class="transcription-time-part" data-time-start="3541.129" data-time-end="3543.259"><span>a hash function that </span></span><span class="transcription-time-part" data-time-start="3543.259" data-time-end="3544.549"><span>pretty much says hash </span></span><span class="transcription-time-part" data-time-start="3544.549" data-time-end="3546.169"><span>tables are going to be the implementation. </span></span><span class="transcription-time-part" data-time-start="3546.169" data-time-end="3548.569"><span>And that's what pretty much libraries do. </span></span><span class="transcription-time-part" data-time-start="3548.569" data-time-end="3551.029"><span>Okay, So somebody using </span></span><span class="transcription-time-part" data-time-start="3551.029" data-time-end="3552.655"><span>C plus plus standard library, </span></span><span class="transcription-time-part" data-time-start="3552.655" data-time-end="3554.09"><span>standard library curve for </span></span><span class="transcription-time-part" data-time-start="3554.09" data-time-end="3556.025"><span>hash tables are binary search trees. </span></span><span class="transcription-time-part" data-time-start="3556.025" data-time-end="3557.614"><span>When you don't build your own anymore, </span></span><span class="transcription-time-part" data-time-start="3557.614" data-time-end="3559.309"><span>use the standard library ones there. </span></span><span class="transcription-time-part" data-time-start="3559.309" data-time-end="3561.275"><span>They're nicely done, an optimized, etc. </span></span><span class="transcription-time-part" data-time-start="3561.275" data-time-end="3564.094"><span>But as with a lot of the types in this class, </span></span><span class="transcription-time-part" data-time-start="3564.094" data-time-end="3565.969"><span>the experience of doing it once </span></span><span class="transcription-time-part" data-time-start="3565.969" data-time-end="3567.77"><span>yourself to help you </span></span><span class="transcription-time-part" data-time-start="3567.77" data-time-end="3569.15"><span>visualize how it all works and </span></span><span class="transcription-time-part" data-time-start="3569.15" data-time-end="3571.399"><span>everything will help you in the long run, </span></span><span class="transcription-time-part" data-time-start="3571.399" data-time-end="3572.479"><span>even if you're using library </span></span><span class="transcription-time-part" data-time-start="3572.479" data-time-end="3574.46"><span>types from now in the future. </span></span><span class="transcription-time-part" data-time-start="3574.46" data-time-end="3575.81"><span>Because you now know kind of </span></span><span class="transcription-time-part" data-time-start="3575.81" data-time-end="3577.475"><span>why think how things work and </span></span><span class="transcription-time-part" data-time-start="3577.475" data-time-end="3580.1"><span>why certain operations don't </span></span><span class="transcription-time-part" data-time-start="3580.1" data-time-end="3581.389"><span>make sense based on </span></span><span class="transcription-time-part" data-time-start="3581.389" data-time-end="3583.804"><span>the way that the, the types represented. </span></span><span class="transcription-time-part" data-time-start="3583.804" data-time-end="3589.289"><span>Okay, Then let's, let's stop here then. </span></span></div>
</div>